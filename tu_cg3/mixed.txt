
    +https://tu-dresden.de/ing/informatik/smt/cgv/studium/lehrveranstaltungen/ws1920/cg3
        it is about global illumination, physically based simulation
        phy. rendering 
            Rendering equation
            Stochastic rendering
            Realistic materials
            Cache Based GI Methods
            sampling techniques 
            path based rendering
            advanced materials
        phy. simulation
            Newtonian Physics
            Contact Handling
            Particle Based Simulation
            Rigid bodies
            Fluids
        radiance vs irradiance 
            radiance是可以积累的，能量流，irr是单位面积上的
            irr描绘了Radiometry Power
            radiant exitance or radiosity和irr类似，是不同方向上的，一个入社一个出 
    *review resources 
        1. ql from slides 
        2. ql official questions 
        3. ql from pic notes 
        4. active mode! 
    ---keywords 
        > qq 
        > pp 
        > tobecontinue
        > tobere 
    ---preview
        extended know. search online, as prepare and concreate understanding 
            from interest
                //用于提升兴趣
                数值方法
                数值优化
                计算流体力CFD
                    基本没有计算流体的基础，在老板的催促下，从零基础到改代码也只用了2个月，我来从一个本科生的低端视角谈谈入门计算流体。
                    你得搞清楚conservative form的NS equation，因为我们本科学的那种用物质导数写的动量守恒是不好解的。
                    你会发现其实解NS方程跟wave equation也没啥大的差别。只不过，Ns里面的conserved variable是个vector.
                    通过Riemann solver求解interface flux，再通过flux correction得到continuous flux。这几个步骤用到的数学知识也就是简单的插值
                    看Toro那本书也就能懂黎曼求解器了
                    一些流体力学、传热学的基础知识，几个基本方程要知道，几类边界条件得明白
                    然后学习一下简单的数值计算，例如如何用数值方法近似计算微分、如何用矩阵的形势表示方程组等
                    如果是打算自己编程算的话，那么就在高性能数值计算这个方向上深挖，主要就是如何进行大尺度矩阵运算
                    大尺度矩阵运算
                    首先最基本的控制方程，不管是欧拉还是NS，层流还是湍流，如果做aeroacoustics还有波动方程和lighthill analogy等等
                    方保镕的《矩阵论》还是不错的
                SVBRDF/ 
            from slides detail
                brdf材质
                smoke simulation paper 
                    exploits physics unique to smoke in order to design a  numerical method
                    relatively  coarse grids
                    as compared to the much finer grids used in the computational  fluid dynamics literature
                    We use the inviscid Euler equations in  our model
                    since they are usually more appropriate for gas modeling and less computationally intensive than the viscous NavierStokes equations used by others.
                    Our model also correctly handles the interaction of 
                        smoke with moving objects.
                    interaction 
                    smoke is highly complex and  turbulent.
                    Visual smoke models have many obvious applications in  
                        the industry including special effects and interactive games
                    both be easy to use and produce  highly realistic results.
                    Only recently have researchers  in computer graphics 
                        started to excavate the abundant CFD literature 
                    Unfortunately, current CG smoke models are  either 
                        too slow or suffer from too much numerical dissipation.
                    numerical dissipation
    ---detailview
        pruf-re-ok- slides-intro 
            Physically
            Physically Based Graphics
            tt paper http://blog.mmacklin.com/project/flex
            Newtonian Physics
            Contact Handling
            https://research.nvidia.com/publication/interactive-indirect-illumination-using-voxel-cone-tracing
            tt papers page 5! 
            https://developer.download.nvidia.com/SDK/10.5/direct3d/Source/ScreenSpaceAO/doc/ScreenSpaceAO.pdf

            +qq Computational fluid dynamics - Wikipedia
                a branch of fluid mechanics that uses numerical analysis and data structures to analyze and solve problems that involve fluid flows.
                interaction of the fluid (liquids and gases) with surfaces defined by boundary conditions.
                complex simulation scenarios such as transonic or turbulent flows
                qq what are typicall complicated computing cases? x2 
                    transonic or turbulent flows
                wind tunnels.
                full-scale testing
                aerodynamics and aerospace analysis, weather simulation
                fluid flows and heat transfer, and engine and combustion analysis.
                The volume occupied by the fluid is divided into discrete cells (the mesh). The mesh may be uniform or non-uniform, structured or unstructured, consisting of a combination of hexahedral, tetrahedral
                prismatic, pyramidal or polyhedral elements.
                During preprocessing
                what we do typically when doing pre processing ? 
                https://en.wikipedia.org/wiki/Computational_fluid_dynamics#Turbulence_models
                Methodology
                Boundary conditions are defined. This involves specifying the fluid behaviour and properties 
                For transient problems, the initial conditions are also defined.
                steady-state or transient.
                postprocessor 
                visualization 
                analysis 
                Reynolds number turbulent flows
                combustion
                are recast in a conservative form
                and then solved over discrete control volumes.
                The finite element method (FEM) is used in structural analysis of solids
                qq whats the diff. bet. FVM and FEM
                    The finite volume method (FVM)
                        is a common approach used in CFD codes
                    structural analysis of solids, but is also applicable to fluids
                    special care to ensure a conservative solution.
                    much more stable than the finite volume approach
                    FEM can require more memory and has 
                        slower solution times than the FVM.
                    slower
                    more stable
                这是“经典”或者说标准的方法，在商用软件和研究用程序中最为常见
                有限差分方法。这个方法有历史上的意义而且易于编程。现在只在特殊化的代码中使用
                雷诺平均纳维－斯托克斯方程（RANS）是湍流最古老的方法
                qq how can we model the fluids? 
                    * 对于不粘滞流体用欧拉方程，对于粘滞流体用纳维-斯托克斯方程
                光滑粒子流体动力学
                smoothed-particle hydrodynamics, SPH）
                模拟连续介质动力学的计算方法，如固体力学和流体流动。
                无网格的拉格朗日方法（即坐标系与流体一起移动）
                mechanics of continuum media
            拉格朗日乘数法
                最优化问题中应用,寻找多元函数在其变量受到一个或多个条件的约束时的极值的方法
                    一个有n个变量与k个约束条件的最优化问题转换为一个解有n + k个变量的方程组的解的问题
                这种方法中引入了一个或一组新的未知数，
                    即拉格朗日乘数，又称拉格朗日乘子，
                    或拉氏乘子,比如
                    https://zh.wikipedia.org/wiki/%E6%8B%89%E6%A0%BC%E6%9C%97%E6%97%A5%E4%B9%98%E6%95%B0
                * 其核心就是把约束变量引入了一个方程之中，不然怎么关联？ 应该还有别的关联方法
                qq what is lageridian multiplier? how it was used? 
                    strategy for finding the local maxima and minima of a function 
                        subject to equality constraints
                    find the stationary points
                    The great advantage of this method is that it allows the 
                        optimization to be solved 
                        without explicit parameterization in 
                        terms of the constraints
                    widely used to solve challenging constrained optimization problems
                    	the method of Lagrange multipliers is generalized by the Karush–Kuhn–Tucker conditions, which can also take into account inequality constraints of the form {\displaystyle h(\mathbf {x} )\leq c}{\displaystyle h(\mathbf {x} )\leq c}.
                    it can handle Multiple constraints
                    Modern formulation
                    Interpretation of the Lagrange multipliers
                    Numerical optimization
                    The critical points of Lagrangians occur at saddle points, rather than at local maxima (or minima)
                    many numerical optimization techniques, such as hill climbing, gradient descent, some of the quasi-Newton methods,
                    https://en.wikipedia.org/wiki/Lagrange_multiplier#Multiple_constraints
                    * 
                        a method to find the local maxima and minima
                            of a function subject to equality constraints
                            it can also be generalized to ... 
                        it solves introducing a new variable
                拉格朗日乘数法含n个变量和k个约束的情况
                拉格朗日乘数法的正确性的证明
                    qql proof it!
                    qql fomula
                Lagrange function (or Lagrangian or Lagrangian expression
                We introduce a new variable ({\displaystyle \lambda }\lambda ) 
                    called a Lagrange multiplier 
                    (or Lagrange undetermined multiplier) 
                the {\displaystyle \lambda }\lambda  term may be either added or subtracted
                Multiple constraints
                solving {\displaystyle n+M}{\displaystyle n+M} equations in {\displaystyle n+M}{\displaystyle n+M} unknowns
                Modern formulation via differentiable manifolds
                tt code! IK 
            hydrodynamics
            qq what is the diff. bet. cfd and sph?
                cfd indicates computational fluid dynamics 
                    cfd is larger concept 
                sph is: Smoothed-particle hydrodynamics
                    sph is a non-grid based method 
            CFD applications
            结构计算方法
                一般分为有限元（FEM finite element method）、
                离散元（DEM discrete element method）、
                还有边界元(EEM)。
            FEM 
                finite element method 有限元方法
                是将介质复杂几何区域离散为具有简单几何形状的单元通过单元集成
                可以用有限的、相互关联的单元模拟无限的复杂体
                无论多么复杂的几何体都能用相应的单元简化，从而建模分析计算出结果。
                感觉无处下手的工程问题简单化，这是最大的优点。 有限元法采用矩阵形式表达，编程性高
                大变形问题中的网格畸变问题，本质在于单元插值造成的
                采用distinct element method是为了和连续介质力学中的finite element method相区别
            DEM
                Discrete Element Method
                颗粒材料和散装固体行业
                复杂散料运输工程的虚拟设计和仿真
                举几个运用到离散元的例子，比如矿业中的筛分和运输，
                    转运站的设计, 食物和药品的混合与干燥等
                https://www.youtube.com/watch?v=5JcFgj2gHx8
                避免了堵塞、扬尘、跑偏、撒 料，减少扬尘，才有可能完成一个完美的散料运输工程！
                离散元是由 Cundall 在研究岩土颗粒时，面对岩面的不连续受力而提出的
                土就是 松散颗粒的堆积物。
                把一个时间点中每个颗粒的受力、颗粒的速度、加速度和位 移都计算出来
                便完成了这个时间点的仿真计算
                受力、颗粒的速度、加速度
            qq explain following: DEM, CFD, SPH, FEM, FVM? FDM
                The finite difference method (FDM) has [historical importance]
                the interaction of the fluid (liquids and gases) with surfaces
                    defined by boundary conditions
                accuracy and speed of complex simulation scenarios
                transonic or turbulent flows.
                engineering problems in many fields of study and industries
                engine and combustion analysis.
                Computational magnetohydrodynamics (CMHD) 
                electrically conducting fluids
                complexity mainly arises due to the presence of a magnetic field and its coupling with the fluid
                avoid the presence of unrealistic effects, namely magnetic monopoles
                model astrophysical systems
                a method for representing and evaluating partial differential equations
                are converted to surface integrals, using the divergence theorem
                finite differences approximate
                finite differences approximate the derivatives.
                FDMs convert linear ordinary differential equations (ODE) or non-linear partial differential equations (PDE) 
                FDMs are the dominant approach to numerical solutions of PDEs
                FDM is an older method than FEM that requires less computational power but is also 
                    less accurate in some cases where higher-order accuracy is required
                requires more computational power and is also more exigent on the quality of the mesh
            qq if we want to simulate fluid, what kind of method can we use? 
                FEM, SPH, particle based, cfd methods 
                CFD solver based on Smoothed Particle Hydrodynamics (SPH)
            qq if we want to siulate sand? 
                DEM
            qq what if we want to similate powders? 
                > sugar or proteins
                > bulk materials in storage silos
                > granular matter, like sand;
                > Blocky or jointed rock masses
                > rock masses
                DEM 
            qq compare CFD methods: FEM, FVM, and SPH 
            qq if we want to simulate: gases, wind
                Discretization methods or SPH 
                key model: 	Turbulence models
            https://www.youtube.com/watch?v=VTV6xGhyUWw
            https://www.youtube.com/watch?v=hZC6ORUbLog
            gases, wind, ? smoke, fire
            magnets and charges
            Laboratory
            Stochastic Processes
            Siggraph 2014: Dynamic On-Mesh Procedural Generation Control
            https://www.youtube.com/watch?v=IRu-LJ3J88Q
            https://www.microsoft.com/en-us/research/publication/visual-simulation-of-weathering-by-%CE%B3-ton-tracing/
            lighting
            explosions
            &h fluids are the most complicated ones to simulate 
            Vorticity Refinement
            retell- 
                //
                    把重要的不重要的都串联起来，给别人讲的时候很有用！有条理
                    考试一方面是问题，另一方面是基础的理解！ 
                1.almost every thing around us can be simulated in our computer, 
                eg. weather, water, ... diff. method should be used to best simulate 
                them. Those methods should be classified and compared. 
                
                2.And there are many scenarios that needs a high computational 
                complexity eg. xxx.....  

                3.to solve them, we apply ... to ... 

                4.those are numerical methods, solving odes or pdes 
                    the goal is to simulate accurately, computational* 
                    other methods exist for optimize* such as Lagrange multiplier 
                    can be used for solving IK 
                
                5.
                    lev4* computational methods  
                    lev3 improve *speed and *accuracy!
                    lev2* choose the right method, compare them 
                    lev1* detail, explain 
                6. 
                    geometry oomi
                        optimization  
                    dynamic oomi
                        optimization  
                    simulation oomi 
                            computational (lower level, components of opti.)
        ---phy 
            pruf-re-ok- slides-1 CG3_01_Physically-Based-Simulation
                prev. 
                    *rendering equation 
                        is an integral equation in which the equilibrium radiance leaving a  平衡辐射
                        point is given as the sum of emitted plus reflected radiance under a geometric optics approximation
                        used for realistic rendering techniques
                        𝜆可以认为是波长
                        https://en.wikipedia.org/wiki/Rendering_equation
                            hemisphere centered around {\displaystyle \mathbf {n} }\mathbf {n} 
                            双向反射率分布函数可以认为是一个材质函数
                            Solving the rendering equation for any given scene is the primary challenge in realistic rendering. 
                            One approach to solving the equation is based on finite element methods, leading to the radiosity algorithm
                            Another approach using Monte Carlo methods has led to many different algorithms including path tracing, 
                                photon mapping, and Metropolis light transport, among others.
                            it does not include: 
                                Transmission, which occurs when light is transmitted through the surface, such as when it hits a glass object or a water surface,
                                Subsurface scattering,
                                Phosphorescence, 
                                Fluorescence,
                                Relativistic Doppler effect,
                            工作贡献：
                                修改渲染方程
                                加速渲染过程 
                    heat 
                        task1 
                            laplace::sum of second derivatives
                            特征长度：用于代替不重要的量，用于localization？ p14 slides01
                            dimension less var. left in equations !....                     
                    sph-Smoothed-particle hydrodynamics
                        a computational method used for simulating the mechanics of continuum media
                        resolution of the method can easily be adjusted with respect to variables such as density.
                        such as solid mechanics and fluid flows.
                        without mesh 
                    Computational fluid dynamics计算流体力学
                        Computational fluid dynamics (CFD) is a branch of fluid mechanics that uses numerical 
                            analysis and data structures to analyze and solve problems that involve fluid flows.
                        free-stream flow of the fluid
                        and the interaction of the fluid (liquids and gases) with surfaces defined by boundary conditions.
                        Ongoing research yields software that improves the accuracy and speed of complex simulation scenarios such as transonic or turbulent flows
                        Initial validation of such software is typically performed using experimental apparatus such as wind tunnels.
                        weather simulation, natural science and environmental engineering, industrial system design and analysis, biological 
                            engineering and fluid flows, and engine and combustion analysis
                        computational modeling of turbulent flows
                    FEA
                        FEA (finite element analysis) is one numerical method for solving partial differential equations
                        CFD (computational fluid dynamics) includes any numerical method used to solve fluid flow problems.
                    numerical method
                        numerical method is a mathematical tool 
                            designed to solve numerical problems.
                    The appearance of our universe strongly depends 
                        on the values of some constants
                    nondimensionalization 
                        通过一个合适的变量替代，将一个涉及物理量
                            的方程的部分或全部的单位移除，以求
                            简化实验或者计算的目的
                        使得方程相对简单
                        但是在工程中意义未必大
                        “自定义物理梁刚”
                    qq the idea of nondimensionalization?
                        1.partial [removal] of [physical dimensions] from an equation
                            suitable [substitution of variables].
                        2.[simplify] and parameterize problems where 
                            measured units are involved
                        3.These units refer to quantities intrinsic to the system, 
                            rather than units such as SI units

                    Vector operator in vector calculus
                        include the gradient, divergence, and curl:
                        https://mathinsight.org/divergence_curl_examples
                        http://tutorial.math.lamar.edu/Classes/CalcIII/CurlDivergence.aspx
                        http://blog.sina.com.cn/s/blog_4d0723b301017ivo.html
                        向量还是标量？ 
                        http://www.ittc.ku.edu/~jstiles/220/handouts/The%20Curl%20of%20a%20Conservative%20Field.pdf
                        http://www.home.uni-osnabrueck.de/mfrankland/Math241/Math241_165_ConservativeR3.pdf
                    The principle of least action
                        or the principle of stationary action 
                        can be used to obtain the equations of motion for that system
                        The principle can be used to derive Newtonian, Lagrangian and Hamiltonian equations of motion, and even general relativity (see Einstein–Hilbert action).  
                        It was historically called "least" because its solution requires finding the path that has the least value
                    variational calculus    
                        later
                    Symplectic integrator
                        https://www.av8n.com/physics/symplectic-integrator.htm
                        later
                    continuity equation 
                        https://en.wikipedia.org/wiki/Continuity_equation#Definition_of_flux
                        https://en.wikipedia.org/wiki/Navier%E2%80%93Stokes_equations
                        later      
                ql 
                    qq what is the equation of harmonic oscillator?  p4 
                    qq solve? 
                    qq rewrite with state vector 
                    qq when using numeric method, there will be err, 
                        > how can we know that? 
                        > how to solve? x2 p5 
                    qq physical quantities and their relationship? -large 
                    qq how derived units can be written?? in terms of base units x7+1 p7 
                    qq What unit has damping constant? p8 
                    qq how units can be used? x2 p8 
                        > derive units of physical constants
                    qq how can we validate physical formulas??
                    qq the case of a sphere? p9 
                    qq solid angle def.? 
                    qq the unit of solid angle?? p9 
                    qq extended units and their expression with standard units p11
                        steradian? newton? 
                        Pascal? Joule? 
                    qq drive nondimensionalization of damped harmonic oscillator p14 
                        首先找出谁是变量，对变量做代换，引入一个常量（和变量同单位的）
                            这样一除就可以得到一个无量纲的
                        > why damping ratio is unit free? 
                    qq a few characteristic unit free parameters, why are they useful? 
                    qq how density is defined? trible derivative? op18 
                        > convert from and to density and mass? 
                    qq what is Eulerian and Lagragian view of a sys.? p19
                        1.discretized specification, based on grids or meshes 
                            typically FEM can be used
                            2.fields are easy to implement 
                        ---
                        1.in form of particles that move in space,
                            a particle simulation usually performed  
                            2.conceptually simple
                            set of particles
                    qq convert from above one to an other? p20 
                        interpreting density as particle probability and sampling
                    qq how forces can be computed in a field? p21 
                    qq what is gradient? express with standard unit vectors
                        a vector whose components are the partial derivatives
                        pointing in the direction of the 
                        steepest slope
                    qq what is Conservative Force def.??
                        total work done in moving a particle between two points is independent of the taken path
                        path independent
                    qq what is gradient theorem? proof it! computes the Work done with force. 
                        work done is path independent, and just 
                            potential difference of path end points
                    qq the condition that the force is conservative?? 
                        curl vanishes 
                    qq how to compute curl? wiki 
                    qq compute the work done by force f from x1 to x2 p22 
                    qq the equ. of solid angle?? wrt. theta phi p23 
                    qq &h The solid angle corresponding to all directions is 4pi
                    qq proof that oumiga all = 4*pi p24 
                    qq eular Lagrange equation? describing a harmonic oscillator p29 
                    qq Lagrangian of a whole sys. ? p28 
                    qq action S of a sys. ? p28 ?? pp
                    qq what is the principle of stationary action? used to compute the what? with variational calculus?
                        is a variational principle that, 
                            when applied to the action of a mechanical system, 
                            can be used to obtain the equations of motion for that system

                            requires finding the path of motion in space that has the least value
                            even general relativity (see Einstein–Hilbert action)
                            The principle remains central in modern physics and mathematics

                            [The path taken] by the system between times t1 and t2 and configurations 
                                q1 and q2 is the one for which the action is stationary (no change) to first order.
                    qq Noether theorem? 
                    qq what are typical Conserved quantities? p32 
                    qq diff. integration methods and their properties, 
                        > stable? preserve energy?... 
                        > show them shortly,and the pic  
                        p33 
                    qq quantities that are conserved, due to spatial and temporal symmetries in the laws of physics....
                    qq flux def.? p34 
                    qq velocity field def. p34
                    qq function for both integral form and differential form. 
                    qq why no source term in conserved quantities? 
                    qq what is continuity equation used for? p35 
                        describe temporal changes of
                            physical quantities inside of fluids or fields
                    qq diff. bet. gradiant/ divergence/ curl operators??
                        https://en.wikipedia.org/wiki/Del#Divergence
                        The divergence of a vector field
                        is a scalar function
                    qq The formula for the vector product??
                r1
                    Hook‘s law
                    Harmonic Oscillator
                    Analytic Solution
                    qq formulas op04
                        solution
                    qq product rule??
                    https://flothesof.github.io/harmonic-oscillator-three-methods-solution.html
                    explicit Euler
                    with step width ?
                    Runge Kutta
                    Ordinary differential equation
                    常微分方程
                    https://www.youtube.com/watch?v=4qu2oRkTlVo
                    http://www.maths.lth.se/na/courses/FMN050/media/material/part14.pdf
                    The Explicit Euler Method
                    &p prob. with analytic solution, but not so imp. 
                    Numerical solution using Scipy
                    Scipy offers a number of tools for dealing 
                        with ordinary differential equations
                    qq Derivation of the Explicit Euler Method
                    first order approximation to the exact solution 
                    qq Graphical Illustration of the Explicit Euler Method
                    each step introduces an error and ends up on a different trajectory
                    How do these errors accumulate?
                    Ignoring the second order term
                    Taylor series
                    Finally a constuction principle based on 
                        Taylor expansion shall be explained.
                    Explicit Euler Method
                    Stability Analysis
                    qq proof the stability 
                    quantify the condition on the step size.
                    how small depends on the differential equation
                    requires that the amplification factor is bounded by one
                    stable
                    satisfies the condition (5.4)
                    stability region of the Euler method
                    
                    qq numerical solution op5 
                    Physical Quantities
                    7 base units
                    scale ?? and 7 exponents 

                    in terms of a base unit:
                    derived units 
                    qq what is derived units, how they looks lke?
                    若现实中重力的强度每天都有所改变，就会违反能量守恒定律，
                        因为观察者可以在重力弱的那天把重物举起，然后在重力强的时
                        候放下来，这样就得到了比一开始输入的能量更多的能量
                    qq what unit can we used for measuring luminous intensity
                    Noether theorem
                    Physical units help to validate physical formulas
                    one cannot add quantities of different units
                    left and right side of an equality must have the same unit
                    damped harmonic oszillator
                    What unit has damping constant
                    qq what is the unit of xxx constant??
                    &h example op08
                    The seven SI base units and the interdependency of their definitions.
                    https://en.wikipedia.org/wiki/Nondimensionalization
                    Nondimensionalization
                    qq what is Nondimensionalization
                        This technique can simplify and 
                            parameterize problems where measured units are involved.
                    the term scaling is used interchangeably with nondimensionalization
                    force constant of spring
                    To simplify the equation
                    choose a constant value for
                    &h define new units
                    &h choose constant val. for varibles and eliminate units by deviding them
                    nondimensionalized versions of our original variables
                    &h define new non-dim. varibles 
                    substitution
                    https://www.math.wisc.edu/~angenent/519.2016s/notes/non-dimensionalization.htm
                    ct su
                    https://www.math.wisc.edu/~angenent/519.2016s/notes/non-dimensionalization.html
                    make the constant term
                    coefficient 
                    both equal to 1
                    Note that instead of three undetermined parameters (a, b, c) it only has one parameter
                    only has one parameter
                    undetermined parameters
                    general numerical process often used in differential equations
                    qq Buckingham π theorem?? 
                        *a theorem for dimensional analysis
                        if there is a physically meaningful equation involving a certain
                            number n of physical variables, 
                            then the original equation can be rewritten in terms of a set of 
                    白金汉π定理可以视为是形式化的雷诺量纲分析法。
                    白金汉π定理是量纲分析中的重要定理，在工程、应用数学及物理中都会用到
                    白金汉π定理可以视为是一种无量纲化的框架，其中提供方法，从已知的物理量中找到一组无量纲的参数
                    在流体中运动的物体，其阻力方程中包括以下五个物理量：速度 u、流体密度 ρ、 动黏滞系数 ν、 物体截面大小A以及阻力 F
                    可以将阻力方程简化为由阻力系数 CD及雷诺数 Re组成的方程
                    二个物理量是由上述物理量组合而成。
                    Solid angle measures directions by their covered area on the unit sphere
                    measured in steradian (sr)
                    Solid angle
                    qq what is the unit of Solid angle??
                    For steradian all base units cancel out, but we still 
                        write it as sr to 
                    qq why we still write sr unit??
                        distinguish from a pure scalar
                    cancel out
                    non standard units
                    luminous flux 
                    illuminance
                    Newton
                    Hertz
                    Joule
                    Watt
                    SI units the most fundamental constants
                    Newtonian constant of gravitation
                    Planck constant
                    speed of light in vacuum
                    universal in nature and constant in time.
                    Reynolds number Re
                    by a simple variable substitution
                    parameterize different behaviors of the system
                    qq example of damped harmonic oszillator
                    Substitutions
                    unit free damping ratio defines system behavior
                    damping ratio defines system behavior
                    photogrammetric measurements 
                    describe the system with unit free variables 
                    and a few characteristic unit free parameters
                    spectral power
                    small interval 
                    derivative
                    From a physical point of view
                    triple derivative of mass
                    triple integration of density
                    gives back mass
                    triple derivative of mass
                    yields density
                    respect to volume
                    &h 
                    Field vs Particles
                    qq compare those two views
                        Eulerian View
                            Describe physics as fields, often discretized over grids or meshes
                        Lagragian View
                            Describe physics in form of particles that move in space
                            particles are the discretization unit and typically do not represent single physical, but bundles
                    qq how can we transfer from field view to particle? and back? 
                        interpolation
                        //
                        density estimation
                        reconstruction
                    similar to the case of: from density, we know a 
                        volumetric representation, and we reconstru. back to spacial view 
                        ---REVIEW---
                        ---
                        ---
                        ---
                    gradient is 
                        direction of steepest ascent
                    qq compare the direction of force and gradient of potential?
                        force points in opposite direction
                    potential energy ?? with respect to location 
                    conservative force
                    qq how is conservative force defined? op22 
                    gradient theorem yields that work done is just 
                        potential difference of path end points
                    ? gradient theorem
                    The gradient theorem, also known as the 
                        fundamental theorem of calculus for line integrals
                    a line integral through a gradient field can be 
                        evaluated by evaluating the original scalar field at the endpoints of the curve. 
                    The theorem is a generalization of the fundamental theorem 
                        of calculus to any curve in a plane or space 
                        (generally n-dimensional) rather than just the real line.
                    continuously differentiable function
                    theorem
                    https://en.wikipedia.org/wiki/Gradient_theorem
                    conservative forces does not depend on the path followed 
                        by the object, but only the end points, as the above equation shows.
                    Work done by conservative forces does not depend 
                        on the path followed by the object, but only the end points
                    such as the gravitational force between 
                        the Earth and another mass, whose work is determined
                        only 
                    qq def. of Conservative force 
                    &h Conservative means independency somehow ...
                    * no work done nor necessary for cyclic paths
                    cyclic paths
                    force is conservative, iff curl of force vanishes
                    qq the condition of a force that is conservative
                        curl vanishes 
                    In vector calculus, the curl is a vector operator
                        like gradient operator 
                    that describes the infinitesimal rotation of a vector field 
                        in three-dimensional Euclidean space.
                    The alternative terminology rotation or rotational and alternative notations
                    divergence is a vector operator that operates on a vector field, 
                        producing a scalar field
                    旋度的计算里面x其实就是叉乘！ https://en.wikipedia.org/wiki/Curl_(mathematics)
                    The resulting vector field describing the curl would be 
                        uniformly going in the negative z direction.
                    tt vis of a vector filed! 	
                        https://upload.wikimedia.org/wikipedia/commons/thumb/8/80/Uniform_curl.svg/500px-Uniform_curl.svg.png
                        consider, the posi. (0,1) and (1,0)
                        we can determin direction and scale of a given point, which, 
                            we can draw a arrow to vis. !!
                        sampling and compute 
                    The Laplacian of any tensor field {\displaystyle \mathbf {T} }
                        \mathbf {T}  ("tensor" includes scalar and vector) 
                        is defined as the divergence of the gradient of the tensor:
                    named after Pierre-Simon Laplace, is a differential 
                        operator defined over a vector field. 
                    Laplace operator
                    An example of the usage of the vector Laplacian is the 
                        Navier-Stokes equations for a Newtonian incompressible flow:
                    Another example is the wave equation for the electric field that 
                        can be derived from the Maxwell's equations in the absence 
                        of charges and currents
                    The Klein–Gordon equation (Klein–Fock–Gordon equation or 
                        sometimes Klein–Gordon–Fock equation) is a 
                        relativistic wave equation, related to the Schr?dinger equation.
                    qq express the dir with theta and phi
                    &h op23
                    The solid angle corresponding to all directions
                    The solid angle of a hemisphere
                    a lot of physical quantities are derivatives of others
                    integration of conservative forces along paths 
                        can be computed from differences in potential energy
                    Light travels along the shortest path with respect to time
                    qq what is Minimization Principle
                    qq what is Fermat’s Principle
                        Light travels along the shortest path 
                        wrt. time
                        根据费马原理，光线传播的路径是所需时间为极值的路径
                    qq what is 斯涅尔定律 Snell's law?? law of refraction
                        equivalent to the ratio of phase velocities
                        取传播时间{\displaystyle T}T对变数{\displaystyle x}x的导数，设定其为零：
                        根据正弦函数定义，可以得到传播速度与折射角的关系式：
                        最短时间原理	
                    qq derive the equ. of refraction 
                    https://en.wikipedia.org/wiki/Snell%27s_law
                    https://zh.wikipedia.org/wiki/%E6%9C%80%E5%B0%8F%E4%BD%9C%E7%94%A8%E9%87%8F%E5%8E%9F%E7%90%86
                    Calculus of variations
                    https://zh.wikipedia.org/wiki/%E6%B3%9B%E5%87%BD%E5%88%86%E6%9E%90
                    variational calculus
                    Euler Langrange Equations
                    the dynamics of physical systems
                    can be formulated as minimization problem
                    * if minimization is over functions, one needs variational calculus
                    from Least Action Principle one can derive the Euler Lagrange Equations
                    generalize equations of motions
                    拉格朗日最小作用量原理 
                        推广至位形空间，
                        拉格朗日最小作用量原理阐明 
                            {\displaystyle \delta A=\delta \int \sum _{i}p_{i}\mat
                            hrm {d} q_{i}=0}\delta A=\delta \int \sum_i p_i \mat
                            hrm{d}q_i=0； 其中，{\displaystyle p_{i}}p_{i}是
                            广义动量，{\displaystyle q_{i}}q_i是广义坐标。
                        求作用量的稳定值，
                    scalar Lagrangian ?
                    state vector
                    kinetic energy
                    potential
                    两点间最短曲线为一直线
                    the action ?? of the system is defined as the functional
                    两点之间最短曲线的另一种求解
                    https://zh.wikipedia.org/wiki/%E6%AD%90%E6%8B%89-%E6%8B%89%E6%A0%BC%E6%9C%97%E6%97%A5%E6%96%B9%E7%A8%8B#%E7%AC%AC%E4%BA%8C%E6%96%B9%E7%A8%8B
                    Euler-Lagrange equation
                    二阶偏微分方程
                    提供了求泛函的临界值（平稳值）函数
                    泛函的定义域为函数空间
                    harmonic oscillator
                    those two examples: 
                    mechanical systems can be completely described through the scalar Lagrangian 
                    qq the equ. of scalar Lagrangian?? op28 
                        kinetic energy 𝑇 and the potential energy V 
                    qq action 𝑆 of the system?? op28 
                    qq the euler langrange equ.?? op29
                    qq apply euler langrange equ. to harmonic oscillator!! op29
                    qq proof that line is the shortest distance bet. two points !! 
                        with priciple of least action or lagrange equ.
                    https://zh.wikipedia.org/wiki/%E6%AD%90%E6%8B%89-%E6%8B%89%E6%A0%BC%E6%9C%97%E6%97%A5%E6%96%B9%E7%A8%8B#%E7%AC%AC%E4%BA%8C%E6%96%B9%E7%A8%8B
                    &h imp. is, what we want to minimize ! in phy, 
                        we want to minimize T-V over time and in distance 
                        calcu. we want to minimize the distance bet. two points. 
                        And this minimal should be form as a integral!
                    &h first, we def. the action S to be minimized. then, 
                        def. a functional L, which to be integrated. 
                        Then, we can write a lagrange equ. based on L. 
                        By solving that equ, we know how L looks like!!
                    qq how can we apply functional Analysis/ priciple of least 
                        action to a problem? 
                        def. action S -> scalar Lagrangian L -> Euler Langrange Equation -> solve 
                    minimization is over functions, one needs variational calculus
                    variational calculus
                        Galilean transformation
                    used to transform between the coordinates of two 
                        reference frames which differ only by constant relative motion
                    within the constructs of Newtonian physics
                    Newtonian physics.
                    Galilean geometry.
                    Lorentz transformations
                    Poincaré transformations
                    Galilean symmetries
                    written as the composition of a rotation, a translation and 
                        a uniform motion of spacetime.
                    https://zh.wikipedia.org/wiki/%E7%BE%A4%E8%AE%BA
                    上述例子中的群分别对应着伽利略群，洛伦兹群和{\displaystyle U(1)}U(1)群
                    对称群为连续群和分立群的情形分别被称为“连续对称性”（continuous symmetry)和“离散对称性”（discrete symmetry）
                    1950年代杨振宁和米尔斯意识到规范对称性可以完全决定一个理论的
                        拉格朗日量的形式，并构造了核作用的{\displaystyle SU(2)}SU(2)规范理论
                    从此，规范对称性
                    This theorem only applies to continuous and smooth symmetries over physical space.
                    qq what is Noether's theorem
                        Any [differentiable] [symmetry of the action] 
                            of a physical system has a 
                            corresponding [conservation law].
                    time symmetry
                    energy is conserved
                    linear momentum
                    differentiable symmetry
                    qq what are typical diff. symmetry and their corresponding  
                        conservation laws?? 
                        time...location...orientation symmetry
                    &h *
                        Noether's theorem也是一种广泛的理论，不仅仅应用在经典力学
                        Principle of Least / Stationary Action也是
                    tt tt legrange force, phy. formation + functional 
                        泛函分析（英语：Functional Analysis）
                            是现代数学分析的一个分支
                            其研究的主要对象是函数构成的函数空间
                            泛函分析历史根源是由对函数空间的研究和对函数的变换
                                （如傅立叶变换等）的性质的研究
                            这种观点被证明是对微分方程和积分方程的研究中特别有用
                            变分法是处理泛函的数学领域，和处理函数的普通微积分相对。
                                譬如，这样的泛函可以通过未知函数的积分和它的导数来构造。
                                变分法最终寻求的是极值函数
                            变分法的关键定理是欧拉－拉格朗日方程。它对应于泛函的临界点
                            变分法在理论物理中非常重要：在拉格朗日力学中，
                                以及在最小作用量原理在量子力学的应用中
                            它们也在材料学中研究材料平衡中大量使用。而在纯数学中的例子有，
                                黎曼在调和函数中使用狄利克雷原理。
                            变分一词用于所有极值泛函问题。微分几何中的测地线
                                的研究是很显然的变分性质的领域。
                            ***这意味着，一个函数的参数是函数。这个名词首次被雅克·
                                阿达马在1910年使用于这个课题的书中
                        topology, vector calculus, functional analysis, ...
                            Hilbert spaces 
                    Explicit numerical integration 
                    like the explicit Euler add energy to the system
                    implicit integration techniques are stable but 
                        unnaturally damp the system and remove energy
                    damp 
                    Symplectic integrators 
                    Symplectic integrators conserve energy as good as possible but are not stable for stiff systems.
                    not stable for stiff systems
                    Hamilton's equations, a system of ordinary 
                        differential equations that arises in classical mechanics.
                    https://zh.wikipedia.org/wiki/%E5%BE%AE%E5%88%86%E5%87%A0%E4%BD%95
                    辛拓扑源于经典力学的哈密顿表述，其中特定经典系统的相空间有辛流形的结构。
                    https://en.wikipedia.org/wiki/Symplectic_integrator
                    qq the equ. for numerical integration? x3!! op33 
                        err?? sec. deriv. of x 
                    qq compare them! 
                        explicit Euler
                        implicit Euler
                        semi-implicit
                        symplectic Euler
                    A continuity equation keeps book on all changes in ?
                    qq what is dS vector here??
                    乃是描述守恒量传输行为的偏微分方程。由于在各自适当条件下，
                        质量、能量、动量、电荷等等，都是守恒量
                    很多种传输行为都可以用连续性方程来描述
                    传输行为
                    qq what is the continuity equation? def. ? 
                        * idea: 在任意区域内某种守恒量总量的改变，等于从边界进入或离去的数量
                    应用散度定理，可以从微分形式推导出积分形式
                    高斯通量理论（Gauss' flux theorem）、散度定理（Divergence Theorem）、
                        高斯散度定理（Gauss's Divergence
                    一个把向量场通过闭合曲面的流动（即通量）与曲面内部的向量场的
                        表现联系起来的定理。该定理与斯托克斯定理（Stokes' Theorem）是向量中两大重要定理
                    直观地，所有源点的和减去所有汇点的和，就是流出这区域的净流量
                    在一维，它等价于微积分基本定理；
                    在二维，它等价于格林公式。
                    ***这个定理是更一般的斯托克斯公式的特殊情形比较简单的形式
                    所有源点的和减去所有汇点的和，就是流出这区域的净流量
                    density source ??:
                    Continuity equation
                    qq integral and differential form of Continuity equation! x2 
                        and their relationship, how can be converted to each other 
                    https://en.wikipedia.org/wiki/Continuity_equation#Integral_form
                    The flux of q is a vector field
                    If there is a velocity field u which describes the relevant flow
                    density times the velocity field:
                    the flux is by definition equal to the density times the velocity field:
                    Particle View
                    quantities that are conserved in physical systems like energy
                        due to spatial and temporal symmetries in the laws of physics
                    qq what is the reason of conservation law in phy? in depth 
                    Symplectic numerical integration methods target 
                        for energy preservation
                    Continuity equations describe temporal 
                        changes of physical quantities inside of fluids or fields.
                    qq For conserved quantities they do not have a source term??
                    qq what is source term?
                    temporal changes of physical quantities
                    qq how can we describe the temporal changes of physical quantities in a phy system? fluid...or other quan, mass....
                        -->use continuity equ. to describe 
                    qq what is divergence theorem?? the basic of continuity equ. 
                        a result that [relates] the flux of a vector field through a 
                            closed surface to the divergence of the 
                            field in the volume enclosed.
                    &h continuity equ. is the simplified version of Stokes equ. ?? 
                        &p pp  
                addiq:
                    qq gradient theorem, proof op22 
                    qq what is the def. of conservative force??
                        ** negated gradient of potential energy wrt. location
                        // the description!  
                    tt futher derivation of motion equ. of diff. phy systems!
                        the theorem behind them! phy stuffs! 
                    tt futher use numerical methods to solve them! code 
            pruf-re-ok- slides-8 CG3_08_DGLs(Differentialgleichung)
                single variable
                ordinary differential equation
                qq what is differential equation?
                    describes a relation between a function 
                        in one or several variables
                qq what is the diff. bet. ode and pde??
                several variables arise
                unique solution
                boundary conditions
                qq what is boundary conditions??
                Wave Eq., Maxwell Eg., Schr鰀inger Eq.,
                Einsteinean Field Eq., Navier-Stokes-Eq
                highest derivative
                qq implicit representation of an ode of order n?and explicit representation? 
                In this case the ansatz will yield an (n-1)-th order 
                    equation for {\displaystyle v}v
                &p pp op4 1 should be n-1??
                qq what is Order reduction?
                    DE of order n can be transformed into 
                        [a system of] DE of order 1.
                &h maybe 1 right...
                combined with derivatives up to (?? - 1) to a ??-d 
                qq what is phase space, the case in physical system of 2nd order? 
                    we have learned?
                        uniquely defines time evolution 
                        defined through position and velocity
                phase space
                state
                qq 自治（驻定）的系统?
                    在数学中，一个动力系统被称为自治（驻定）的，当且仅当这个系统
                        由一组常微分方程组成，并且这些方程的表达式与动力系统的自变量无关。
                    一个动力系统被称为自治（驻定）的
                    在有关物理的动力系统中，自变量通常是时间。
                        这时自治系统通常表示其中的物理规律不随时间变化的系统，
                    这时自治系统通常表示其中的物理规律不随时间变化的系统，
                        也就是说空间中每一点的性质在过去、现在和将来都是一样的。
                    理论上说，所有的动力系统都可以转化为自治系统。
                    物理上来说，这表示空间中一点的性质不仅取决于它的位置，
                        还取决于时间：在不同的时间，经过此一点的质点或粒子会受到不同的影响
                    does not depend explicitly on t,
                qq the case of Harmonic Oscillator, phase space?? what is that equ.?? 
                qq what is the time evoluiton func. of Harmonic Oscillator?? p6 
                    vector field on the simulation domain
                qq what is autonomous DE?? how can it be used? why we need to know this? 
                    if the time evoluiton funcction does not depend explicitly on t
                    In case of autonomous
                        DE, the time evolution correspond to streamlines of the vector field
                qq what is Picard–Lindelöf theorem
                    * gives a set of Lipschitz conditions under which 
                        an initial value problem has a unique solution.
                    on time evolution, 
                    https://en.wikipedia.org/wiki/Picard%E2%80%93Lindel%C3%B6f_theorem
                qq does Picard–Lindelöf theorem always true?
                    * not for pdes
                        pdes are typically harder prob. we can not say it has unique soluiton 
                    * In case of Kollisions
                        cannot be fulfill due to instantaneous
                            changes in the velocity 
                    对于偏微分是不适用的，对于碰撞是不适用的
                    The Picard–Lindel?f theorem guarantees a unique solution 
                        on some interval containing
                        converges toward a local solution
                    柯西-利普希茨定理（Cauchy-Lipschitz Theorem），又称皮卡
                        -林德勒夫定理（Picard-Lindel?f Theorem）
                    这个定理有点像物理学中的决定论思想：当我们知道了一个系统的特性（
                        微分方程）和在某一时刻系统的情况（{\displaystyle x(t
                        _{0})=x_{0}}{\displaystyle x(t_{0})=x_{0}}）时，下
                        一刻的情况是唯一确定的。
                    在数学中，特别是实分析，利普希茨连续（Lipschitz continuity）
                        以德国数学家鲁道夫·利普希茨命名，是一个
                        比通常连续更强的光滑性条件
                    * 直觉上，利普希茨连续函数限制了函数改变的速度，符合利普希
                        茨条件的函数的斜率，必小于一个称为利普希茨
                        常数的实数（该常数依函数而定）。
                    K 称为 {\displaystyle f}f 的利普希茨常数。
                    若{\displaystyle K<1}K<1，{\displaystyle f}f 称为收缩映射。
                    双李普希茨(bi-Lipschitz)的。
                    Lipschitz condition
                    differentiable function
                    solves
                    intial value problem
                    not similar result an the existence and uniqueness of a solution for pdes
                    pdes
                    &h pdes are typically harder prob. 
                qq 初值问题边值问题与柯西问题 
                   diff. bet. initial prob., boundary prob. and cauchy prob. ??!!
                    边值问题
                        是一个微分方程和一组称之为边界条件的约束条件。
                        边值问题的解通常是符合约束条件的微分方程的解
                        *其实就是已知变直而不是t=0值的求解过程
                        第一类边值条件：也称为狄利克雷边界条件
                        第二类边值条件：也称为诺伊曼边界条件
                        第三类边值条件：物理系统边界上物理量与垂直边界导数的线性组合
                    初值问题
                        是一个涉及微分方程式与一些*初始条件的问题
                        *初值问题就是根据方程和初始条件求函数解析式的问题！ 
                    柯西问题
                        由初值问题推广而来，与边值问题相对
                        法国数学家奥古斯丁·路易·柯西的名字命名
                        (n-1)维的光滑流形S 
                    他们的区别就是不同的初始条件 
                    https://zh.wikipedia.org/wiki/%E6%9F%AF%E8%A5%BF%E9%97%AE%E9%A2%98
                qq describe the initial val. problem! of odes
                qq what is Lipschitz condition? **
                &h
                    The derivative of order zero means that the function itself is specified.
                    collectively known as the Cauchy data
                    asks for the solution of a partial differential equation 
                        that satisfies certain conditions
                        Existence and uniqueness of solutions
                    In case of Kollisions the Lipschitz-condition cannot be fulfill due to instantaneous changes in the velocity.
                    Lipschitz-condition
                qq re- what is Lipschitz-condition, bi-Lipschitz-condition??  
                qq explain: * Every function that has bounded first derivatives is Lipschitz continuous
                &h 
                    最小的常数
                    strong form of uniform continuity for functions
                    the smallest such bound is called the Lipschitz constant of the function
                    bounded first derivatives is Lipschitz continuous
                    * guarantees the existence and uniqueness of the solution 
                        to an initial value problem
                    A special type of Lipschitz continuity, called contraction, 
                        is used in the Banach fixed-point theore  
                    Continuously differentiable ? Lipschitz continuous 
                        ? α-H?lder continuous ? uniformly continuous 
                    derivative f′(x) exists and is itself a continuous function
                    class C2 if the first and second derivative of the function 
                        both exist and are continuous
                    exist and are continuous
                    function is smooth or equivalently, of class C∞.
                    Theorem of Picard / Lindel?f
                qq can we solve sys. with collisions with closed form?? n why?? op08
                qq how can we archieve Analytic Solutions of odes??
                    Maple is a symbolic and numeric computing environment 
                        as well as a multi-paradigm programming language
                    such as symbolic mathematics, numerical analysis, data processing
                    Use algebra program like Maple
                    Collisions and other effects make system of DEs 
                        too complicated for analytic solutions
                    Lipschitz-condition cannot be fulfill
                qq how can we solve initial value problem numerically?? p10 
                    Integral on right side is determined numerically
                    Numeric Integration
                qq re- how conditions like initial value be used?? 
                qq formulate a numerical solution form of a DE
                qq why not a typical integration? how can we solve it? op10
                    unknown Functions appears on right side too
                    Approximate with polygonal line
                qq use explicit euler to solve this?? 
                accumulated error
                qq what is the bkg image p13? what field?
                    a vector field
                qq error with respect to what?
                    analytic solution
                Decreasing the size of the time step decreases the approximation error
                large time steps
                can deviate significantly from solution between integration points
                step error is proportional to h 2
                Approximation Order
                the accumulated error grows with O(h)
                accumulated error grows with O(h)
                qq expression of the accu. error?? op15
                qq what is the appro. order of explict euler method??? error estimation? op15
                    Taylor series
                &h 
                    an initial value problem is composed of a DE and an initial value
                    ordinary DEs only depend on single variable
                    order ?? DE can be transformed to linear system of order 1 DEs
                    linear system of
                    can be characterized by their approximation order
                    One calls k the approximation order of the method
                    approximation order
                    k the approximation order
                qq but the accumulated error grows with O(h)?? not h^2 ?? 
                qq what is the approximation order of a method whose has error pt. h^2 ?? 
                qq what is the approximation order of explicit Euler?
                    1 
                &h 
                    implicit methods are stable but lead to 
                        system of non-linear equations to be solve
                    most efficient scheme depends on application
                //
                qq what Numeric Integration methods do you know? x5 
                //Verlet
                qq how does Verlet Method get a higher order? 
                    Exploit Taylor series addind +h and –h
                        *eliminates some componnets to achieve a higher order 
                qq estimate velocity from Numeric Integration, which difference scheme? 
                    centeral difference
                        have best approximation order
                    backward difference
                    forward difference
                    Second-order central
                    https://en.wikipedia.org/wiki/Finite_difference
                qq whats the approxi. order of Verlet method?? 
                    approximation order 3:(higher order)
                qq the fomr. of verlet method, limitations of it?
                    specifically designed for physical systems of order 2 
                qq the formula/ proof of 4 methods  -large
                &h 
                qq formula of diff. interpolation schemes x3 which one has better approxi. order?? 
                // Euler-Cromer Methode
                qq does Euler-Cromer Methode have approx. order ?
                qq why is Euler-Cromer Methode more stable than others of the same order?
                    semi-implicit, symplectic
                    more stable than other methods of approximation order 1.
                // Runge-Kutta
                qq what is the App. ord.  of Runge-Kutta Methods?? 
                qq the idea of RK? why have higher order? 
                    Family
                    App. ord. 𝑛 builds on 𝑛 function evaluations
                    Very popular is RK4
                    kernel style?
                //
                qq explain A-stable op21
                    generated approximations converge to 
                qq what test case does A-stable use? 
                    a simple test case
                &h we are talking about numeric integration method
                qq what means of a DE is stiff?? 
                    explicit euler not converge all the time 
                    explicit methods do not always converge.
                qq does implicit Euler Method is A-stable?
                qq proof that! op22 large 
                &h 
                    non-linear equations in the components of ????+1
                    Typically a Newton-Iteration is used to solve the system of equations
                    Newton-Iteration
                    pays off as larger steps can be taken
                    is it recommand to use implicit from?? y can paid off 
                qq f ! explicit and implicit case! for Midpoint methods
                qq implicit midpoint is also symplectic??
                red chord is approximately parallel to the tangent line at the midpoint
                Both methods are of approximation order 2
                implicit midpoint is also symplectic
                qq what feature does symplectic mean?  
                    energy preservation
                    more stable 
                &h we can proof that implicit midpoint is symplectic, but may in a hard way 
                qq  let step be a kth app.ord. method. how can we adapt stepwidth? op26
                    qq how can we estimate step error?? 
                    if ? is larger than toleranz ?
                    op27
                qq why use damped harmonic oscillator as a demo? 
                     the analytic solution is known
                &h 
                    Analysis of numerical methods for the simulation of deformable models
                    implicit methods
                    Newton-Iteration
                    implicit midpoint method
                qq does most efficient scheme depends on application?
            ---*
            pruf-re-ok- slides-9 CG3_09_Particles
                Generalizations of Point Mass
                3d Particle Grid
                Class-Hierarchy-Physics Particle
                qq what properties does a Particle have? x4+ 
                    •state
                    •mass
                    •color
                    •density
                    Radius
                    Transparency
                    Age (used to destruct and re-birth old particles)
                qq how can we gen. particles, randomly? which sampling?
                    transformation sampling
                    One can use transformation sampling to 
                        generate random particle from 
                            uniformly distributed random variables
                Flock of Birds, Herds, Schools
                Boids
                qq what is boids, how diff. from particles ??
                    *Extend particles with 
                        orientation and 3D modell
                    *can be used to model Flock of Birds, Herds, Schools
                    & op08
                    with orientation and 3D modell 
                qq what should we cosider when imp. such a sys.?? x4 what cases should be avoid?  
                    avoid collisions
                    avoid obstacles
                    synchronize directions
                    stay close to others
                qq how can we do Visual Simulation of Weathering?
                qq the idea of gamma-ton Tracing
                    g.can be seen as an extend to photon tracing 
                        simulate Weathering with particles 
                    1.gammaton [shooting] 
                        emit from the outer hemisphere of the scene
                            Each particle stores weathering information 
                        Each particle is assigned propabilities for being one of 4 states 
                    2.[propergation] 
                        follow physical and other laws
                        surfaces are sampled into point clouds
                        When particle collides with surface, the movement probabilities 
                            change according to surface reflectance
                    3.[perform] Gamma-transport until final [equilibrium/ until Settlement]
                    https://www.idi.ntnu.no/emner/tdt03/Presentations2013/Reiten%20-%20gammaton-tracing.pdf
                &h
                    ?-tons are generated on the outer hemisphere of the scene
                    Particle Systems
                    surfaces are sampled into point clouds states
                qq Movement Probabilities for Each particle? possible movement??
                    Linear Motion (in case of high energy)
                    Parabolic Curve (modelling particle with carriers)
                    Flowing along surface (particles with low energy)
                    Settlement (particles with very low energy)
                qq when does the movement probabilities change?
                    according to surface reflectance
                qq where does 𝛾-ton reflectance stores initially?? 
                    point clouds, sampled from surface 
                ?-tons that carry water increase Patina fraction of surface
                qq Patina case? how can we achieve this?? 
                    blend between two materials A and B with a fraction 
                qq what does a particle carry in this case?? op15
                    fraction 
                ---
                Cloth Simulation
                qq Woven fabrics typically has which two distinguished directions?
                    warp and weft (Kett und Schuss)
                    influence the physical properties of the fabrics.
                qq how can we model this? 
                    rectangular grid with vertices
                http://www-labs.iro.umontreal.ca/~bernhard/PDF/Thomasze08Asynchronous.pdf
                Provot
                Provot 1995
                discretization of a piece of fabrics with a regular grid of particles
                qq how can we simulate internal forces?  x3 
                    simulated by springs
                        shear springs
                        structural springs
                        flexion springs
                qq what If spring constant is chosen too small for easier integration 
                    too elastic  
                qq solution to this problem? x2 how can we simulate clothes more stable and stiff? x2
                    use small steps for explicit integration or implicit integrating
                    limit maximum elongation
                qq what is Kawabata-Measurements? x3 test in three cases! 
                &h 
                    Add constraint on maximum edge length
                    one measures the three different forces over the elongation
                    Kawabata-Measurements
                qq which three forces are used?
                    structural
                    shear 
                    flexion forces 
                qq what is Hysteresis effect? how can we simulate?
                    needs to add friction forces wrt. 
                        stretching, shearing and bending velocities
                    or use Kelvin-Voigt material, also called a 
                        Voigt material, is a viscoelastic material 
                        having the properties both of elasticity and viscosity.
                        Kelvin-Voigt-SpringModu
                        allows to model the hysteresis effect by a damper element
                        acts like a memory element that records the history of the movement
                        memory element t
                        Kelvin-Voigt-Spring Modul 
                Particle systems are the simplest possibility to model a 
                    variety of effects like fire, herds and weathering in an adhoc
                forming a grid like structures with *additional connections
                qq what possible additional connections are there?  
            pruf-re-ok- slides-10 CG3_10_RigidBody 
                https://www.cs.cmu.edu/~baraff/sigcourse/
                qq what are Dynamics and Kinematics
                    *Kinematics- Deals with study of motion
                        of material objects [without] taking into 
                            account the factors which causes motion
                    *Dynamics is based on concept of force.
                    Mechanics involves forces and displacements, 
                        typically on objects with mass
                    problems involving forces
                    How "much does the spring stretch? " is classified as "dynamics."
                Equarions of Motion
                qq short notation that projections from one onto the other vector op3
                Euclidean transformation, i.e.
                one defines a local object coordinate system per rigid body
                Euclidean transformation
                qq what is Euclidean transformation 
                    a rotation and a translation
                    A rigid body can be positioned in space with it 
                qq how can we define natural origin and rotation of a rigid body? in 2d and 3d 
                    center of gravity ?? 
                qq what is the natural origin of an object? 
                Discrete Case and contineous case! 
                affine combination
                center of gravity ?
                qq how can we compute center of gravity in descrate case and continus case??
                    *average position weighted with the point mass
                    summations become integrals
                qq what is affine combination
                ?? and ?? stand for world and object coordinate system
                For base vectors, the additional superscripts
                indicate which coordinate system is spanned by the base.
                base vectors
                qq draw the base vectors on a given graph!
                qq transform from object corrdi. to world coordi. *** and back. formula!!x2 
                two contribu - tions to the velocity 
                Angular velocity
                qq derive velocity equ.!! both angular and linear velocity!
                    op07 can not understand what prof. is doing
                    http://www.kwon3d.com/theory/moi/iten.html
                    https://www.cs.cmu.edu/~baraff/sigcourse/notesd1.pdf
                As with kinematics, dynamics can be split into linear and angular motion
                applied to the center of gravity and added to the total force 
                equivalent to the one for point masses
                force needs to be transported to centroid also 
                    orthogonal to force action lines
                qq what is the diff. bet. kinematics and dynamics?? 
                    in dynamics, forces are considered, included 
                Torque ?? is the rotational equivalent to force
                lever action
                qq what is the dir. of Torque?? tobere
                    Torque points along the rotation axis
                length
                component of the force orthogonal to ???? .
                qq how to understand this? :force acts twice once for linear and once the angular dynamics
                &p Fges?? ges stands for? op8 pp 
                qq expression of the torque? in 3d case. vec3 calcu. op10
                    http://www.kwon3d.com/theory/moi/iten.html
                qq the dimention of a torque in 3d case? 
                    should be a vec3 varible! 
                total torque 
                qq what is moment of inertia
                    angular acceleration extracted, drived from torque expression 
                    The proportionality constant is called the 
                        moment of inertia and is the equivalent to the mass in linear dynamics
                    proportionality constant is called the moment of inertia
                    is the equivalent to the mass in linear dynamics. 
                    the equivalent to the mass in linear dynamics. 
                    &h is the similar thing compared to mass in linear dynamis, 
                        if only linear dynamics are present, I will not exist
                    grows quadratically in the distance to the axis of rotation
                qq continuous case, the inertia tensor results from? the formula in continus case?
                qq calcu. of Inertia in both continus or descrate case *
                * cross product is anticommutative
                * Vector triple product 
                * matrix multiplication
                qq derive the fromula of Inertia tensor 
                    &h possible: 在dot的时候可以把前面的转置，(rw)r 可以轮转成 rr^T w wrong! 
                    matrix form!! a* a^T
                    https://www.cs.cmu.edu/~baraff/sigcourse/notesd1.pdf
                    http://www.kwon3d.com/theory/moi/iten.html
                qq why use  a* a^T?? matrix form?? 
                qq inertia tensor fromula op11  both descrete case and continus case! In 2d and 3d! x4 
                qq * give the formula in 3d case! op12 calcu. Inertia in Example of circular disk
                qq how can we express inertia tensor in program? 
                    mat3 
                qq what is the dimention of inertia tensor?? 
                    > and inv_mass? and angular velocities?position? orientation? 
                    mat3, float, vec3 
                qq give the calculation formula of computing the I of Cuboid! op13 
                    > and the result that we can directly use later! 
                &h
                    Rotation matrices are square matrices, with real entries
                    that is, a square matrix R is a rotation matrix if and only 
                        if RT = R-1 and det R = 1
                    Rotation matrices can either pre-multiply column 
                        vectors (Rv), or post-multiply row vectors (wR). H
                    However, Rv produces a rotation in the opposite direction with respect to wR. T
                    rotations produced on column vectors are described by means of a 
                    pre-multiplication
                    column vectors
                    To obtain exactly the same rotation (i.e. the same final coordinates of point P), the row vector must be post-multiplied by the transpose of R (i.e. wRT).
                    The rotation matrix of the orientation will be multiplied from the left and transposed from the right
                    he dot product of two column vectors is the matrix product
                    is the row vector obtained by transposing {\displaystyle \mathbf {x} }
                        \mathbf {x}  and the resulting 1? matrix is identified with 
                        its unique entry.
                    look into the topic of change of basis and matrix representations 
                        of linear transformations.
                    Saying two matrices are similar amounts to them being 
                        two representations of the same linear transformation with 
                        respect to (possibly) different ordered bases
                    of the same linear transformation
                    change of basis
                qq how can we compute inertia tensor in world coordinate system? 
                    > transform from local coordi to global coordi.  op14 
                &p ok-op14 why this? have we imp. this before?? yes 
                qq how can we change bases from one to an other??.... matrix calcu. later!!! tt 
                linear momentum and angular momentum
                qq what is the relation between force and linear momentum? tobere
                    > Torque and angular momentum?? 
                Angular momentum ?? is a vectorial conserved quantity
                calculate_mass_and_inertia
                qq Inertia Tensor are changing during simulation? 
                    have to be calculated in world coordi. sys.! 
                ?Inertia Tensor
                qq what kind of spinning tops are there?? !
                    prolate oblate
                    two kinds 
                qq will angular momentum and angular velosity 
                    > pointing at the same direction? 
                    maybe not  
                qq say, what’s the dir of angular velocity and the one of torque!?
                qq when will they pointing to the same dir? 
                    if both point along a main axis! op15
                qq where are spinning tops??
                qq what kind of spinning tops are there?? x2
                The state of the rigid body is uniquely defined
                qq how a state of a rbody is defined?? x4 by four components?? position, ori. and? 
                qq why only reciprocal values are needed? 
                &h 
                    only reciprocal values of
                        mass and inertia tensor are
                        needed. 
                qq rotation must be orthogonalized after each integration step? we did not do that ?
                    can be done with polar decomposition.
                qq what is the The time evolution function as motion equ.?? op17 *** research 
                qq what does it mean if a 0 is stored in reciprocal mass or tensor of inertia???
                tt https://en.wikipedia.org/wiki/Tensor_algebra#Coalgebra
                by multiplying each element of u by each element of v:[1][2]
                in index notation:
                qq Normal component of mass matrix compute!! task5!! description..
                tt dyadic product 
                    https://en.wikipedia.org/wiki/Talk%3ADyadic_product
                for each collision, save both normal and tangential impulses
            pruf-re-ok- slides-11 CG3_11_Collision 
                // r2 only: op19/59 later- fixed! finished! 
                Friction
                Collision Handling 
                qq what is coll. handling??  
                    determine new object velocities / momenta  
                        without a change of  positions 
                qq what is free motions
                qq what is penetration depth??
                    How deeply did the objects penetrate each  other?
                which direction is the connection of the shortest distance? 
                Simulation Loop
                qq the sub tasks of a rbody simulator?? which components are there? op07 large
                    > explain their functionalities!  
                qq Filtering of contact points, what kind of contact pairs can be ignored??  
                qq why we filtering 
                qq main idea/ gen. idea/ which phy. laws are used in computing collisions?
                    Use energy and momentum  conservation for a consistent  
                        recalculation of momenta
                qq when and how we have to do an integration step?
                    we compute each step and this can be summed up to a integral 
                broad phase: quickly find all collision pairs
                quickly
                narrow phase
                analyze found intersections
                Elastic vs. Inelastic impacts:
                persistent contacts with slipping under friction can occur.
                ? In both elastic and inelastic impacts, we assume that  
                    speeds change instantaneously.
                Impact types
                qq what impact types are there?? x3
                    elastic 
                    partical elastic
                    inelastic
                collision time must be determined  precisely 
                    in order to simulate the collision correctly.
                Elastic Impact Details
                local surroundings of elastic bodies become springs  
                    following Hertz’s force law
                qq what is Hertz’s force law?
                    similar to Hook‘s law, but higher order, as there is an exponent part 
                        to the displacement
                qq which two phases are there?
                    compression phase
                    restitution phase
                qq what is local influence area
                constant ?? depends on
                qq the Hertz’s constant can be calculated with a formula, for spec. shape?
                    depends on local parameters.
                illustration for shear modulus
                qq compare Rigid Body Impact and inelastic impact 
                    both bodies coalesce and unite into one large body
                        energy is lost in deformation
                    //
                    elastic collision the bodies touch each other  
                        briefly and bounce off each other without loss of  energy
                    //
                    momentum is conserved in both cases 
                Central Case
                two bodies of mass ??1 and  ??2 meet centrally 
                deformation work
                qq deformation work and velocity after collesion?  -noneed 
                    > for both cases: elastic and inelastic cases
                qq the velocities and work can be computed? op13
                qq nearly all materials are partially elastic?
                qq how can we quantify the elastic property if a material? formula? tobere
                    Coefficient of restitution
                    impact inverts direction of relative velocity
                qq what is COR? coeffi. of restitution??
                qq what is the direction of relative velocity before and after collision?
                    impact inverts direction of relative velocity
                    velocities after impact and the deformation energy
                qq the velocities can be computed with epsilon! op14
                qq is the rel. velocity reversed after collision?? 
                qq If both masses are the same, we have a trivial solution?
                    This simply corresponds to the bodies exchanging 
                    their initial velocities to each other.
                exchanging 
                Sliding friction
                Rolling friction
                qq which non conservative forces do you know?? p15
                    Dry Friction Forces
                        Sliding friction, Rolling friction, 
                    Viscouse Friction Forces
                        Stokes‘ friction., Air friction 
                qq how is the relationship bet. Stokes‘ friction and Air friction and velocity? how to determin the coef.?
                    properties of a contact of two object and not properties of an  object or of a material. 
                qq is COR and coeffi. of friction properties of an object or material?? 
                    n two! 
                qq Typically used values can be found online? which key word? 
                    Contact_Table 
                    http://atc.sjf.stuba.sk/files/mechanika_vms_ADAMS/Contact_Table.pdf
                contact normal, which indicates the direction 
                    perpendicular to the contact, is important for the treatment
                qq which contact types are there for polyhedral? 
                    > 2 non-degenerated contact types?
                        vertex-face
                        edge-edge 
                    > degenerated cases 
                        Vertex-vertex, vertex-edge and edge-edge (id)
                            less likely occour case 
                        Edge-face and face-face
                            extended contacts
                qq hwo can we calcu. contect normal in edge-edge case?? op18
                    cross product of the two edges
                vertex-face
                qq what is a trival solution? 
                    solution in special cases, easy cases typically 
                qq what is a degenerate case? 
                    less likely to happen 
                    multiple contact normal directions, normal can not be computed directly
                    NP hard contact resolution problems
                qq how can we handle multiple contact normal directions?? avoid NP hardness 
                    solve iter. 
                    choosing an arbitrary contact normal
                qq what is indeterminate contact? 
                    degenerated case, normal can not be computed directly 
                qq what are degenerate types typically? x5
                qq how can we handle face overleap?
                    contacts are replaced by 
                        multiple point contacts one for each corner.
                &h multiple posint contact! 
                qq how can Rectangle intersection problem be solved? algo! the complexity? op21 
                    Sort...enter event...exit event...
                    nlogn+k 
                qq the idea of BVH collision test
                    the collision test only 
                        descents down (in detail level) only when the root nodes intersect
                qq what do we need to test collections in near phase? 
                    triangle-triangle intersection tests
                    qq tt how can we do xxx intersection tests? 
                qq Contact Extraction algo? large x3+ tobere
                    [body movement]
                    [Broad phase] enumerates potential contact pairs
                    [Near phase] filters out actual contact pairs 
                    compute [exact contact information] for list of contact pairs 
                        positional vertex
                        normal 
                        penetration depth
                qq Near Phase with SAT for OOBB, how many axis to be tested?? 
                qq the idea of SAT theorem?? 
                    no intersection between two bodies 
                        if [one separating axis exist] where 1D projections do not intersect
                //Collision Handling 
                &h 
                    impulse transfer 
                    we can treat  multiple contact collisions through a sequence of single  contact impact
                    Interpenetration from discrete time stepping can be cured  
                        by the introduction of bias velocities
                    bias velocities
                    joint constraints allow for update of external  
                        forces through solution of LCP
                    A numerically robust LCP solver for simulating articulated 
                        rigid bodies in contact
                    https://pdfs.semanticscholar.org/f6c9/47008716ad5cde2bae42732277cf4a7036ce.pdf
                    http://www.roboticsproceedings.org/rss04/p12.pdf
                    2008
                    animation.rwth-aachen.de/media/papers/2012-EG-STAR_Rigid_Body_Dynamics.pdf
                    *https://animation.rwth-aachen.de/media/papers/2012-EG-STAR_Rigid_Body_Dynamics.pdf
                    https://www.cs.cmu.edu/~baraff/sigcourse/notesd2.pdf
                    *https://box2d.org/files/ErinCatto_SequentialImpulses_GDC2006.pdf 
                qq we have to express conservation law in normal direction! ??! 
                    3rd Newton‘s law
                qq how can we simulate joints? ensure the joint constraint? 
                    ensure the velocity after collisions is zero 
                qq what is cross product matrix? 
                qq explain the idea of inverse mass matrix! K-matrix! 
                    relate the change in velocity to the force impact
                qq tt Derivation of K-Matrix! 
                qq tt compute the Change in Total Energy, derivation and the result? 
                qq how can we compute impulse? how can we update velocities of the two? pp with code?? 
                    > how can we compute impulse in: inelastic/ elastic/ partial elastic case? 
                    > (based on ennergy conservation) 
                    (Frictionless Impact and with frictions)
                qq how can friction force be visualized? 
                    friction cone
                qq what does it indicates if a spin of the rigid body is observed? 
                    friction force/ impulse imp. 
                qq what is normal_mass and tangent_mass? what are their difference? 
                    > and how are they used?? 
                    
                    mat3 m1 = c.body1->inv_inertia*(dot(r1, r1) * I - dyad(r1, r1));
                    mat3 m2 = c.body2->inv_inertia*(dot(r2, r2) * I - dyad(r2, r2));

                    float inv_mass_sum = c.body1->inv_mass + c.body2->inv_mass;
                    c.normal_mass = 1.0f / (inv_mass_sum + dot(c.normal, m1 * c.normal) + dot(c.normal, m2 * c.normal));
                qq how can we compute/ include friction forces? 
                    compute Tangential impulse similarly to normal impulse! 
                qq * how can we decide whether to apply static or sliding friction?? 
                    we compute static friction first, check if it is smaller than 
                    the value of sliding friction, if not smaller, we apply sliding friction 
                    or this can also be done with the help of math::climp() function 
                qq draw to illu. parallel and orthogonal force impact! op36 
                qq how can we compute tangential part of K matrix?? 
                qq impulse transfer? 
                    compute/ update velocity in simulation with the help of impulse
                qq how can we handle Multiple Contacts? op39 
                    update for each each body i and each contact point j 
                qq * for the Newton’s Cradle, our current knowledge is not sufficient! why? 
                    it is not a dispersion-free system.! 
                    [impact propagation time] can not be ignored! 
                qq how to handle this case? we may can not simulate Cradle
                    collisions are dispersion-free and propagate fast 
                qq describe the Sequential Impulses Algorithm(loop) detail  op46 
                    1.compute list of contact points 
                    // the v-p-v approach //
                    2.compute relative velocities
                    3.iteratively apply impulses with constrains (impulse accumulation)
                        and add de-penetration bias velocity
                    4.update linear velocities and angular velocities
                qq how can we avoid penetration between diff. bodies? 
                    add de-penetration velocities op47 
                qq what is the pre-condition of impulses computation? 
                    list of contact points & normals extracted 
                qq impulses computation: op47 
                    inelastic normal impulse, friction impulse, de-penetration impulse
                qq how can we inprove the stability of the Sequential impulse loop? ** x2 
                    key1. compute iteratively, k=10-50, 
                    key2. permute order of contact list continuously
                qq examples of Contact Constraints (for contact forces)
                    The contact forces can "push" but not "pull".
                    once two bodies have separated at a contact point, there is no
                        force between them at that contact point.
                qq what is contact forces vector? can we apply constrains on it?
                &h LCP problem 
                    一般是*不等式
                    LCP vs LP: linear complementary problem has unequal objective function 
                    arises in computational mechanics field 
                    encompasses the well-known quadratic programming as a special case.
                    can be solved by simplex algorithm 
                qq how can we solve LCP problem arises in computational mechanics? 
                    express/ classify contact points to vanishing and non-vanishing 
                        and then solve with linear programming 
                qq how can we deal with Interpenetration from discrete time stepping ? 
                    ** with bias velocities
                qq how can we handle in games? e.g. chains of bodies?
                    //geometrical constrains arised in computational mechanics!
                    *https://www.cs.cmu.edu/~baraff/papers/sig89.pdf
                        solving linear systems of inequalities
                        calculate  the forces that would naturally arises
                        The bodies may also be constrained to satisfy certain geometrical relationships
                        however, it is not a valid analytical model of forces between bodies in resting contact
                        Penalty Methods vs. Analytical Methods
                        several advantages over penalty  methods. 
                        Penalty methods for rigid bodies are often computationally expensive
                        the differential equations  that arise using penalty methods may be "stiff"
                        In contrast, analytical methods for rigid bodies give exact  answers and produce differential equations
                        require far fewer  time steps during simulation
                        analytical solutions are based directly on the laws of Newtonian  dynamics.
                        Analytical methods however are much more complex  to derive and implement
                        Simulation using Analytical Methods
                        arbitrary holonomic geometric constraints can be achieved with this paper! 
                    use Analytical methods instead of the one we used before 
                        but it is relative hard to implement 
            pruf-re-ok- slides-12 CG3_12_Fluid  
                https://www.cs.ubc.ca/~rbridson/fluidsimulation/
                http://david.li/fluid/
                mit verschiedenen Parametern f黵  Gase und Fl黶sigkeiten angewendet werden.
                Fire (Fedwik 2002) 
                Momentum Equation
                qq Incompressible Navier-Stoke’s  op7 equ.
                qq “Incompressibility condition”?
                stream lines diverge  (div ?? >0)
                stream lines
                qq what is divergence of a vector field u?? op08 the pic! 
                qq does div depends on time??
                    no, only on spatial derivatives
                Divergence does not  depend on the time  
                    derivative but only on  spatial derivatives
                &h divergence does not dep. on time 
                perform variable substitution
                characteristic values in dimension-less constants
                define dimension-less force
                dimension-less Navier-Stoke憇equations 
                asterix
                explain a given rendering equation.
                do not have to learn the rendering equation by heart
                The same holds for rigid boy collision and Navier Stokes equation.
                component form
                Reynold憇 Number
                qq what is Reynolds Number
                    it is the ratio between [inertia force and frictional force]
                    *determines the behavior of the fluid 
                    Re determines the depth of the vortex cascade.
                        for large Re, small vortices are still relevant.
                        thus the simulation in such situation is computational expensive! 
                    (for gases typically large and for  
                        fluids a broad range [water ?honey]  possible
                qq what is Re<1, Re>40, Re>2000?? 
                    stationary flow
                    periodic behavior
                    individual vortices
                    turbulent, chaotic, vortical
                qq what are particularly hard to simulate? 
                    small vortices
                qq what is Existence- and Uniqueness of „physically plausible “ (energy-restricted) 
                    > solution of Navier-Stoke‘s-Equations in 3 dimensions? tt 
                qq what are our goals in cg? 
                    [fast] approximate solutions
                        with a good [visual impression]
                            without [suppressing vortices]. 
                qq what happends to Reynold when simulating gases??
                qq explain the behavier of Re number 
                Kolmogorov-Cascade of turbulent Fluids
                Re determines the depth of the vortex  cascade
                The accurate simulation of turbulent  fluids is computational expensive
                Then  a high grid resolution and small time  steps are necessary
                qq how Re affacts turbulent fluids??
                large vortices
                刾hysically plausible ?(energy-restricted)  solution of Navier-Stoke憇-Equations in 3 dimensions
                Millennium Problems
                Precise simulation of air resistence of cars, 
                    buoyancy of airplanes, water resistance of ships, 
                    spray nozzles, weather forecasts
                computationally complex
                good visual impression 
                fast approximate solutions
                Momentum Equation of fluid
                qq what is material derivative?? 
                qq What forces act on the blob? x4
                    gravity: mg 
                    pressure: integrating [pressure gradient] over the blob’s volume Vdelta(p)
                    Viscosity: blurred diffused, yields [Laplacian]
                    body forces: k added by user
                qq the momentum equation?? Navier–Stokes momentum equation! 
                    > explain it! derive! op19
                qq we define a quantity in Eulerian view, how can we compute the derivative 
                    > in Lagrangian view? 
                    > derive the material derivative!`
                    (take use of the chain rule to derive, and rearrange it)
                qq what is advection?
                    if 𝑞 moves with the fluid particles and no external forces ! 
                The 搉ormal?contact force is pressure (force/area)
                frictional part of contact force
                simple model is that we want velocity  to be blurred/diffused/
                Blurring in PDE form comes from the Laplacian 
                heat equation
                qq the expression of heat equ. op22
                standard eq抧
                ? Label each speck of matter, track where it goes (how fast,  acceleration, etc.) 
                Measure stuff as it flows past
                Lagrangian viewpoint
                Eulerian viewpoint:
                qq compare those two viewpoitns 
                boils down
                It all boils down to the chain rule
                How fast is ?? of that blob of fluid changing in the  Lagrangian viewpoint? 
                Material Derivative
                qq what is Material Derivative? can we tell how 
                    > fast this quantity changes?? op26
                acceleration
                material derivative
                qq why equals to zero?? in "advection" equ??!! 
                how fast ?? is changing at [a fixed point] in space
                holds even if the vector field is velocity itself:
                dot-product and gradient
                our fluid has a colour variable 
                qq what is the phy. meaning of xxx op27, how can we compute the changing in
                    > a fixed point?
                qq what do we know if the fluid is advection fluid? op27 ! 
                    we have some equ. derived from that! 
                qq what if our fluid is color ... even if the vector field is velocity itself
                    > how can we handle this situation? 
                    componentwise! 
                    component-by-component
                    that is dot-product!
                qq Advection Equation
                liquids change their volume as  well as gases, 
                    otherwise there would  be no sound underwater
                qq Real fluids are compressible why we assume liquids are incompressible 
                    > in fliud simulation? 
                    Compressibility is nearly irrelevant for animation
                    has a very little effect when simulating 
                qq derive the incompressible condition op31
                    fix your eyes on any volume Ω of space...
                qq why irrelevant for animation?? op30
                    Acoustic waves usually have little effect on visible fluid motion
                qq the reason that div of u is zero everywhere?? for incompressible fluids. 
                    fix your eyes on any volume, assume fluid is incompressible, 
                        we know  volume of
                        fluid in = volume of fluid out  
                    divergence theorem 
                constrained dynamics
                qq why velocity field is divergence free for incompressible fluids? 
                qq how can we simulate this div free system? x2 
                    1.constrained dynamics
                    2.artificial compressibility
                    solve for a pressure that makes our fluid incompressible
                        *constrained dynamics
                        may have to slove linear system 
                        pressure is the matching Lagrange  multiplier
                    Track density, make pressure proportional to density variation
                        *soft-constraint
                        artificial compressibility
                &h
                    make the velocity field divergence free
                    s a  constraint, and 
                    To avoid having to solve linear systems, can turn this into a  soft-constraint
                    Track density, make pressure proportional to density variation
                    easier to accelerate a linear solver?if the linear  system is well-posed 
                    numerical methods for solving incompressible  Navier Stokes equations
                    how can the advection step be approached in a semi-Lagragian manner
                    不可压缩流
                    不可压缩流是流速的
                        散度等于零的流动，更精确地称为等容流
                    这理想流动可以用来简化理论分析
                    所有的物质多多少少都是可压缩的。
                        “等容”这一术语指的是流动性质，不是物质性质
                    *由于做了不可压缩这假设，物质流动的主导方程能够极大地简化。
                    随体导数(material derivative)表达
                    也就是说，随着物质元素的移动，质量密度是常数
                    质量密度是常数
                    这些方程建立了流体的粒子动量的改变率（力）和作用在液体内部的压力的变化和耗散粘滞力（类似于摩擦力）以及重力之间的关系。
                    这些粘滞力产生于分子的相互作用，能告诉我们液体有多粘
                    任意给定区域的力的动态平衡
                    它们可以用于模拟天气，洋流，管道中的水流，星系中恒星的运动，翼型周围的气流
                    它们也可以用于飞行器和车辆的设计，血液循环的研究，电站的设计，污染效应的分析，等等。
                    依赖微分方程来描述流体的运动。不同于代数方程，这些方程不寻求建立所研究的变量
                        （譬如速度和压力）的关系，而寻求建立这些量的变化率或通量之间的关系
                    变化率或通量之间的关系
                    用数学术语来讲，这些变化率对应于变量的导数
                    实用上，也只有最简单的情况才能用这种方法获得已知解。这些情况通常涉及稳定态（流场不随时间变化）的非紊流，
                    中流体的粘滞系数很大或者其速度很小（低雷诺数）
                    对于更复杂的情形，例如厄尔尼诺这样的全球性气象系统或机翼的升力，
                        纳维-斯托克斯方程的解必须借助计算机才能求得。这个科学领域称为计算流体力学
                    21世纪流体力学领域的重要技术之一
                    目前有多种商业CFD软件问世，比如FLUENT、CFD-ACE+（CFDRC）、Phoenics、CFX、Star-cd等。
                        CFD最基本的考虑是如何把连续流体在计算机上用离散的方式处理。一个方法是把空间区域离散化成小胞腔
                    应用合适的算法来解运动方程（对于不粘滞流体用欧拉方程，对于粘滞流体用纳维-斯托克斯方程)
                    *不粘滞流体用欧拉方程，对于粘滞流体用纳维-斯托克斯方程
                    欧拉方程的数值解法非常倚赖特征线法。
                    光滑粒子流体动力学，求解流体问题的拉格朗日方法，
                    *如果选择不使用基于网格的方法，也有一些可选的替代
                        谱方法，把方程映射到像球谐函数和切比雪夫多项式等正交函数上的技术
                        格子波尔兹曼方法（Lattice Boltzmann Methods），它在直角正交格点上模拟一个等价的中尺度系统，而不是求解宏观系统（也不是真正的微观物理）
                        Lattice Boltzmann Methods
                    很多实例中，其他方程和纳维-斯托克斯方程要同时被求解。这些其他的方程可能包括描述种类浓度，化学反应，热传导，等等。很多高级的代码允许更复杂的情形的模拟，涉及到多相流（例如，液/气，固/气，液/固）或者非牛顿流体（例如血液
                    其他方程和纳维-斯托克斯方程要同时被求解
                    大涡流模拟（LES）是一种技术，其中更小的涡流被滤掉并用亚格点尺度模型来建模，而更大的能量的涡流则被模拟出来。该方法通常比RANS模型需要更细化的网格，但是比DNS解所需要的网格粗的多。
                    离散化完成后要进行的方程系统的基本求解由很多数值线性代数的为人熟知的许多算法完成。可以使用静态的迭代方法，譬如对称高斯-赛得尔（Gauss-Seidel）或者渐进松弛（successive overrelaxation），或者克雷洛夫子空间法（Krylov subspaces）。在后者中，解的余数在非线性算子的一个子空间的正交基上最小化
                    这些技术广泛用于工程设计或者分析和流体相互作用的设备，例如车辆，飞行器，泵，化学装置和通风系统等等。该技术也用于计算机图形学，因为动画家不能像控制固态人物那样简单的处理流体，因而必须使用CFD技术结合交互工具，达成动画影片或游戏中的流体模拟
                    研发了基于天河高效能计算机的“高精度数值风洞”和“高超声速CFD软件平台”
                    对称守恒网格导数计算原则
                    http://www.xys.org/
                    **有一个总的正确的模拟的物理公式，但是模拟的时候是针对情景的不同程度的简化优化
                qq besides grid based methods, what other methods do you know?? web
                Inviscid Fluids
                &h not viscid
                In most scenarios, viscosity term is much smaller
                Zero viscosity = “inviscid”
                Inviscid Navier-Stokes = “Euler equations” 
                qq what is numerical dissipation?? 
                    在计算物理学中，数值耗散（numerical dissipation）也称为数值扩散（numerical diffusion）
                    是指一种出现在微分方程数值解中的副作用。当一个没有耗散的纯平流方程式利用
                        数值分析方式求解时，其初始波的能量会依类似耗散过程的方式减少!*
                    不过有时为了提升数值解的数值稳定性，会特别加入人工耗散（artificial dissipation） 
                    can be seen as an artifact
                    耗散是出现在非匀相热力学系统中不可逆过程的结果。
                        耗散过程是指能量（内能、动能或势能）由一种形式转换到另一种形式，
                        而且后者可以作的功少于前者
                    例如将能量转换为热是一种耗散过程
                    热力学的耗散过程在本质上就是不可逆的，此过程以固定的速率产生熵。
                    不可逆过程
                    一些特定情形下的耗散过程无法用单一的哈密顿力学方程来描述
                    人工耗散（artificial dissipation
                    numerical dissipation 
                qq what is numerical dissipation? how can be solved ??
                    side-effects that may occur as a result of a numerical solution
                    will cause the loss of energy 
                    "artificial dissipation" is intentionally added to improve the numerical stability
                viscosity of air
                viscosity of water
                Dynamic viscosity
                qq what is kinematic viscosity
                qq is air more viscous than water? 
                    air is 10 times more viscous than water
                qq incompressible Euler equations? and explain!
                We know what’s going on inside the fluid: what about at  the surface
                qq which Three types of surface can be found with fluid??
                    https://www.youtube.com/watch?v=kphzE0KXuNw
                    ? Solid wall: fluid is adjacent to a solid body
                    water is so much denser than air
                    Free surface
                    Other fluid: possibly discontinuous jump in quantities (density, …)
                    Boundary Conditions
                qq how can we model solid wall? No fluid can enter or come out of! 
                    “no-stick” condition
                    let  fluid slip past tangentially
                qq mathematical expression of this? op38
                qq what is "no-stick" condition
                qq what is “no-slip”  condition? 
                    For viscous fluids only, can additionally impose “no-slip”  condition
                qq how can we model Free Surface? 
                    with help of gradient of pressure, 
                        we can set pressure to be 0 
                qq what if surface tension is impro. ??If surface tension is important 
                    pressure is instead related to mean curvature of surface
                qq how about the pressure in this case??
                    mean curvature of surface is considered 
                qq how can we model surface tension in Free Surface?? op39 
                qq when simulating two fluids interacting with each other, 
                    > do we know Density jump?
                    > what about the Normal velocity jump?? 
                    > what about pressure jump?
                    > (take the previous video as example!)
                &h 
                    At fluid-fluid boundaries, the trick is to determine “jump  conditions”
                    With no surface tension, pressure jump [??] = 0 vanishes
                    Normal velocity jump must be zero
                    one-dimensional flow in fluids or a one-dimensional deformation in solids. 
                    Rankine–Hugoniot conditions
                    https://wikimedia.org/api/rest_v1/media/math/render/svg/e32e53864fd40d3dfe7ac8cf8ab59ddcddfd24d9
                    &h those jump condiitons is somehow related to conservations 
                    fluid-fluid boundaries
                    how can we determain fluid-fluid boundaries?? 
                    https://en.wikipedia.org/wiki/Rankine%E2%80%93Hugoniot_conditions
                    Normal velocity jump must be zero
                    &p pp detail?? tt 
                Numerical Simulation Overview
                momentum equation
                pain to handle them all simultaneously
                Splitting Example
                qq hwo can we split a differential equation?? op43 pic given 
                    a separate solution module for each term
                qq can we split any equ. by solving them saparately? how? op43
                    > F and G function 
                    > and in First order accurate in time! 
                qq which component can we Split Momentum equ? x4 
                    advection
                    gravity
                    diffusion
                    pressure update
                qq How can we make the fluid incompressible?
                Eulerian grid
                qq compare simulation strategies: Eulerian grid and SPH based in nutshell
                qq op45 x3x1
                    +Trivial to [set up] easy to define grids 
                    +easy [spatial derivatives] computation
                    +Particularly good for the effect of [pressure]
                    -advection doesn’t work so well
                qq what is A Simple Grid Disaster??
                    numerical solver may give other solutions
                qq how can we solve such Simple Grid Disaster?
                    estimate divergence at stagger the grid, instead of a grid point
                    Staggered Grids
                    we estimate divergence at a grid point as
                    put velocities halfway between grid points
                qq what is The MAC Grid? pros and cons for it? 
                    From the Marker-and-Cell  (MAC) method  [Harlow&Welch’65]
                    particular staggering of variables
                qq compute pressure gradient at velocity sampling point? 
                qq where are the velocity sampling points? and pressure sampling points? 
                //works well for incompressible fluids:
                qq where is the velocity??
                    velocity ????+1/2,??,?? in  middle
                    x-part of velocity
                    y-part of velocity
                    ?? in  middle of x-face
                    pressure gradient
                qq how can we compute velocity and pressure gradient in this pic.?? op48 
                qq where are we going to compute pressure gradient??
                qq what are downside of MAC grid? And array storage?? 
                    translate indices in code, and thus make interpolaiton annoying 
                qq Downside of this MC grid based strategy, possible solution?? 
                    switch back and forth, and averaging later 
                Robert Bridson’s philosophy: avoid averaging as much as possible!
                We’re on an Eulerian grid, though, 
                    so the result will be called  “semi-Lagrangian” 
                    (introduced to graphics by [Stam’99])
                qq what is Semi-Lagrangian Advection?? 
                    use the  Lagrangian notion of advection directly
                    but solve it within grids, thus, Eulerian grids 
                qq the idea of Semi-Lagrangian Advection??
                    trace backwards through the velocity field, 𝑞 doesn’t change 
                qq why Chief interesting aspect of fluid motion is vortices??
                qq compute the x_old with help of x_new? in explicit euler? 
                    Forward Euler does not
                    Instability, obvious spiral artifacts
                qq compute u at staggered location? 
                qq what is the particular requirements of a stable ODE integrator? 
                    handle rotation well, without artifacts
                qq does Forward Euler handle vortices well? why? 
                qq can Forward Euler handle vortices correctly?? op53
                qq which ODE integrator can be used here with a better result?
                    Runge-Kutta 2 is simplest half-decent method
                    Runge-Kutta 2 
                qq how can we get the velocity and compute u(xyz) vector?? based on MAC grid? 
                    by  averaging the appropriate  staggered components:
                    at (??,??, ??) 
                qq op54
                we only want to advect quantities in an  incompressible velocity field 
                qq why advection step should be the first in the  split integration?? op55
                    use the old incompressible values stored in the grid
                    and do not have to update them 
                when we trace back  from a grid point to x  old 
                    we won’t  land on a grid point
                qq how can we get q(x_old) when the x_old position is not on grid? 
                    Solution: interpolate from nearby  grid points
                    Simplest method: bi/trilinear  interpolation
                    be careful to get it  right for staggered quantities
                    staggered quantities
                we’re interpolating from is not in the fluid?
                qq What if x  old isn’t in the fluid? what should we do in this case?
                    Extrapolate before advection, to all grid points in the  
                        domain that aren’t fluid
                    use extrapolated velocity to update, to interpolate 
                qq whta happends when we are beyond the original observation range
                qq what is the diff. bet. interpolation and extrapolation?? 
                    the range is diff! 
                    extrapolation is subject to greater uncertainty and 
                        a higher risk of producing meaningless results.
                    interpolation is down between known observations
                qq region of interest (ROI) 
                    interpolation focuses on an area known as the region of interest (ROI)
                    be careful about what’s known and unknown on the grid
                &h 
                    trickiest bits of code
                    与内插类似，但其所得的结果意义更小，而且更加受不确定性影响。
                    此公式与线性内插是一样的。只是线性内插时
                    extrapolation is a type of estimation, beyond 
                    the value of a variable on the basis of its relationship 
                        with another variable
                    It is similar to interpolation, which produces estimates between 
                        known observations
                    interior reconstruction can be applied to dental or cardiac CT images, the concept is not limited to CT.
                    A sound choice of which extrapolation method to apply relies on a prior knowledge of the process that created the existing data points.
                    Crucial questions are, for example, if the data can be 
                        assumed to be continuous, smooth, possibly periodic etc.
                    A conic section can be created using five points near 
                        the end of the known data
                    conic sections template (on paper) or with a computer.
                    the inviscid “no-stick” boundary condition
                qq only constraint the normal components of u when facing solids? 
                    constraint the normal components 
                    we need  to extrapolate into solids
                    can’t use the solid’s own  velocity
                qq why cannot  can't use the solid's own
                    bad numerical viscosity
                qq what is volumetric animator forces?
                qq how can we add such a force? 
                qq we have to solve pressure before advection? 
                    https://github.com/tunabrain/incremental-fluids/blob/master/1-matrixless/Documentation.md
                    computational fluid dynamics
                    closely follows Robert Bridson's book, "Fluid Simulation for Computer Graphics",
                    The solvers in this project come in a large variety
                    ranging from minimalistic to complex. All solvers are Eulerian in 
                        nature and run on a staggered Marker-and-Cell grid.
                    The number of the solver defines a progression
                    codes with higher number build on codes with lower number, 
                        either adding on features or replacing methods with better ones.
                    not in any of the successing solvers to avoid clutter.
                    save individual frames.
                qq “Poisson equation” for pressure?? op62
                The discrete pressure update  on the MAC grid:
                qq what is the incompressibility condition on the new velocity on grid ijk??
                    divergence free
                *lets voxelize the geometry
                each grid cell is either fluid, solid, or empty
                qq what are possible grid point types?? x3 
                qq explain this pic
                qq why we update pressure first? 
                    we can compute the “ghost” solid pressure at boundaries and then, inside 
                    after the first iterate that all pressure has been computed, we can apply 
                    advection, fluid simulation, update velocities! (pp ?? may prob.)
                qq compute the ghost pressure for the simplist case! 
                qq linear equations for pressure due to div free? 
                    End up with a sparse set of linear equations to solve for pressure
                qq do we have apply iterative computing process here? why? 
                    Iterate until the divergence is small enough (pp ?? may prob.)
                qq *why Voxelization is Suboptimal?? drawbacks of grid based solution? x2 
                    Free surface artifacts
                        may not grid-aligned
                    Solid wall artifacts
                        boundaries may not grid-aligned
                        Slopes are turned into stairs
                SPH – Algorithm Variants
                SPH – Pressure Projection
                &h paper rel. start from op71
                only solve for ?? in Fluid cells
                empty cells: ?? = 0 (free surface)
                qq how can we compute the "ghost" solid pressure in this case?? op66
                qq re- when solving pressure, how can we handle Boundary conditions?? op65 x2
                    &h the pressure should be zero but be a 
                        ghost val. to simulate correctly
                    pressure update formula into discrete divergence
                qq how can we conpute pressure for solid cells??
                &p drop to 5??op68
                qq how to update pressure and velocity?? op68
                &h 
                    Discrete Pressure Equations
                    End up with a sparse set of linear equations to solve for  pressure 
                    sparse set of linear equations
                    Matrix is symmetric positive (semi-)definite)
                    正定、半正定矩阵的直觉代表一个向量经过它的变化后的向量与其本身的夹角小于等于90度。
                    更为直观的理解是从几何图形的角度去看，正定矩阵就是一个椭球。
                    等价于，矩阵A(A为对称矩阵)的特征值全大于0，特征值全大于0，以其对应的特征向量为基时，曲面相当于往上翻的，因为都是拉伸变换
                    等价于，存在一个可逆矩阵B，满足A=BTB。(这实际间接说明了A的全部特征值大于0，因为负负得正…)
                    可逆矩阵B
                    正定矩阵
                    Matrix is symmetric positive (semi-)definite
                qq what about the pressure matrix?
                qq the linear equ. of pressure can be solved effeciently? 
                    Instead use Preconditioned Conjugate Gradient, 
                        with Incomplete Cholesky preconditioner
                    &p pp
                Residual is how much divergence there is in
                Iterate until satisfied it’s small enough
                divergence
                qq why we iterate? 
                    divergence
                Free surface artifacts
                Solid wall artifacts:
                Left with strangely textured surface
                If boundary not grid-aligned, O(1) error
                Slopes are turned into stairs, 
                water will pool
                *ref. https://github.com/tunabrain/incremental-fluids
                soot particles
                qq how can we simulate smoke? phy model? 
                composed of soot particles suspended in air
                Smoke is composed of soot particles suspended in air
                track concentration of soot on the  grid: ??(??,??)
                Evolution equation:
                qq equ. for soot concentration on grid 
                Usually smoke is moving because the air is hot
                pressure vs. gravity ends up in buoyancy  (hot air rising)
                Need to track temperature
                qq why and how can we track temprature?? the Evolution equation!
                &h Need to track temperature
                qq what is conduction??
                qq how can we handle Boundary conditions??
                    extrapolation 
                The Boussinesq approximation is applied 
                    to problems where the fluid varies in 
                    temperature from one place to another, 
                    driving a flow of fluid and heat transfer.
                The fluid satisfies conservation of mass, conservation of momentum and conservation of energy.
                qq what is Boussinesq approximation, what may be its advantage? 
                    Density variation due to temperature or soot 
                        concentration is very small
                    use a ghost force to simulate buoyancy! 
                    computational effecient 
                qq how can we add external buoyancy force in momentum equation?? 
                qq which dir has buoyancy force? what are alpha and beta in such equ.? 
                    Constants
                &h
                    ariations in fluid properties other than density ρ are ignored
                    In the Boussinesq approximation, variations in fluid 
                        properties other than density ρ are ignored
                    continuity equation for conservation of mass i
                    general expression for conservation of momentum of an 
                        incompressible, Newtonian fluid (the Navier–Stokes equations) is
                    where α is the coefficient of thermal expansion
                    conservation of momentum
                    conservation of mass
                    convection equations
                    Density variation due to temperature or soot concentration  is very small
                    Use the “Boussinesq approximation”:  fix density=constant
                    but add external buoyancy force in  momentum equation:
                    “Boussinesq approximation
                    Constants ?? and ?? can be tuned 
                qq what If no soot and no temperature difference?? 
                qq bouy. force is a vector force?
                qq what boundary condition we have to apply when facing open boundaries? 
                    free surface (p = 0)
                    explicitly zero velocity on far boundaries
                    We let air blow in or out as it wants 
                    explicitly zero velocity on far boundaries
                Vorticity Confinement
                vortices live on all scales and have high visual impact 
                qq why vortices disolves too fast?
                    numerical dissipation disolves vortices too fast
                qq how can we overcome it?/ how can we preserve the vortices?? x2 
                    [Fedkiw 2001] add force that keeps vortices alive
                    [Fedkiw 2005] trace vortex marker particles and apply forces 
                    couple them with forces to grid simulation
                    trace vortex marker particles
                Fedkiw
                qq what is vorticity?
                    vortex strength and axis of rotation
                qq what is gradient vorticity?? which direction? 
                    axis of rotation/ gradient vorticity/ vorticity confinement force 
                qq how can we determain vortex strength and axis of rotation?? op77
                gradient vorticity
                points  towards vortex core line
                vorticity confinement force
                qq what is the equ. of vorticity confinement force?? op77
                qq what is the direction of vorticity confinement force??
                qq why we need delta x here? 
                    ensures independence of  grid resolution 
                qq mark omega, ita and force dir in this pic.!op77
                numerical dissipation of soot density and temperature  counteracts the gains of vorticity confinement
                counteracts
                qq what is monotonic Hermite Interpolation, how it benefits? solves overshooting??
                    Fedkiw [2001] propose to use a modified Hermite interpolation
                    ensure the monotonicity of the resulting Hermite spline.
                qq how can we do vorticity confinement ??
                qq why we would apply monotonic Hermite Interpolation instead of 
                    > other higher order functions? 
                        fights back numerical dissipation and do not have 
                            the problem of overshooting
                qq draw example curve for Hermite interpolaiton and the monotonic one!
                    Monotonic Cubic Interpolation for smoke simulation 
                    monotone cubic interpolation is a variant of cubic interpolation 
                        that preserves monotonicity of the data set being interpolated.
                    preserves monotonicity of the data set being interpolated.
                    Monotonicity is preserved by linear interpolation but not guaranteed 
                        by cubic interpolation.
                tt use c++ and python mixed 
                modified Hermite  interpolation that is monotonic in the data.
                numerical dissipation
                qq how can we deal with numerical dissipation? 
                    with interpolation 
                qq but can not use higher order interpolaiton! 
                    beacase of overshooting
                qq why we typically use SPH approach for water simulation? 
                    voxelization does not working well when simulating water air surafce 
                    voxelization approach does not sufficiently reproduce  water surfaces
                &h water and sph approach left 
                qq how can we sampling the water-air surface correctly? 
                    > two better ways than grid based ones 
                    Marker particles, render with meta balls
                    Level Sets 
                qq compare voxelization approach and Marker particles
                qq the idea of Marker particles! 
                    sample fluid volume with [particles]
                    define [cell state] to be fluid if it contains 
                        marker particles, empty or solid otherwise
                    [move particles] in incompressible grid velocity field
                    [render surface] via meta balls 
                    [resample] resulting iso-surface on simulation
                qq idea of Level Sets method 
                    [represent interface] by signed distance level set function
                    [advect level set] according to
                    [recompute] distant values by fast marching method
                    &p pp
                    tt papers!!!
                ** tt Felzenszwalb, P., & Huttenlocher, D. (2004). 
                    Distance transforms of sampled functions. Cornell University.
                    http://www.cs.cornell.edu/~dph/papers/dt.pdf
                    Fast Distance Function
                    &pp err? op81 ! x - x' ==> (x,y) - (x',y) ^ 2 ??
                qq what is Fast Distance Function, 
                    > how can it be used to levelset methods?? op81
                    nD-case can be reduced to (n-1)D-case, 
                    nDcase can be computed in linear time! 
                qq the computing example of Fast Distance Function on op82 
                qq 3 ways to define a surface when simnulating 
                nD-case can be reduced to (n-1)D-case
                3D transform can also be computed in linear time
                Felzenszwalb, P., &  Huttenlocher, D. (2004).  Distance transforms of  sampled functions. Cornell  University
                    tt paper!!!!!
                Then 1D distance transform is  height of lower envelop over  all parabolae
                qq how lower envelop looks like??
                    list of  ?? parabola parts
                    lower envelop over all parabolae 
                    all parabolae
                    compute lower envelop of  parabolae
                    height of lower envelop over  all parabolae
                qq how can we compute the intersection of two evolops? 
                qq how Evelop can be built, description? and the code? 
                    Evelop is built in sweep from  left to right, 
                        adding one parabola at a time
                horizontal range of parabola part  ?
                qq the Extrapolation process?? 
                    qq Extrapolation initialization?
                        extract and [store interface points]
                        [store for each grid point] closest point on interface
                        [interpolate] fluid quantities onto interface points
                        // compute fluid quantities on each grid cell point 
                    qq Extrapolation methods for surface computation?? x2 
                        1. copy values from closest point on interface
                        2. align gradient of distance points parallel to ray 
                            get information from points with smaller distance
                        signed distance simplifies extrapolation significantly
                        store for each grid point closest point on interface
                        solve the PDE with finite differences (Careful “upwind”  scheme needed 
                        based on Fast Distance Function
                qq the algo. to compute Fast Distance Function??! op84
                &h the algo is grid based so, we use q from 0 to n-1 to iterate all grid cells! 
                signed distance simplifies extrapolation significantly
                Careful “upwind”  scheme needed
                &p scheme??
                tt read from code!!! 
                qq what means Adaptive Discretization?
                    level set method was extended to octrees
                    taking use of octrees
                //SPH 
                http://physbam.stanford.edu/~fedkiw/papers/stanford2004-07.pdf
                qq what is SPH, and why we use it instead of grid based methods?
                    Smoothed Particle Hydrodynamics
                    there is a conclusion that sph provide best realism at same computational speed.
                Ihmsen, M., Orthmann, J., Solenthaler, B., Kolb, A., & Teschner, M.  SPH fluids in Computer Graphics. Eurographics STAR, 2014 
                provide best realism at same  computational speed.
                ***https://cg.informatik.uni-freiburg.de/publications/2014_EG_SPH_STAR.pdf
                https://ge.in.tum.de/publications/2017-sig-um/
                    comparation 
                    https://www.youtube.com/watch?v=chnS24QfgNY
                    https://www.youtube.com/watch?v=coCqA4vGziU
                    youtube.com/watch?v=coCqA4vGziU
                    https://www.youtube.com/watch?v=coCqA4vGziU
                Infinite continuous adaptivity for incompressible SPH 
                realistic kinematic viscosity for water
                qq what is the sph formulation of the momentum equ.? 
                with kernel ??, smoothing length ? and number of  dimensions ?
                Interpolation
                qq how can quantities be interpolated in sph method? op91
                    from closest particles
                    cubic kernel function  or quintic spline
                    gaussian kernel
                qq which interpolation are we going to use in practice? 
                    quintic spline interpolaiton
                qq which 2 methods to interpolate exists?
                qq which mehtod is the best one theoretically?? why it is probabilistic in practice?
                    for theory Gaussian is best but in  practice problematic 
                        due to [infinite support]
                qq what is the prob. with gaussian kernel? why we do not use it?? op91 
                &p pp infinite support ? particles that very far(infinite ones) are affected?? 
                standard approach
                qq how can we compute partial derivatives of the desired quantity?? Ai, 
                    > in a simple way? what may be the prob. of that? 
                    has numerical problems
                qq how can we compute a robust approx. for gradient and lap. of Ai??
                    uses the  more robust approximations, derived in ori paper! 
                    &p pp derive?? 
                qq how can we compute pressure? 
                qq how can we update pressure and viscosity? what is the updating eqution? 
                    > Basic Algorithm op93
                further variations at fluid-fluid and fluid-solid boundaries
                Spatial derivatives: Spatial derivatives can be computed in various ways
                various alternatives have been investigated and currently, the following 
                    approximations are  preferred
                [Mon92,MFZ97]: 
                &h see paper for detail! he just put it here without expain..........
                fluid has near constant density
                qq how can we compute, estimate time step width Δ?? smaller than a threshold?
                    > with safty term 
                    is computed from Courant-Friedrich-Levy(CFL)
                can move no more than  0.4? per time step
                SPH – Basic Algorithm
                qq SPH - Basic Algorithm op93, detail see paper! 
                qq how time step width t? is computed  is defined?? computed?? 
                qq when interpolating, how can we do Neighbor Search effeciently?? 
                    > what may be the benefits?
                    typically a regular and potentially hashed grid is used
                    better locality by using Z-index Sorting  of grid cells 
                    *Z-index Sorting
                    large number of GPU based approaches available
                    tt https://en.wikipedia.org/wiki/Z-order_curve
                    provide more locality
                    *knn or other neighbor search approaches exist 
                qq compare Z-Index Sort and KNN algo.?
                    Z-index is better for gpu based parallism, knn runs on cpu 
                    Z-index has the best GPU performance when reading neighbors
                qq why Z-order_curve can provide more locality? 
                    suitable for pgu parallel?? 
                    suitable for the gpu mem. layout 
                    &h ***Some GPUs store texture maps in Z-order to increase spatial locality of 
                        reference during texture mapped rasterization.
                    This allows cache lines to represent rectangular tiles
                    increasing the probability that nearby accesses are in the cache
                    decreases the probability of costly, so called, "page breaks"
                    This is important because 3d rendering involves arbitrary transformations 
                        (rotations, scaling, perspective, and distortion by animated surfaces)
                &h 
                    Morton space filling curve,[1] Morton order or Morton code
                    map multidimensional data to one dimension while preserving locality of the data points
                    Coordinate values
                    https://upload.wikimedia.org/wikipedia/commons/thumb/d/da/Lebesgue-3d-step3.png/300px-Lebesgue-3d-step3.png
                    Interleaving the binary coordinate values yields binary z-values as shown
                    Connecting the z-values in their numerical order produces the recursively Z-shaped curve.
                    Two-dimensional Z-values are also called as quadkey ones.
                    https://upload.wikimedia.org/wikipedia/commons/thumb/3/30/Z-curve.svg/800px-Z-curve.svg.png
                    The Z-ordering can be used to efficiently build a quadtree for a set of points.
                    building a pointer based quadtree
                    https://en.wikipedia.org/wiki/Hilbert_curve
                    &h many related curve exists 
                    3d rendering involves arbitrary transformations
                    These formats are often referred to as swizzled textures or twidled textures.
                    UB-tree
                    Space-filling curve
                    https://en.wikipedia.org/wiki/Locality-sensitive_hashing#Locality-preserving_hashing
                    https://en.wikipedia.org/wiki/Geohash
                    Neighbor Search
                qq why it has a z shape?
                    **Use with one-dimensional data structures for range searching
                qq incompressible condition for sph approach? 
                    divergence free, low density error, can be done iteratively
                qq what search strategies can be used for Neighbor Search?? op94
                can be used to  make velocity field divergence free 
                different choices for stiffness constant
                qq what sph Algorithm Variants do you know? 
                    with splitting trick, computing intermediate values
                    or, EOS solver 
                without  pressure force and in a second step do the pressure  update. 
                Incompressibility Update
                qq how can we make Incompressibility Update in sph simulation ? divergence free? 
                    use perr in formula (9)
                sparse linear solver needed
                qq how can we do Pressure Projection in sph?
                    Pressure Projection means computing pressure with alternatives
                    tt detail see paper!
                    and their combinations can be used 
                qq what is Multi-Phase Fluids? 
                    simulating multiple fluids  
                qq artefacts at the fluidfluid interface? what can be the reason? how can we solve it? x2
                    difference in fluid densities leads to 
                    number density
                    interpolation schame
                Solid Body Coupling
                sample solids along boundary  with particles
                Solid Body Coupling
                qq what is Solid Body Coupling op99 how can we archieve this? 
                    add constraint forces that avoid interpenetration
                    compute forces and torques of fluid on solids 
                qq how can we render in sph simulation?? given a set of particles op100
                    define iso-surface  from particles
                    render with volume  rendering  techniques
                    lots of works with particle visualization techniques exists! 
                    can be  implemented on  GPU (see scivis  lecture on particle  visualization)
                *Versatile Rigid-Fluid Coupling for Incompressible SPH (SIGGRAPH 2012)
                *Infinite continuous adaptivity for incompressible SPH (SIGGRAPH 2017)
                Simple Grid Disaster
                &p pp numerical solver has other solutions
                   > how to understand this??
                   ok
                qq why not use regular grids? when will cause prob.? in which cases?? op46
        ---realistic rendering 
            pruf-re-ok- slides-2 CG3_02_Rendering-Equation
                prev. 
                    ray tracing 
                        现在游戏基本都没有应用光源追踪技术，光线都是由你能看到的亮光的物体自身发出的，
                            电脑也不会计算每个光源从哪里来，
                            到哪里去，更不会计算这些光源的相互叠加。
                            只是通过及时演算物体阴影和控制光线的强弱来“模拟”人眼看到的真实情况
                        海中没有椰子树倒影这一点就很不真实。实际上，在游戏中使用的光源越多
                            画面在越貌似华丽的同时，破绽也会越多，唯一的解决办法就是采用光源跟踪技术。
                        原因很简单，使用光线追踪技术的运算量异常庞大，这么多年来的历代显卡都无法胜任这项工作
                        现在的光源追踪技术也远非完美。计算出正确的反射和折射角度也不代表就能达到完全真实的视觉效果
                        游戏开发人员试着在《雷神之锤Ⅲ》中加入了光线追踪效果，悬浮的奖励道具在墙上的投影就是通过光学追踪计算出来的，使得光源的真实感大大提高
                        种基于光栅化的渲染系统，往往只支持局部照明(Local Illumination)
                        局部照明在渲染几何图形的一个像素时，光照计算只能取得该像素的信息，而不能访问其他几何图形的信息。
                        https://www.jianshu.com/p/0375389e6a3e
                            该图片出自《孤岛惊魂》，尽管看似水面显示出了远处山峰的倒影，却不能渲染植被、船骸等细节。
                            理论上，阴影(Shadow)、反射(Reflection)、折射(Refraction)均为全局照明(Global Illumination)效果，
                            实际应用中，栅格化渲染系统可以使用预处理(如阴影贴图(shadow mapping)、环境贴图(environment mapping))去模拟这些效果
                            Rasterization和ray tracing其实是相对的
                            把物体表面间对光的反射和折射成为间接光、间接反射、间接折射。光线在物体之间的传播方式是光线跟踪算法的基础。
                            只有很少部分可以进入人的眼睛，因此实际光线跟踪算法的跟踪方向与光传播的方向是相反的（反向光线跟踪）
                            由视点与像素(x,y)发出一根射线
                            光栅化渲染，简单地说，就是把大量三角形画到屏幕上。当中会采用深度缓冲(depth buffer, z-buffer)，来解决多个三角形重叠时的前后问题
                            光线追踪除了容易支持一些全局光照效果外，亦不局限于三角形作为几何图形的单位。任何几何图形，能与一束光线计算交点(intersection point)，就能支持
                            没有三角形化这个过程！ 
                            要计算一点是否在阴影之内，也只须发射一束光线到光源，检测中间是否存在障碍物。
                            本例代码尝试使用基于物件(object-based)的方式编写
                            主要计算量在求交点？ 
                        https://zhuanlan.zhihu.com/p/41269520
                            光栅化渲染作为相对的两个概念
                            以物体为单位划分为若干个子任务，每个物体由若干三角面组成
                            下一层就会失去对上一层全局信息的了
                            比如拆分成物体后，我们就不知道场景里其他物体的存在了，拆分成三角面后，我们就无法得知其他三角面的信息
                            拆解任务可以让渲染过程高度并行化，所以非常的快，但是同时因为全局信息的丢失，我们很难实现一些需要全局信息的渲染效果。
                            全局照明效果的，譬如环境光遮蔽，间接反射，漫射等。这些技术五花八门，实现方法完全没有一个统一的框架可以遵循
                            这些光线彼此不知道对方，但却知道整个场景的信息。每条光线会和场景并行地求交，根据交点位置获取表面的材质、纹理等信息，并结合光源信息计算光照
                            一个三角面/一根光线的整个绘制过程都可以划分为若干个阶段，这些阶段合在一起就是我们通常意义上说的管线（Pipeline）
                            可编程管线则允许用户使用自定义的着色器（Shader）对数据（顶点，面，像素）进行处理
                            在原有光栅化管线的基础上，也就引申出了计算管线（Compute Pipeline）
                            DXR API实际上就是定义了一种适用于光线追踪的Raytrace Pipeline。
                    brdf    
                        https://zhuanlan.zhihu.com/p/41269520
                        BRDF描述的是表面本身的性质，比如它的光滑程度，导电程度等等
                        一部分是表面的自发光（上述公式中的 [公式] ）
                        另一部分是其他表面的射向该表面的光线（上述公式中的 [公式] ）BRDF（上述公式中的 [公式] ）作用后的结果
                        BRDF描述的是表面本身的性质，比如它的光滑程度，导电程度等等。由于四面八方的光线都会作用在这个表面，所以我们需要对所有方向进行积分，也就是一个球面上的积分
                        只有位于正半空间的方向才会对最终积分有贡献，所以最后这个球面的积分就变成了一个半球的积分
                        bidirectional reflectance distribution function
                        双向反射率分布函数
                    蒙特卡洛积分
                        本身只是一种数值计算的方法，它和光线追踪本身无关
                        蒙特卡洛积分就是这样一种方法。它的思路很简单：为了估计某个函数在一个定义域内的积分，我只需要在这个定义域内随机地找一些采样点，
                            计算采样点所在位置的函数值，把所有采样点的函数值平均即可得到该积分的估计值：
                            对一些高维的难以求解的积分有非常好的效果，而渲染方程就是这样的一类积分，所以它常常被用在求解渲染方程上
                        如果我们先验地知道函数的形状，那我们就可以针对性地生成非均匀分布的随机样本，这样能够在相同样本数量的情况下对目标积分得到一个更准确的估计
                    重要性采样
                        和它的名字一样，就是尽量采样积分定义域内重要的点，少采样不重要的点。
                    路径追踪
                        渲染方程本身在绝大多数情况下是无法直接求解的
                        人们把渲染方程用不同的数学等价形式改写，然后对新的方程形式进行近似求解
                        以它的法线为中心向半球内发射若干条光线，求出每条光线和场景的交点，要进一步以交点的法线为中心发射若干条光线
                        极难求解的递归过程
                        而路径追踪的方法把某个点的颜色看作是若干条光路（Path）合起来的贡献。一条光路可以认为是若干表面点连接而成的一条线段，为了计算某个点的着色，
                            我们只需要以该点为起点，构建若干条路径，并将每条路径上的光照贡献叠加即可。
                            我们可以认为路径追踪就是把光线以路径的形式重新组织了起来
                    *全局光照GI 
                        https://www.cnblogs.com/machong8183/p/7543724.html
                        (Global Illumination,简称 GI), 或被称为Indirect Illumination
                        既考虑场景中直接来自光源的光照（Direct Light）又考虑经过场景中其他物体反射后的光照（Indirect Light）的一种渲染技术。
                        使用全局光照能够有效地增强场景的真实感。
                        在直接光源（阳光）照射不到的地方，得到了更好的亮度和细节表现，从而使整张渲染效果更具真实感。
                        *仅仅使用直接光照的渲染中往往有黑色不真实阴影，因为光源没法直接照射到--区分
                        *镜面反射、折射、阴影一般不需要进行复杂的光照方程求解，也不需要进行
                            迭代的计算。因此，这些部分的算法已经十分高效，甚至可以做到实时
                        光的漫反射表面反弹时的方向是近似“随机”，因此不能用简单的光线跟踪得到反射的结果，
                            ***往往需要利用多种方法进行多次迭代，直到光能分布达到一个基本平衡的状态
                        全局光照现今已有多种实现方向
                        以及各种实现派别
                            如光线追踪（Ray Tracing）派系，其实就是一个框架，符合条件的都可称为光线追踪，
                                其又分为递归 式光线追踪（Whitted-style Ray Tracing），
                                分布式光线追踪（Distribution Ray Tracing），
                                蒙特卡洛光线追踪（Monte Carlo Ray Tracing）等。
                            而路径追踪（Path tracing）派系，又分为蒙特卡洛路径追踪
                                （Monte Carlo Path Tracing），
                                双向路径追踪（BidirectionalPath Tracing），
                                能量再分配路径追踪（Energy Redistribution Path Tracing）等。
                            其中有些派系又相互关联，如路径追踪，就是基于光线追踪，
                                结合了蒙特卡洛方法而成的一种新的派系
                        编年
                            ray casting 
                                从每一个像素射出一条射线，然后找到最接近的物体挡住射线的路径
                            光线追踪 Ray Tracing [1979]
                                如果该点处表面是镜面或折射面，则继续向反射或折射方向跟踪另一条光线，如此递归下去，直到光线逃逸出场景或达到设定的最大递归深度。
                            **渲染方程 The Rendering Equation [1986]
                                场景中光能传输达到稳定状态以后，物体表面某个点在某个方向上的辐射率（Radiance）与入射辐射亮度等的关系。
                                可以将渲染方程理解为全局光照算法的基础，Kajiya在1986年第一次将渲染方程引入图形学后，随后出现的很多全局光照的算法，都是以渲染方程为基础，对其进行简化的求解，以达到优化性能的目的
                                渲染方程根据光的物理学原理，以及能量守恒定律，完美地描述了光能在场景中的传播。很多真实感渲染技术都是对它的一个近似
                                是物理上对于光线的一个完美描述
                            Path Tracing [1986]
                                根据渲染方程， Kajiya 提出的路径追踪方法是第一个无偏（Unbiased）的渲染方法
                            双向路径追踪（Bidirectional Path Tracing）的基本思想是同时从视点、光源打出射线，经过若干次反弹后，
                                将视点子路径（ eye path） 和光源子路径（ light path） 上的顶点连接起来（连接时需要测试可见性），
                                以快速产生很多路径
                            梅特波利斯光照传输 Metropolis Light Transport [1997]
                                怎样去尽可能多的采样一些贡献大的路径，而该方法可以自适应的生成贡献大的路径，简单来说它会避开贡献小的路径
                        传统的光线跟踪并不一定是真实效果图像，只有在非常近似或者完全实现渲染方程的时候才能实现真正的真实效果图像
                        环境光遮蔽（Ambient Occlusion，简称AO）是全局光照明的一种近似替代品
                        可以产生重要的视觉明暗效果，通过描绘物体之间由于遮挡而产生的阴影， 能够更好地捕捉到场景中的细节
                        可以解决漏光，阴影漂浮等问题，改善场景中角落、锯齿、裂缝等细小物体阴影不清
                        AO 特效在直观上给玩家的主要感觉体现在画面的明暗程度上
                        局部的细节画面尤其是暗部阴影会更加明显一些
                            SSAO-Screen space ambient occlusion
                            SSDO-Screen space directional occlusion
                            HDAO-High Definition Ambient Occlusion
                            HBAO+-Horizon Based Ambient Occlusion+
                            AAO-Alchemy Ambient Occlusion
                            ABAO-Angle Based Ambient Occlusion
                            PBAO
                            VXAO-Voxel Accelerated Ambient Occlusion
                            一般而言，Ambient Occlusion最常用方法是SSAO，如Unreal Engine 4中的AO，即是用SSAO实现
                    渲染方程以及变种 
                        measurement equation
                            是否可以被感知？
                        spectral Importance Function
                            flows from the sensor to the light sources
                            measures the influence of the radiance onto the sensor
                            就算被感知，是否重要？ 
                    photon mapping 
                    radiometry 渲染方程的物理原理与方程推导！ 
                        https://zhuanlan.zhihu.com/p/56020885
                        qq 一个波长为 lamda 的光子所携带的能量? 
                        qq 渲染的稳态假设？ 
                        qq flux？ 
                            单位时间内通过某一个表面或者区域的能量
                        光释放能量的过程实际上是离散的
                        qq what is irradiance and radiant exitance?? their unit?
                        qq what is Lambert’s law?
                        qq 平面角? projection? unit of plane angle? 
                            Radians
                        qq intensity vs irradiance?? pp 
                            强度描述了光关于方向的分布，但是仅仅在讨论点光源时有意义。
                            irradiance意义更广泛
                        qq 辐射率（Radiance）? 用的最多！L(p,w)
                            同时考虑方向和面积的分布
                            光线在真空中行进时其辐射率是保持不变
                            通过对面积、方向和时间进行积分可以计算出这里介绍的其它所有物理量
                        qq 这里dA是和谁垂直？ 
                            方向
                        qq what is the parameter of the radiance function? L? L(p,w)
                        qq radiance depends on position and solid angle, irradiance deps. only on posi.!
                            E(p,n)....L(p,w)....
                        qq compute energy from L, radiance! by integrating multiple times!
                        qq what is theta? 
                            the angle bet. w and normal direction!
                        可以不写costheta，换成投影立体角（Projected solid angle），这样做是好编程的
                        qq parametric representation of flux, with radiance known!
                        柠檬表皮吸收蓝光并反射红光和绿光，所以当柠檬被白光照射时我们看到的颜色是黄色
                            这是考虑了光线反射的光谱分布
                        &h
                            光线在诸如皮肤、树叶、蜡和流体等特殊材质中都展现出了次表面传输（subsurface light transport）的特性
                            BRDF和BSSRDF是常见的两种描述光反射机制的抽象方法
                            BRDF描述了物体表面某一点的反射。因为BRDF忽略了次表面散射，对于大部分
                                没有次表面散射现象或者该现象不太明显的材质
                            这样的简化能够在引入极少错误的情况下极大提高效率。BSSRDF则是BRDF的推广，
                                详细的描述了光在半透明材质中的散射情况。
                        bidirectional reflectance [distribution function]
                        qq brdf defined? parameter of brdf? 
                            output radiance over input irradiance!
                            not both radiance! hard to measure input radiance! 
                        qq formulation to show that brdf has: 互易性（reciprocity）and 能量守恒（energy conservation）
                        BTDF不满足互易性（reciprocity）
                        并将其称为BSDF（bidirectional scattering distribution function，双向散射分布函数）。
                        qq what is bsdf?
                            fr + ft 
                        qq should we always compute absolute value for cos term?
                            depends on which direction the normal points to! the same or not 
                        qq what is the diff. bet. scattering equation and reflection equation? 
                        描述物体次表面散射现象的数学形式
                        考虑了入射点以及出射点不同的情况
                        qq derive the reflaction/transmission equation with brdf and bssrdf?? 
                ql 
                    qq why we need Ambient Occlusion? 
                        ambient occlusion is a shading and rendering technique 
                            to calculate [how exposed] each point in a scene is to ambient lighting.
                            the interior of a tube is typically more occluded (and hence darker) than the exposed outer surfaces
                            darker the deeper inside
                            accessibility value that is calculated for each surface point
                    qq basic rendering equation p10(transport equation, directional form)
                        > explain the meaning of them p12 
                    qq rendering equation II, area formulation. with visibility check p16 
                    qq operator form p17 
                        > what means double reflaction of emitted light? in equation. p17 
                    qq refined with D,S,M... p18 
                    qq mark them p19 
                    qq measurement equation calculating brightness of a pixel? p20 
                        > what is spectral efficiency? 
                        > spatial power? 
                    qq spectral importance function? p21 
                        the influence of the radiance
                            measurememt of improtance 
                    qq speed and energy of a tiny photon
                    qq calcu. of photon energy p25 
                    qq Spectral Energy Density of diff. light source judge. p26 
                    qq def. of radiance and irradiance p27 p28 
                    qq how comes the integration part in rendering equation? p29 
                    qq def. of BRDF p29 
                    qq diffuse brdf? p30 
                    qq Without volumetric scattering, the radiance is constant along rays? 
                    qq brdf relates incoming irradiance with outgoing radiance? 
                    qq BRDFs can be analyzed by integrating over one  directional argument. Integration over outgoing  
                        > directions yields directional hemispherical reflections  that must be ≤ 1.
                        > why? p32 
                    qq how can we Solve the Rendering Equation? x2 p34
                        1. form a linear sys.
                        2. sample ray paths 
                    ---REVIEW---
                    ---
                    ---
                    ---
                    qq the steps of Bidirectional Path-Tracing p35 
                ---r1
                    basic radiometry and hemispherical reflectance
                    Kajiya, J. T. (1986). The Rendering Equation.
                    https://www.researchgate.net/profile/Michael_Cohen12/publication/220720201_A_Radiosity_Method_for_Non-Diffuse_Environments/links/00b49520a6f1482f85000000/A-Radiosity-Method-for-Non-Diffuse-Environments.pdf
                    Ambient Occlusion
                    qq what is Ambient Occlusion
                        shading and rendering technique used to calculate 
                            how exposed each point in a scene is to ambient lighting.
                        show more occluded (and hence darker) ones clearer
                        can be seen as accessibility value that is calculated for each surface point.
                        often used as a post-processing effect.
                        ambient occlusion is a global method
                    qq what is global illumination? 
                        the illumination at each point
                            is a function of other geometry in the scene
                    Scattering
                    Multiple Scattering
                    qq what is color bleeding
                        objects or surfaces are colored 
                            by [reflection of colored light]
                                from nearby surfaces.
                    qq what is radiosity 
                        a GI algorithm 
                        can not handle all kinds of paths, just a few, a fixed type 
                        illumination arriving on a surface comes not just 
                            directly from the light sources, 
                                but also from other surfaces reflecting light
                    *mirror reflections and soft shadows
                    caustic
                    Mirror Reflection and Caustics
                    mirror reflections
                    qq what is mirror reflections
                        reflecting, providing a mirror image.
                    &h
                        People commonly think of the reflection as being reversed left to right;
                        however, this is a misconception.
                        The reflection of light rays is one of the major 
                            aspects of [geometric optics];
                        tt geometric optics
                        refraction, or the bending of light rays
                        bending of light rays
                        it will bounce off at a 30-degree angle to the right
                        if the surface of the mirror is curved, the angles of 
                            reflection are different at different points on the surface
                        tt spherical mirror
                            outside rearview mirrors on cars
                            under surveillance in stores. 
                            concave, or curved inward
                            single location known as the focal point
                        produces a [magnifying effect]
                        The radius of curvature of a mirror determines 
                            its magnification factor and its focal length.
                        amateur astronomers
                        tt Newtonian reflecting telescope
                        passes from one transparent medium to another, such as 
                            from air into glass. 
                        tt In a vacuum, the speed of light, denoted as "c," is constant. 
                        material's refractive index
                        tt refractive index
                    qq Crepuscular Rays are volumetric scattering effects
                    Realtime volumetric scattering in game engine, 
                    qq what is volumetric scattering
                        * radiance may not constant along rays between surfaces
                        scattering from particles in the atmosphere makes the sky blue and sunsets red.
                        how light is affected as it passes through participating media
                        large numbers of very small particles are considered 
                        casts a volumetric shadow
                        we made the assumption that scenes are made of 
                            collections of surfaces in a vacuum
                                but this may not always hold 
                        simulate 
                            fog and smoke attenuate and scatter light
                    qq compare volumetric Subsurface scattering and volumetric scattering! 
                        consider the scattering inside the objects and the 
                    qq describe the light transporting process 
                    qq basic observation about the light transport ?? 
                        light is reflected between mutually visible surfaces
                        objects reflect and become emitters too
                        dynamic energy equilibrium
                    qq which Simplifications will be made to simulate the light transport ?? x2
                        no volumetric  scattering
                        ignore  polarization
                    qq raytracing operator:
                    qq what is the equ. in this light path??
                        total outgoing  light is emission  plus reflection
                        link outgoing to  incoming light  with trace
                        directional formulation of rendering equation
                    qq describe which parts are there in transport equation
                        emission + reflection
                                    materials + ray-scene-intersection 
                    qq formula of RE !! [Immel et al 1986] 
                    outer hemisphere of  surface is integration domain  for incoming directions
                    radiance
                    qq Fredholm integral equation
                        solution is known as the Liouville朜eumann series.
                        Fredholm equations arise naturally in the theory of 
                            signal processing, for example as the famous spectral 
                            concentration problem popularized by David Slepian.
                    qq why we use Radiance? &h 
                        it is useful because it indicates [how much of the power emitted, 
                            reflected, transmitted or received by a surface will be 
                                received by an optical system looking at that surface 
                                    from a specified angle of view
                        radiance and luminance are both sometimes called "brightness"
                        indicates how much of the power emitted
                        ? is the partial derivative symbol;
                        A cos ? is the projected area.
                    qq The SI unit of radiance??
                        watt per steradian per square metre (W穝r-1穖-2),
                    emitted radiance
                    qq how can we parameterize the direction omega? op13 
                    qq what is brdf
                        bidirectional reflectance distribution function
                        modeling materials
                    qq explain the rendering equ. each para. op11
                    https://en.wikipedia.org/wiki/Fredholm_integral_equation
                    qq how total outgoing radiance can be solved in math view ??
                    旽ow to parametrize and  integrate directions ???
                    integration of solid angle  yields double integral  over ?? and ?
                    double integral 
                    Parametrization & Integration
                    qq what if is constant C? 
                        result in pi * C !
                    Connection to Surface Patches
                    qq RE in Surface Patches formulation, with integration over scene area and 
                        > visibility check, explain!op15
                        plugging into rendering  equation yields new form
                        rendering equation, with integration over [scene area] and [visibility check]
                    qq mark omega y->x in this pic
                    qq transfrom the RE to the form of Lout! 
                    qq explain this equ. in a new form rendering equ. 
                    Area Formulation [Kajiya et al 1986]
                    qq how can we do visibility test ?
                    qq what is geometry factor ?
                        visibility test and cosin terms and solid angle term 
                    &h map radiance functions onto radiance functions: use Lout, no Lin!  
                    qq write RE in operators formulation! gain insight on a higher level!
                        > the operator form of the rendering equation
                        with R and T operator applying one after an other 
                    qq write down those operators !! op17
                    qq solving it? how can we? what is the meaning of each part? 
                        with Taylor expansion!
                        emitted light, single reflaction, double reflection... sum over of them 
                        the radiance function can be computed as the sum over  emitted light
                        single reflection of emitted light, double  reflection of emitted light and so on
                        single reflection of emitted light
                        solving for ????  out formally
                        &p pp derive?? ok 
                        adding up contributions by all different kinds of ray paths
                    qq RT can be refined to L-DSM-E, what is the meaning? 
                        Diffuse, specular, mirror
                        from source (𝐿) to eye (𝐸)
                    qq we can write a regular expression for that? 
                    qq write the path expression with a given pic! 
                    qq whats the regular expression of all paths? in a scene! op19 
                    Taylor expansion
                    qq compute Lout op17
                    Operator Formulation
                    ray tracing  and reflection as functionals
                    operators
                    reflection
                    splitting of the BRDF into
                    qq splitting of the BRDF into?? x3 parts!!!
                        diffuse (??),  specular (??) and mirror reflecting (??)
                        ???? = ?? + ?? + ?
                    solved by adding up contributions by all  different kinds of ray paths.
                    in order of light transport  from light source (??) to eye (??)
                    qq explain the regular expression syntax
                    to capture sets of rays
                    qq how can we reperesent diff. kinds of rays?? 
                        > use a regular expression syntax?? how op18
                    qq give the name of the paths! in this pic!! op19
                    Specular reflection
                    In this process, each incident ray is reflected at the same angle to the surface normal as the incident ray
                    The law of reflection states that for each incident ray the angle of incidence equals the angle of reflection,
                    and the incident, normal, and reflected directions are coplanar.
                    scattered away from the surface in a range of directions rather than just one
                    qq definition of diffuse, specular and mirror, difference??
                    properties of the material, the wavelength of the light, and the angle of incidence
                    specular reflection is a mirror
                    &p diff. bet. S and M????op19
                    lighting solution is the sum of 
                    Neumann Series
                    Monte Carlo methods compute these integrals probabilistically
                    – light reflected once TE, 
                    – light reflected twice TTE, etc. 
                    TTTE = Second Indirect Bounce
                    Global Illumination (GI): A concept that represent all the lighting of a scene that is not coming from a direct light source.
                    Image Based Lighting (IBL): A technique that uses an image as a light source
                    Irradiance map : Precomputed environment map that contains diffuse lighting data of the environment.
                    Importance Sampling : A math technique to approximate the result of an integral.
                    Split Sum Approximation : A way,used in Unreal Engine 4, to transform the specular radiance integral into 2 sums that can be easily baked into prefiltered textures.
                    https://books.google.de/books?id=mSJB1KLY7woC&pg=PA56&lpg=PA56&dq=heckbert+90+path+gramma&source=bl&ots=5P104l12wp&sig=ACfU3U39IdXt9jQV11wHLxLJrfpzQp2nZA&hl=en&sa=X&ved=2ahUKEwjOgZ6-6OrpAhWBM-wKHRM6BYIQ6AEwAHoECAsQAQ#v=onepage&q=heckbert%2090%20path%20gramma&f=false
                    &p pp mirror reflaction???? brdf??? op18    
                    Wavelength can be defined as the distance between two successive crests
                    crests or troughs of a wave.
                    It is measured in the direction of the wave.
                    electromagnetic wave
                    In the simplest case efficiency is one for rays that hit the sensor and zero otherwise.
                    qq what is Sensor Efficiency? 
                        not all rays hit the camera are accepted! 
                        the effeciency defines the improtance! 
                    qq how can we compute the brightness of a pixel 
                        The brightness of the pixel is spectral power
                            which can be computed though the measurement  equation as integral 
                                over all incoming rays hitting the sensor
                        weighted radiance over all allowed direction
                    on aperture of area ?? and solid angle of incoming  
                        directions that hit sample pixel ?
                    qq describe the simplified camera model, where is aperture? pixels?  
                    qq given cam. model. explain this measurememt equ. componentwise ! op20
                    incoming and outgoing importance function 
                        (also called  potential or response function) 
                    qq describe rendering equation with spectral importance function
                    qq for each sampling point in the scene, there is a corresponding weight? two  
                    qq the weights flow from the sensor to the light sources
                    qq illu with a graph!
                    measures the influence of the radiance ????  in/????  out onto the  sensor (often restricted to one pixel)
                    Importance Function 
                    qq what is spectral importance function
                    qq how can you describe the RE, what phy. meaning does it have?
                        equilibrium of light emission and absorption processes
                    qq two parameterizations of the rendering equation
                        over directions and over surface Area
                    The operator notation allows to formally solve the  
                        rendering equation by adding contributions of all types of  light paths
                    Measurements are integrated over ray space and  measured in units of power
                    &h are used to combine all rays that hit the sensor and make 
                        contributes to pixel val. 
                    qq ray direction, which not accepted, will not make contributions to sensor? pixel value? y 
                    Importance function is used to measure influence of  
                        radiance along an arbitrary ray in the scene
                    &h read BRDF first!!!!
                    basic radiometry and 
                    qq what is hemispherical reflectance
                    light is composed of photons
                    qq each photon has characteristic?? x2 
                        frequency ? and  wavelength ?
                    qq what is the relationship bet. freq./wavelength and light speed? op24
                    qq each photon carries a tiny amount of energy q? 
                    visualization of a light photon
                    qq what is typical wavelength for lights? 
                        400nm - 800nm 
                    qq how can we know the energy given a graph? spectural graph! 
                    directed  transport  of energy
                    qq how can we compute the energy of a photon?? hv 
                    qq range of wavelength?? 
                    qq Spectral Energy Density
                    qq what is emission spectrum of different light sources?? exanple! 
                    spectral power
                    irradiance
                    radiant  exitance or radiosity
                    ncoming and outgoing  radiance ????  
                        in|out  are densities of Φ??  in|out over the  direction
                    direction ?? of transport  and the area ??⊥ orthogonal to ??.
                    Irradiance
                    spectral power
                    Radiance 
                    qq what is the diff. bet. irradiance and radiosity?? op27 
                    qq the area orthogonal to what? 
                        omega, direction!
                    relating to  surface area needs  additional cosine term:
                    surface reflection  distributes incoming light  
                        over all outgoing  directions
                    density of reflected  radiance ????  reflect with  respect to irradiance
                    qq how brdf is defined?? op29
                    integration over  hemisphere  yields total  reflected radiance 
                    directional hemispherical  reflectance ???? or albedo
                    qq what is total reflected radiance, how to compute?? op30
                    qq what is directional hemispherical reflectance?  its range??
                        albedo
                    qq what if for a constant (diffuse)  BRDF?
                        R = pi * pdiff.
                    qq is radiance constant along rays? 
                        Without volumetric scattering, the radiance is constant along rays.
                    &h
                        辐照度表示各种频率辐射的总量
                        假设一个点光源均匀地朝着所有方向传播光波，则辐照度按照平方反比定律递减。
                        每单位立体角每单位投射表面的辐射通量。
                        辐射率（Radiance）
                        辐射能（Radiant energy）
                        焦耳
                        &h energy are expressed with j
                        &h but we need to know per sr energy transformed 
                        光谱辐射率（Spectral radiance
                        光谱辐照度（Spectral irradiance）
                        https://dl.acm.org/doi/pdf/10.1145/3197517.3201399
                        Diffuse BDRF & Reflectance
                        Diffuse BDRF
                        albedo
                        directional hemispherical  reflectance ???
                        outgoing light 
                        fraction
                        albedo
                    qq how is albedo/ directional hemispherical reflectance defined?? op30
                    BRDF defined as the outgoing radiance divided by the irradiance
                    qq The units of the BRDF ??
                        inverse steradians
                    A BRDF describes the relation between the 
                        incoming irradiance and outgoing radiances at a given point P on the surface
                    https://web.cs.wpi.edu/~emmanuel/courses/cs563/write_ups/chuckm/chuckm_BRDFs_overview.html#:~:text=The%20BRDF%2C%20referred%20to%20as,point%20P%20on%20the%20surface.
                    almost indistinguishable from photographs of real environments.
                    simulate the behavior of light, from the source, 
                        interacting with the scene
                    Global illumination algorithms try to collect the 
                        contributions of all parts of the environment 
                        which are illuminating a given point of the scene
                    qq what is bsdf 
                        compute the transformation that occurs at this point 
                            between incoming and outgoing light
                        is a tool for describing the distribution of reflected light at a surface.
                        how much of that light ray will be reflected in a 
                            particular outgoing direction.
                        &h how to understand the shape of the brdf??
                        BRDF is an approximation of the BSSRDF,
                            The BRDF ignores sub-surface scattering 
                    qq what is bssrdf
                        bi-directional sub-surface scattering reflectance distribution function
                    sub-surface scattering 
                    Acquiring BRDFs
                    Gonioreflectometer 
                    Representing BRDFs
                    *tt https://web.cs.wpi.edu/~emmanuel/courses/cs563/write_ups/chuckm/chuckm_BRDFs_overview.html#:~:text=The%20BRDF%2C%20referred%20to%20as,point%20P%20on%20the%20surface.
                        ...
                    In radiometry, when considering a point on the surface
                    The solid angle is used to refer to some small surface area on the hemisphere.
                    qq how many steradians for a hemisphere??
                        2pi in a unit hemisphere.
                    how much light hits a point from all incoming directions
                    watts per meter squared
                    Incident light contributes to irradiance
                    while reflected light, or exitant light
                    contributes to radiant exitance
                    qq radiance describes?? phy meaning of that??
                        [how much light] is arriving at a point from a specific direction.
                    qq relations bet. radiance and irradiance 
                        watts per steradian meters squared
                        Full derivation
                        directional hemispherical  reflectance
                        radiometric quantities are derived from photon energy  per time (power) 
                    most important is radiance
                    Without volumetric scattering, the radiance  is constant along rays.
                    qq what is the fact of volumetric scattering?? 
                        radiance is not constant any more  
                    BRDF relates incoming irradiance with outgoing  
                        radiance and is integrated over hemisphere relative to surface normal.
                    qq expression of brdf?
                    qq why lower then 1 ?
                    qq when Integration over outgoing directionsq ??
                    ---
                    qq the idea of numerical solution strategies
                        *estimate the RE with sampling and predict its integral parts 
                        Monte-Carlo Integration 
                        integrate pairwise geometry  terms over patches
                    qq the case of Radiosity can be baked? why? 
                        view independent
                        Assumption: only diffuse  emission and reflection
                        limited light path 
                    qq the baken process of radiosity?? 
                        [discretize surface] into patches 
                        integrate pairwise
                        derive linear equ.! 
                        solve for vector of radiosities
                    qq derive system of linear equations in case of Radiosity baken!
                    qq why double integral in 3d not trible? pp 
                    qq what is domega? paramiterization , omega can be para. to two angles !
                        dphi * sintheta * dtheta
                    solution is independent of view  point and can be baked
                    Solving the Rendering Equation
                    qq how can we solve the RE numerically?? the algo in course level?? op34
                        pairwise geometry  terms
                        system of linear equations:
                    Bidirectional Path-Tracing
                    Monte-Carlo Integration
                    interconnect paths
                    *qq describe the process of bi-directional path tracing op35
                    contineous radiance fields
                    qq the baken process? 
                        light bounces between visible surfaces until [equilibrium]
                    bounces are described by BRDF (material property)
                    *qq how can we describe and scan material property? 
                    rendering equation is integral equation in outgoing  radiance
                    y integration of radiance over  the rays hitting the sensor
                    linear equations or integration? integrated linear system !!
                        !or sys. with integration/ summ
                    qq monte-carlo integration techniques
                        an integration technique
                    qq how monte-carlo integration techniques be used?? later, highlev  
                    diffuse emission and reflection  
                        reduces problem to a system of linear equations
                    pure diffuse emission
            pruf-re-ok- slides-3 CG3_03_Monte-Carlo-Techniques
                prev.
                    Numerical_integration
                        https://en.wikipedia.org/wiki/Numerical_integration
                        brick rule, simpson rule 
                        Quadrature rules based(二次的)
                            can be derived by constructing interpolating functions that are easy to integrate
                            Typically these interpolating functions are polynomials.
                            only polynomials of low degree are used, typically linear and quadratic.
                            midpoint rule or rectangle rule
                            This is called a composite rule, extended rule, or iterated rule. 
                                For example, the composite trapezoidal rule 
                            Simpson's rule, which is based on a polynomial of order 2, is also a Newton–Cotes formula.
                    概率密度函数pdf
                        pdf更加有用一些
                        累积分布函数CDF 是那个大F
                        PDF：概率密度函数（probability density function）, 在数学中，连续型随机变量的概率密度函数
                            （在不至于混淆时可以简称为密度函数）
                            是一个描述这个随机变量的输出值，在某个确定的取值点附近的可能性的函数。
                        PMF : 概率质量函数（probability mass function), 在概率论中，概率质量函数是离散随机变
                            量在各特定取值上的概率。     
                    蒙特·卡罗积分
                        是对理想积分的近似。
                        核心就是两个字：采样(Sampling)
                        如果我们先验地知道函数的形状，那我们就可以针对性地生成非均匀分布的随机样本，这样能够在相同样本数量的情况下对目标积分得到一个更准确的估计
                        https://www.qiujiawei.com/monte-carlo/
                        采样样本越多，就越逼近真实的积分结果，这是蒙特·卡罗积分的最核心特性
                        每个样本的出现概率都’可以‘是各不相同的。
                    轮盘赌
                        十九世纪俄罗斯，由监狱的狱卒强迫囚犯进行
                        *用于递归深度的控制，一句话就ok  
                        used to control the depth of recur. of the ray traveling through the scene       
                ql 
                    qq the operator form of the rendering equ. ? op4, i wrote 
                    qq what is the meaning of each compon. ? s3op6, i wrote 
                    qq trace-reflection operator? s2p18
                    qq splitting of the BRDF  s2p18
                    qq what is measurement operator? p4 
                    qq explain the dimensional explosion p6 
                    qq how can we solve a integral numerically? p6 x4 methods... roughly 
                    qq what is a quadrature rule 
                    qq why single sample estimator funcs? p9 
                    qq what is importance sampling ? p9 
                    qq how does Monte Carlo Techniques solved the problem of the curse of dimensionality? p11 
                    qq why we use importance sampling? 
                    qq what is the MC technique applying to reflaction integral? p17 
                    qq how can one compute Lin recur.in p17? code online 
                    qq why not use fixed termination depth? p18 
                    qq proof that the exp. value will stay the same! p18 
                    qq how to implement russian roulette? p21  returns the estimate?
                    qq explain the given code p19-21 
                    qq why sampling? p27 
                    qq explain code p29 
                    qq how to sample when there are a lot of light sources? p30 
                    qq what is path tracing p31 
                    qq the monte carlo case of path tracing p32 formula
                ---r1
                    qq measurement equ in operator form and rendering equ. op4 
                        measurement  operator 
                        spectral power
                        its output? its dimention? 
                    multi-dimensional nested integrals
                    can also be written as nested integrals
                    nested integrals
                    qq why nested integrals?? op5 formulation 
                    qq how can we compute spectual power with help of nasted integral?? op5 
                    qq what is the dimension of the nasted integral??
                    evaluate nested integrals
                    qq quadrature rule
                        brick-rule,  trapezoidal-rule, Simpson-rule
                    qq error estimation in brick-rule?? 1d,2d,d dimention! 
                    qq why exponential to d?
                    qq explain dimensional explosion or the curse of dimensionality
                        [required number of samples]  
                            to get the error below
                    &h too many number of samples are needed to 
                        let the error below a certain level.
                    qq error estimation for d dimention?? 
                    qq what is the idea of Monte-Carlo Quadrature 
                        cast integration as expected value problem
                        does not suffer from the curse of dimensionality
                        variance is independent of dimention, decrease with square root of N 
                    uniform distribution
                    qq the expected val of func. f in uniform distribution case ?? op07
                    qq the error analysis of Monte-Carlo estimator, 
                        > how it decreases with increasing number of samples 
                        take a look at the standard deviation! 
                        the standard deviation (measure for statistical error) 
                        estimator decreases with the square root  of number of samples:
                    qq the most imp. part of MC estimator is that Independent of the dimension
                    qq variance of the expected val?? 
                    number of samples
                    qq the expression of the estimator?? op7
                    qq how fast error changes with the number of sampels?? compute?
                        compute the actual integral of the function
                        independent of the sampling distribution
                    qq a modified estimator? why we do the modification?? 
                        The free choice of the sampling distribution
                            it significantly influence the variance of the estimate
                    qq what is the new expected value of estimator and variation?? op09
                    qq what simplifacation will be done for nested integrals 
                        > along light transport paths
                        just sample once 
                        reduce to single sample estimator 
                    qq what is Importance sampling, why good for estimating ?? 
                        choose px proportional to fx, reduce variance
                    qq why can we reduce variance in this way?? 
                        assume p = c * f...
                    qq what can we do to reduce variance with MC estimator?? 
                        estimate the distribution of f and make p proportional to f !! op10
                    qq ofcourse we can do every thing with uniform distribution 
                        > instead of Importance Sampling? but with a high variance! 
                    infinite dimensional integral 
                    Numeric approximation of this integral with standard  
                        quadrature approaches
                    suffers from the curse of  dimensionality
                    qq the idea of MC integration? 
                        Monte Carlo techniques cast the numeric integration  
                            problem as an expected value estimation problem
                    averaging  estimates from samples drawn from a distribution
                    Standard deviation (sqrt of variance)
                    Standard deviation (sqrt of variance) of the estimate  corresponds to the approximation
                    A good choice of ??(??) can significantly reduce variance
                    variance
                    ---MONTE CARLO  GLOBAL ILLUMINATION
                    contributions to a pixel depend on parameters for  light measurement and for the light path 
                    qq why can we sample independently?  
                        can be multiplied
                        yields product of individual terms
                        Distribution Raytracing
                    qq how can we summ over all contributions of rays ?? 
                        > single path Monte Carlo estimator looks like?
                        > from all diff. paths 
                    Sampling the spectrum
                    qq how can we Sampling the spectrum??
                        To reuse Monte Carlo samples  one samples ?? 
                            from the [sum]  of the efficiency curves:
                    spectral  quantities
                    ---lense equation
                    qq what is focal points? not always pass through a focal point!
                    qq give the names in blank places! 
                    qq lens equ.! large 
                    the aperture  size ?? (measured as area of circle) 
                    qq how can we simulate depth of field (DoF) in GI??
                        enhance your photos.
                        simulate with help of a thin lens (draw)
                    the zone of acceptable sharpness within a photo that will appear in focus.
                    Some images may have very small zones of focus which is called shallow depth of field.
                    shallow depth of field.
                    qq Three main factors that will affect your control of the Dof??? 
                        aperture (f-stop), 
                        distance from the subject to the camera, 
                        focal length of the lens on your camera. 
                    qq How does aperture control depth of field? addi 
                        hole through which light enters the camera) controls the amount of light entering your lens. 
                        Large aperture = Small f-number = Shallow (small) depth of field
                    aperture 
                    &h Dof can be controled by aperture 
                    To simulate depth of field
                    qq how can we simulate Dof in rendering ?? 
                        simulate with help of a thin lens (draw)
                        &h with help of apertur
                    Focal Length refers to the capability of a lens to magnify the 
                        image of a distant subject.
                    qq the longer you set your focal length the shallower the depth of field?
                    &h simulate the Dof effect by introducing a 
                        thin lens and adjest its para. 
                    ---Spatial and Temporal Filtering
                    qq what is box filter when doing spacial filtering?? 
                    qq what is  optimal sinc-filter ? 
                        Mitchell-Netravali-Filter
                    qq what is box filter 
                    tensor product
                    qq what is tensor product
                    Spatial
                    qq how can we do Spatial filtering ?? 
                        > temporal filtering for a blur effect? 
                    Temporal filtering gives motion  blurr and can be done in the  same way for a time interval.
                    qq how can we achieve motion blurr? 
                        with time space filtering, similar to spatial space filtering 
                    qq how can we extend 1d filtering to 2d? when applying spatial and time space filtering? 
                        performing tensor product 
                    qq why uniform sampling of the pixel area corresponds to a box filter?? 
                    qq what is the filter kernel looks like for box filter? 
                        > and its relationship with gaussian filter? 
                    qq what is theoretically optimal sinc-filter??
                        a sinc filter is an idealized filter that removes all frequency components 
                            above a given cutoff frequency, without affecting [lower frequencies] 
                    Mitchell-Netravali-Filter
                    die zum Beispiel beim Antialiasing oder bei der 
                        > Skalierung von Rastergrafiken verwendet werden k鰊nen
                    werden sie auch als bikubische Filter bezeichnet
                    da sie zu den kubischen Splines z鋒len
                    Die Mitchell-Netravali-Filter wurden im Rahmen einer 
                        Untersuchung zu Artefakten von Rekonstruktionsfiltern entworfen
                    qq how can we extend 1d filter to 2d?? op17
                    qq how can we approximate the reflect term of RE?? approximate the directional form?? op18 
                       > using MC integration, the equ! fully understanding! 
                    How to choose p for efficient importance sampling
                    qq when to terminate?
                        Russian Roulette
                    qq the diea of Russian Roulette?
                        terminates with a probability (decreases when ray travels in the scene)
                    returns the estimate
                    qq the form of expectation in RR?? and why it looks like this? op19
                        normalize Monte Carlo estimates, why should we normalize it? 
                    qq why rr need a binary random varible b 
                    qq why the expectation remains the same 
                    qq why we have to make sure that the expectation remains the same??  
                    The variance is increased
                    *&h we can stochastically terminate the recursion 
                        in the rendering equation without changing the expectation value.
                    without changing the  expectation value.
                    qq why not terminate in a fixed way?? op19
                        A fixed termination depth  would introduce bias
                    qq will the success probability decrease?? pp 
                    qq how can we do sample_hemisphere()? what should be feed in, what do we get from that? 
                    N-rook sampling of primary rays 
                    construct ray from aperture sample through pixel sample
                    L_in_? = incoming_radiance(scene, ray, ?[k], potential);
                    &h how can we express the term in our equ. when coding ?? op22
                    努塞尔数
                    split incoming radiance in direct and  indirect illumination to support direct  light sampling
                    Nusselt’s Analogon
                    the cosine weighted solid angle corresponds to its projection onto the unit disk
                    qq what is Nusselt's Analogon?? how can be used to improtance sampling?? op25
                        can be used to perform importance sampling of the cosine term
                    qq how can we do this? projection back? the formula? 
                    qq we sampled according to what?? op25
                    qq draw a graph to illus. 
                    qq what is Direct Light Sampling??
                        directly illuminated part, no reflection on ray path 
                        ray is traced to the light
                    qq the expression of L_direct and L_indirect ?? op26 
                    one splits integral into sum over light sources
                    point light sources emit spectral intensity which is  spectral light power per solid angle 
                    directional lights must be written in the directional form
                    we need to sample a number ????  of points ???? on the light source
                    and estimate the  direct light contribution
                    Sampling of area light sources can have high  variance 
                    spherical light source is half  invisible to any scene point
                    projection is hard to do and hard to  
                        sample and we still need visibility check.
                    qq which light sources are there? x3
                        pnt, dir, area light source 
                    qq how can we sample light source in this picture?? op28 draw! 
                        half  invisible
                        spans a direction cone
                    Indirect light typically comes from all directions
                    Refined Implementation for Direct Light Sampling
                    qq explain the code 
                    Dealing with Large Number of Lights
                    qq how to Dealing with Large Number of Lights with help of the idea of RR??
                        one defines a probability parea|pnt|dir for each light source  
                            such that summation of probabilities is one./ with normalized probability
                        Then one chooses one (or more) light source[s] according to the  assigned probabilities
                        best to assign the probabilities proportional to the emitted  
                            spectral power of the light sources
                        returns the estimate over probability p
                    qq how can we define the probability for each light source, 
                        > when we have multiple sources ?? op31 
                        proportional to the emitted  spectral power of the light sources 
                    qq how can we reduce variance in Path Tracing?
                        Sampling a large number of primary rays is always 
                            necessary to reduce variance sufficiently. 
                    The support of colors, spatio temporal filtering, and  depth of field yields a large number of 
                        parameters to  integrate over resulting in a large number of primary rays
                    qq Importance sampling is introduced to? 
                        sampling  the Hemisphere 
                        Cosine term with Nusselt’s analogon
                        BRDF into diffuse and specular parts
                        direct and indirect illumination 
                    qq explain the process of path tracing (later )
            pruf-re-ok- slides-4 CG3_04_Sampling-Techniques
                ql 
                        ---REVIEW---
                        ---
                        ---
                        ---
                    // transfer to the pdf file in this folder , start from slide 4 
                    qq how does nrook sampling work? p3
                    qq how one can gen. random shaffed vector? p3
                    qq what means caustic ?
                    qq how to gen. uniformly distributed random points with shuffe in c++ p4 
                    qq what means sampling in regular grids ? p5 
                    ..it is possi. when you get used to it, it will be faster 
                    https://onedrive.live.com/view.aspx?resid=9712B8A082E369A%211407&id=documents&wd=target%28%E5%BF%AB%E9%80%9F%E7%AC%94%E8%AE%B0.one%7C0BE32A9B-AC05-4328-847D-6AF52075C99B%2F%E6%97%A0%E6%A0%87%E9%A2%98%E9%A1%B5%7C2FB0ABD7-9762-455D-9478-7562C513D45F%2F%29
                    onenote:https://d.docs.live.net/09712b8a082e369a/zhongyuan%20的笔记本/快速笔记.one#section-id={0BE32A9B-AC05-4328-847D-6AF52075C99B}&page-id={2FB0ABD7-9762-455D-9478-7562C513D45F}&end
                ---r1
                    qq which Sampling Techniques do you know?
                        Random Samplings
                        Rejection Sampling
                        Importance Sampling
                        Transformation Sampling
                        N-Rooks Sampling
                        Multiple Importance Sampling
                    qq what means sth. follow a specific random variable distribution, draw to illu.
                        uniform, Normal or Binomia?
                    Problem: We fixed the 1D projections, but ruined the 
                        2D distribution! It is no better than  that of random sampling: 
                    The Mersenne Twister is a pseudorandom number generator (PRNG).
                    was developed in 1997
                    Mersenne Twister algorithm is based on the Mersenne prime 219937-1
                    uses a 32-bit word length.
                    There is another implementation (with five variants[3]) that uses a 64-bit word length
                    MT19937-64; it generates a different sequence.
                    uniform_real_distribution
                    the <algorithm> header
                    qq with which func. can we gen. random var.?? op03
                        with Generators std::mt19937 and some Distribution functions 
                    qq bring a vector into random order?
                        std::random_shuffle() from the <algorithm> header
                        std::random_shuffle ( myvector.begin(), myvector.end() );
                        std::mt19937
                    qq how can we use std::mt19937 to gen. uniform distributed 2d samples?? 
                        > it is only a generator, must act as a parameter 
                    qq what is sample clustering? 
                    qq what is the problem of such a graph?(above)
                    qq what is a good sampling ?? 
                        avoids sample clustering
                    qq what is Possion disk sampling, idea?
                        avoid sample clustering, with rejection test 
                    qq compare Stratified grid sampling and N-rooks sampling 
                        nrooks covers each dimension much better in high dimensions 
                        Stratified grid sampling samples with uniform sampling on each grid cell 
                        n-rook performs stratified grid  sampling in 1D per dimension
                    qq how can we sample according to a distribution: function_f/ integrate(f)?
                        we can achieve this reject the samples that are larger then desired value 
                    qq what's the problem with Rejection Sampling? 
                        1.no access to the probability density
                        2.reject some samples, not so effecient
                            will not work when [the accept rate] too low 
                            the area too small when compared to the whole interval  
                    qq how Rejection Sampling can be used explain the pic! op06
                    qq how can we Sampling any Shape? in a simple manner?
                        rejection sampling 
                        transformation sampling 
                    qq how can we sample uniformly inside a given shape?
                        rejection sampling 
                        transformation sampling 
                    Rejection sampling can be  trivially combined with other  sampling strategies
                    There is no access to the  probability density in rejection  sampling 
                    qq the idea and the goal of Transformation Sampling??
                        sample xi according to some distribution px over the interval []
                        sampling uniformly, and then transfer to the desired distribution 
                        suitable function
                        cumulative density function
                        their cdf are the same! op134 drafts on ipad 
                        * sample unit square first and transfer to the desired shape 
                    qq what is marginalization? 
                    qq what is cumulative density function CDF
                        the probability that X will take a value less than or equal to x
                    qq derive the equ. used in tranformation sampling, the key condition connecting both? 
                    qq how can we understand transformation?? g(ita)
                    qq compute an example as found in picnotes
                    qq we know how to gen. uniform distributed val.
                        > in a [0,1] interval, but how can we transform it to arbitry interval??
                    qq can we change the interval with transformation sampling? y 
                    hh inverse function in 1d marginalization in 2d 
                    qq which relations do we have in 2d? 
                    qq the results! op11 down side
                    qq and folow arbitry distribution at the same time??
                    Transformation Sampling
                    marginalization over ?
                    qq why do we compute conditional probability pdfs and cdfs?? 
                        we want to relate cumulative distribution functions of both 
                    qq how can we slove this in 2d??
                        equating cumulative distributions
                        conditional probability pdfs
                        the sampling procedure
                    qq the sampling procedure in 2d, example op13!!
                        compute equalities and then, inverse! 
                        draft on ipad op137 
                    qq what is equating cumulative distributions, inverse function??
                    marginal distribution
                    uniform distribution
                    qq how can we get uniform distribution over disk?? 
                        > from a square(in unifrom distrib.) x2 techniques 
                        transformation sampling 
                        rejection sampling 
                    &err op13
                    &h a r need to be added..
                    tt in 3d case??
                    qq the idea of transformation sampling? can we do this? 
                        > sampling of unit triangle and then transformed to arbitrary triangle
                    qq what we have to calcu. for a transformation sampling?? 
                        the transformation function !!!!
                    qq how can we sample manifolds?
                        sample in the embedding space
                        and then project the samples onto the manifold
                    qq what is manifold and its embedding space?? draw to illustrate! 
                    qq how can we get uniform circle sampling?? op15
                        sample unit disk with rejection  or transformation sampling
                        then, do projection 
                    qq compare rejection and transformation sampling
                    qq how can we uniformly sample the sphere surface?? 
                        1. transformation or rejection sampling for a unit sphere 
                        2. project the samples onto the surface! 
                    normalize sample 
                    yields uniform sampling of circle
                    **qq why Double Coverage is a kind of transformation sampling technique? 
                        transformation sampling: sampling some where uniformly, 
                        and then, forming a new shape! 
                    qq what is Double Coverage?
                        sometimes, it is more convenient to [sample a shape of twice the size]
                    **qq how can we sample a triangle uniformly?? 
                        sample a shape of twice the size  and then 
                        project the samples from wrong side back to the right side
                    hh [implicit] transformational sampling?? 
                    extend triangle to unit square
                    **qq how can we sample normals on a hemisphere?? 
                        > example hemisphere for given  normal ?
                        sample on unit square, negate the negative normals 
                    reflect samples from upper right triangle back into the triangle
                    transformation from unit  triangle to arbitrary triangle
                    qq how can we let probability density p(x,x) be proportional to a constant brdf?
                        use transformation sampling and marginalization approach:
                    ---tobecontinue
                    qq what is marginalization approach?
                        probability density
                    qq what is the  probability density for a hemisphere?? 
                        normalization of density from integration over hemisphere
                    qq what is Transformation Sampling a Diffuse  
                        > BRDF in angle parameterization?? 
                    ambient reflection constant
                    https://en.wikipedia.org/wiki/Phong_reflection_model
                        specular reflection constant
                        diffuse reflection constant
                        the ratio of reflection of the diffuse term of incoming light
                        ambient reflection constant,
                    qq what is a Phong model? 
                        Phong reflection is an [empirical model] of [local illumination]
                        It describes the way a surface reflects light
                        It is based on Phong's informal observation 
                        The model also includes an ambient term to account for the small amount of light that is scattered 
                        for physical plausible issue, we can further modify the phong model! 
                            *by adding the diffuse cosine to the specular part
                        sum of contributions from all light sources could be computed 
                        it has Computationally more efficient alterations
                        When this constant is large the specular highlight is small.
                        which is a shininess constant for this material, 
                            which is larger for surfaces that are smoother and more mirror-like
                        which is the direction pointing towards the viewer 
                            (such as a virtual camera)
                        Computationally more efficient
                        Inverse Phong reflection model
                        Visual illustration of the Phong equation: 
                            here the light is white, the ambient and diffuse colors are 
                            both blue, and the specular color is white
                        **ambient component is uniform (independent of direction).
                    qq how can we make the phong model more physical plausible?
                        *by adding the diffuse cosine to the specular part
                    qq how can we sample a Phong Lobe?
                    qq what is the probability density of the Phong Lobe?
                    how can we consider the condition here?
                        by rejection sampling 
                    &p pp 是用Lobe代替hemisphere? 在Phong模型中依然可以重要性采样，但是为什么？
                    hh https://zhuanlan.zhihu.com/p/21376124
                        Approximate Transformation  Sampling a Phong Lobe -Pseudocode
                        &?problem is that sample in direction given out dir.
                        north pole
                        符号[公式]表示按向量的分量相乘，因为[公式]和[公式]都包含RGB三个分量。
                        &h thta is, tensor product. the same as cov.??
                        Reflectance Equation
                        上式称为反射方程（Reflectance Equation），用来计算表面反射辐射率
                        对于点光源、方向光等理想化的精准光源（Punctual Light）
                        微表面理论（Microfacet Theory）认为我们看到的表面上的一点是由很多朝向各异且光学平的微小表面组成。
                        https://pic4.zhimg.com/80/85e93632f88e18f46cc9b73729c31a93_1440w.jpg
                        法线分布函数（Normal Distribution Function，简写为NDF）
                        向NDF输入一个朝向[公式]，NDF会返回朝向是[公式]的微表面数占微表面总数的比例
                        比如有1%的微表面朝向是[公式]，那么就有1%的微表面可能将光线反射到[公式]方向
                        并不是所有微表面都能收到接受到光线
                        Shadowing
                        也不是所有反射光线都能到达眼睛，下面中间的图，一部分反射光线被遮挡住了，这种现象称为Masking
                        Masking
                        光线在微表面之间还会互相反射，如下面右边的图，这可能也是一部分漫射光的来源，在建模高光时忽略掉这部分光线
                        光学平面并不会将所有光线都反射掉，而是一部分被反射，一部分被折射，反射比例符合菲涅尔方程（Fresnel Equations）
                        Torrance-Sparrow基于微表面理论，用上述三个函数建立了高光BRDF模型
                        F/D/G函数的约束条件和选择
                        有很多论文基于上式给出不同的F/D/G函数，从而实现不同效果。关于F/D/G函数的比较，可以参考Background: 
                            Physics and Math of Shading
                    Sampling a Discrete Distribution
                    qq how can we sample discreate distribution?? op21
                        search primitive i with
                        measured on  discrete sample locations
                    spectrum
                    qq what discreate sampling techniques do you know as example?
                        light sources sampling
                            a point  light source can be measured  
                            on a discrete sample of  directions 
                        BRDF parts (D/S/M) can be sampled 
                            in a discreate manner 
                    ---Multiple importance sampling (MIS) 
                    qq MIS-estimator? expression?
                    can be used when several sampling strategies are available
                    qq why the integrant is often a product of several functions?? 
                        ray path! 
                    qq why MIS minimize variance?
                        weights the strategies to minimize overall variance 
                    qq the idea of MIS multiple improtance sampling 
                        exploits advantages of different strategies and combine them together 
                        The weights need to be normalized
                    qq give a equ. to show what unbaised mean!!!op26 
                        > the MIS estimator is unbiased??
                    qq how can we choose the weight so that MIS estimator is unbiased?? 
                    qq how can we compute average density?? op27
                    qq what is Balance Heuristic? formula op28
                        Choose weights proportional to n * p
                    qq what is power heuristic? 
                        Choose weights proportional to (n * p) ^ beta
                    qq what is the relationship bet. them? 
                        power heuristic can help to reduce variance further
                            the power heuristic close to the optimal MIS weighting
                    qq two conditions the MIS estimator??
                    the  power heuristic can help to reduce variance further
                    Veach proves a bound for the power heuristic  
                        close to the optimal MIS weighting
                    qq how can we compute optimal MIS weighting?? which heuristic
                    qq how can we combine direct light sampling and brdf sampling techniques
                        > to reduce variance? 
                        to evaluate an integral
                    qq what is  a good choice for the exponent ??
                        In numerical experiments he finds a good choice for the  exponent: ?? = 2.
                    pp 
                    qq distinguish brdf sampling and direct light sampling 
                        brdf should sample near light source 
                    Weights vis for MIS! tt 
                    given pdf there are a multitude of different sampling strategies 
                        from which one can choose
                    Rejection sampling works even for unnormalized pdfs 
                    does not provide any means to evaluate the pdf at a sample
                    unnormalized pdfs 
                    qq compare rejection sampling with transformational sampling 
                        Transformation sampling allows to use uniformly  
                            distributed samples and can be applied when 
                            the pdf is integrable and the cdf invertible.
                        but can also done implicitly 
                    &h uniform distrib. are transformed somehow
                    Pdfs resulting from the product of functions can be  
                        handled with multiple importance sampling, which  
                        samples each function and additionally weights the  
                        samples based on the function values.
                    samples each function
                    a product of  several functions
                    &p pp  why we need a product of several functions?? wha about just one func.??
                    PhD thesis 
                    It is based on  the idea of using more than one 
                        sampling technique to evaluate an integral,
                    where each  technique is designed to sample some feature of the 
                        integrand that might otherwise lead to high variance
                    Our key results are on how to combine the samples: we present combination  
                        strategies that are provably close to optimal
                    This leads to low-variance estimators that are useful in a 
                        variety of problems in graphics
                    qq  tt what are low-variance estimators??   
                    distribution ray tracing, multi-pass radiosity algorithms, 
                        and bidirectional path tracing
                    http://graphics.stanford.edu/papers/veach_thesis
                    tt !!!! have to read 
                    &h full read!!
            pruf-re-ok- slides-6 CG3_06_Advanced_Materials
                The reflection type can vary a  lot from purely diffuse to  mirror reflection 
                the specular reflection  does not introduce additional  color 
                Empirical
                qq what is Physical Plausible
                Torrance Sparrow
                Lafortune
                Plastik
                Roughness and Anisotropy
                qq which Empirical Shading Models do you know?? x3 
                    Lambertian model (diffuse only)
                    Phong model 
                    Blinn-Phong: similar to  Phong with variant in  specular term
                scalar BRDFs are defined implicitly
                When looking towards light source above a reflecting  sources
                Phong model is unrealistically
                spectral coefficient times scalar BRDF
                qq compare diffuse, glossy and mirror reflaction with a graph 
                qq what is the diff, bet. glossy and specular reflaction?
                qq computing reflected radiance from incoming radiance 
                    > for the following model: Lambertian, phong model, blinn-phong model 
                    > op07 large 
                qq what is v here? 
                    visibility check 
                qq how can we compute omega_half?  
                qq when is Phong model is unrealistically? why pp
                    looking towards light source above a reflecting
                qq compare white-sky albedo and black-sky albedo, large 
                    integrating over all outgoing direction yields blacksky-albedo
                        0, corresponding to a black body that absorbs all incident radiation, to 
                        1, corresponding to a body that reflects all incident radiation. 
                    the actual albedo {\displaystyle {\alpha }}{\alpha } 
                        (also called blue-sky albedo) can then be given as a linear combination of the both 
                        albedo 
                qq what is blue-sky albedo? 
                measure of the diffuse reflection of solar radiation out of the total 
                    solar radiation and measured on a scale from 0
                absorbs all incident radiation,
                corresponding to a body that reflects all incident radiation.
                Surface albedo is defined as the ratio of radiosity to the 
                    irradiance (flux per unit area) received by a surface
                The proportion reflected is not only determined by properties of the 
                    surface itself, but also by the spectral and angular distribution 
                    of solar radiation reaching the Earth's surface
                Directional-hemispherical reflectance is the reflectance of a surface under direct illumination (with no diffuse component)
                over all viewing directions.
                It is sometimes called "black-sky albedo"
                https://journals.ametsoc.org/doi/pdf/10.1175/1525-7541%282004%29005%3C0003%3AUMBAAD%3E2.0.CO%3B2
                Black-sky albedo (abs) is defined as the albedo in the  
                    absence of a diffuse component
                is a function of  solar zenith angle.
                dual to directional  hemispherical reflectance
                directional
                in the absence of a direct component
                independent of solar zenith angle
                These two extremes  can be combined as a function of the diffuse skylight  
                    fraction (S) for a representation of an actual albedo
                diffuse skylight  fraction (S)
                black
                directional
                bi-hemispherical reflectance
                directional  hemispherical reflectance
                bi-
                directional
                spectral coefficient
                times a scalar BRDF
                Any physical plausible BRDF-modell must fulfill the  following two properties 
                https://en.wikipedia.org/wiki/Helmholtz_reciprocity
                Helmholtz reciprocity
                Any physical plausible BRDF-modell must fulfill
                qq 2 properties that Any physical plausible BRDF-modell must fulfill?? x2 op10
                    Helmholtz-Reciprocity (HR): 
                    Energy Preservation (EP):
                http://www.thetenthplanet.de/archives/255
                The Blinn-Phong Normalization Zoo
                Wet and dry parts on an asphalt surface, in backlight
                Gloss Blinn-Phong exponent, a measure of surface smoothness
                http://www.thetenthplanet.de/archives/255
                tt must read
                normalization constants
                qq compute the normalization constants!! op11
                qq how can we make Phong model more realistic? 
                    by modifing its equ. with physical constrains! 
                        Helmholtz-Reciprocity (HR): 
                        Energy Preservation (EP):
                qq what is normal distribution function (NDF)
                    ??????(Normal Distribution Function,???NDF
                    法向分布函数
                    向NDF输入一个朝向omega，NDF会返回朝向omega的微表面数占微表面总数的比例
                    https://zhuanlan.zhihu.com/p/21376124
                laser microstructured  steel surface
                red beech wood
                Wear surface of chalk-filled polypropylene
                Microstructure of pearlite
                carbon nanotubes bundles
                Self-occlusion and self-shadowing
                Cook and Torrance
                reflection on micro facets
                geometry term covering self occlusion and self  
                    shadowing of V-shaped grooves
                distribution of microfacet  normals that correspond to half vectors  in Blinn-Phong model 
                V-shaped grooves
                https://inst.cs.berkeley.edu/~cs283/sp13/lectures/cookpaper.pdf
                Microfacet Models
                &p pp op21
                qq cook torrance brdf equ.? write down! 
                qq the physical meaning of each term! 
                    for fresnel equ. it computes a term to control 
                        bet. ideal mirror reflection and ideal refraction
                qq how can we simulate/approximate materials with multiple layers
                    affine combinations of several distributions
                qq what can be included in the geometry term? x2 
                    self shadowing + self occlusion should be considered 
                    in the cook-Torrance microfacet model 
                qq what is self shadowing and self occlusion ??
                qq how can we cpmpute geometry term G? 
                    Filter approach, the min value of those three cases? 
                qq describe the filter approach in more detail 
                    fully illuminated
                    occlusion 
                    shadowing 
                qq compare cook-torrance and oren nayer?
                qq how can we compute the Fresnel term more effeciently?? why we have to approximate it? 
                +
                    https://zhuanlan.zhihu.com/p/57032810
                        Normal Distribution Function ) 法线分布函数
                        ( Fresnel Equation ) 菲涅尔方程：菲涅尔方程描述的是在不同的表面角下表面所反射的光线所占的比率。
                        业界方案一般都采用的 Schlick 的 Fresnel 近似
                        G：UE4的方案采用的 Schlick-GGX
                        G 和 F 都是用来对光线进行衰减
                        F 考虑的是菲涅尔效应
                        为什么不再考虑下同时对函数 F 和 G 进行重要性采样呢？
                            第一，他们本身不是概率密度函数，那么我们首先要得到一个概率密度函数，要求其在半球面上的积分值为1
                    many different options for our specular BRDF    
                        http://graphicrants.blogspot.com/2013/08/specular-brdf-reference.html
                        Another weak point in existing models appears
                    qq https://blog.selfshadow.com/publications/s2013-shading-course/
                        various radiometric quantities
                        radiance
                        quantify the magnitude of light along a  single ray
                        qq what is a spectral quantity? 
                            the amount varies as a function of wavelength
                        for production (film and game) rendering, RGB triples are used instead.
                        it is convenient to have all vectors point away from the surface
                        *The surface’s response to  light is quantified by a function called the BRDF
                        *brdf is the surface’s response to light
                        Each direction (incoming and outgoing) can be parameterized with two numbers (e.g. polar coordinates), 
		                    so the overall dimensionality of the BRDF is four 
                        qq what are isotropic BRDFs?
                            rotating the [light and view directions] around [the surface normal] 
                                does not affect the BRDF.
                        parameter becomes three in the case of isotropic BRDFs
                        t is a tangent vector defining a preferred direction over the surface 
                            (this is only used for anisotropic BRDFs,
                        * Avoiding back-facing light directions
                            is straightforward
                        qq how can we set the light contributions from any back-facing  direction to zero?
                        can be avoided by clamping n·v to 0
                        * over all directions above the surface
                        continuous  weighted average. 
                        qq why we use component-wise vector multiplication here? in computing reflection? 
                        both BRDF and light color are spectral (RGB) vectors
                        the BRDF gives the relative contribution of light from  each incoming direction to the outgoing light.
                        swapped
                        Energy conservation refers to the fact that a surface cannot reflect more than 100% of incoming light  energy.
                        must not exceed 1.
                        The vector halfway between l and v is  called the half-vector or half-angle vector ; we will denote it as h.
                        the denominator 4(n · l)(n · v) is * a correction factor
                        macrosurface
                        we can think of this value (which we will denote F0) as the characteristic specular reflectance  of the material.
                        Limitations of the Microfacet Model
                        This formulation of microfacet theory is quite powerful and flexible
                        If these are important, then modifications or  extensions to the model may be required. 
                        The microfacet model does not take account of pronounced wave optics effects such as diffraction  and interference.
                        the microfacet model is based on a relatively limited model of the surface microgeometry, with several unstated assumptions.
                        the definition of the normal distribution function
                        This is equivalent to assuming that microgeometry height and normal are  uncorrelated 
                        However, this assumption is not always true
                        A surface with a strong correlation between height and orientation
                        is the best-understood and most successful tool
                qq explain the terms in cook Torrance bsdf! op19 
                qq what is the relationship bet. cook Torrance bsdf and Fresnel equation?
                qq how can we compute the Geometry Term? which three cases are there? draw to illustrate! 
                qq standerd solutions in applications?
                    Schlick 的 Fresnel 近似
                    UE4的方案采用的 Schlick-GGX
                    业界较为主流的法线分布函数 GGX ( Trowbridge-Reitz )
                qq how can we do Improtance sampling in cook torrance model?
                    improtance sampling according to D 
                        因为其本身就是一个概率密度函数，那么我们在实现重要性采样的时候就方便了许多。
                    由于以上两点，在重要性采样上难以同时利用上函数 D、F、G
                    综合考虑之下，只对函数 D 进行重要性采样。
                参数 albedo、metallic、roughness 和 ambient occlusion 都可以用贴图来提供
                https://inst.eecs.berkeley.edu//~cs294-13/fa09/lectures/cookpaper.pdf
                http://citeseerx.ist.psu.edu/viewdoc/download?doi=10.1.1.50.2297&rep=rep1&type=pdf
                Derivation of Frensnel Equations
                qq Derivation of Frensnel Equations
                tt must read
                Fresnel Equations for Dielectric
                https://zhuanlan.zhihu.com/p/21376124
                tt must read detail derive 
                Air to Glass example
                Fresnel
                what is an anisotropic brdf, what an isotropic?
                Fresnel Equations for Metals
                qq Fresnel Equations for Metals equ? 
                "Fresnel term approximations for  metals.?(2005) 
                https://dspace5.zcu.cz/bitstream/11025/11214/1/Lazanyi.pdf
                https://dspace5.zcu.cz/bitstream/11025/11214/1/Lazanyi.pdf
                qq which fresnel term approximations exists for metals??  
                    Schlick 的 Fresnel 近似
                    UE4的方案采用的 Schlick-GGX
                qq Oren-Nayar is a brdf model for diffuse approximation?? 
                qq 迪士尼原则--brdf的深入研究https://zhuanlan.zhihu.com/p/60977923
                    迪士尼原则的BRDF与BSDF相关总结
                    Disney Principled BRDF
                    由于其高度的易用性以及方便的工作流，已经被电影和游戏业界广泛使用，
                        并成为了次时代高品质渲染技术的代名词
                    SIGGRAPH 2012
                    2015年提出的“迪士尼BSDF（Disney BSDF）”
                    一方面是因为硬件性能的限制，另一方面，则是因为早期的基于物理的渲染
                        模型包含大量复杂而晦涩的物理参数
                    不利于美术人员的理解、使用和快速产出。
                    在创作电影《无敌破坏王（Wreck-It Ralph）》期间，迪士尼动画工作
                        室对基于物理的渲染进行了系统的研究
                    迪士尼动画电影《无敌破坏王》（2012）
                    主流游戏引擎都开始从传统的渲染工作流转移到基于物理的渲染工作流。
                    【GDC 2014】 Unity：《Physically Based Shading in Unity》
                    qq 提出了三个方面的工具与资源
                    MERL 100 BRDF材质库
                    BRDF Explorer。迪士尼为分析、比较和新开发BRDF模型而开发的可视化工具
                    最主要的工作便是对材质数据库的观察与进行理论分析
                    Diffuse项的观察结论  Specular D 项的观察结论  Specular F 
                        项的观察结论  Specular G 项的观察结论  布料（Fabric）材质的观察结论  彩虹色（Iridescence）的观察结论  
                    qq 各个模型的年代？具体的时间要记住！ 
                        Hanrahan-Krueger模型（1993）
                        Oren-Nayar模型（1995）
                    微观分布函数D
                    绝大多数MERL材质都有镜面波瓣（specular lobes）
                    从本质上而言，Disney Principled BRDF模型是金属和非金属的混合
                        型模型，最终结果是基于金属度（metallice）在金属BRDF和非金属
                        BRDF之间进行线性插值。
                    应使用直观的参数，而不是物理类的晦涩参数。
                    参数应尽可能少。
                    参数在其合理范围内应该为0到1。
                    qq 什么是艺术导向（Art Directable）
                        在2012年迪士尼提出，他们的着色模型是Art Directable
                        而不一定要是完全物理正确(physically correct) 的
                    并且对微平面BRDF的各项都进行了严谨的调查，并提出了清晰明确而简单的解决方案。
                    原则性”的易用模型，而不是严格的物理模型
                    艺术导向
                    可以仅通过少量的参数来涵盖自然界中绝大多数的材质，并可以得到非常逼真的渲染品质。
                    非常逼真的渲染品质
                    固有色（baseColor）贴图才会同时包含金属和非金属的材质数据
                    Disney采用了通用的microfacet Cook-Torrance BRDF着色模型
                tt must read 
                qq Overview over BRDF models 
                    Graphical overview of BRDF models 
                    BRDF MEASUREMENT
                    https://zhuanlan.zhihu.com/p/21376124
                    is a reflectivity model for diffuse reflection from rough surfaces. 
                    It has been shown to accurately predict the appearance 
                        of a wide range of natural surfaces, such as concrete, plaster, sand
                    Reflectance is a physical property of a material that describes 
                        how it reflects incident light. 
                    reflectance properties
                    *Most reflectance models can be broadly classified into two categories: 
                        diffuse and specular
                    the diffuse component is often assumed to be Lambertian. 
                    *A surface that obeys Lambert's Law appears equally 
                        bright from all viewing directions.
                    This model for diffuse reflection was proposed by 
                        Johann Heinrich Lambert in 1760 
                    has been perhaps the most widely used reflectance model 
                        in computer vision and graphics
                    however, the Lambertian model is an inadequate 
                        approximation of the diffuse component.
                    qq why Lambertian model inadequate ?
                        This is primarily because the Lambertian model 
                            *does not take the [roughness of the surface] into account.
                    Rough surfaces can be modelled as a set of facets 
                        with different slopes
                    Analysis of this phenomenon has a long history and can be traced back almost a century
                    fit experimental data 
                    The Oren朜ayar reflectance model, developed by Michael Oren and Shree K. Nayar in 1993
                    The model takes into account complex physical phenomena such as masking, shadowing and interreflections between points on the surface facets. I
                    It can be viewed as a generalization of Lambert抯 law
                    important implications for human vision and computer vision problems, such as shape from shading, photometric stereo, etc.
                    roughness
                    qq who introduced microfacet model first to computer graphics?
                        proposed by Torrance and Sparrow
                    be composed of long symmetric V-cavities.
                    Each cavity consists of two planar facets
                    In particular, the Gaussian distribution is often used, 
                        and thus the variance of the Gaussian distribution
                    the variance of the Gaussian distribution, 
                        {\displaystyle \sigma ^{2}}\sigma ^{2}, is a measure of the 
                        roughness of the surfaces.
                    The standard deviation of the facet slopes 
                        (gradient of the surface elevation)
                    *In the Oren-Nayar reflectance model, 
                        each facet is assumed to be Lambertian in reflectance
                    In the case of {\displaystyle \sigma =0}\sigma =0 
                        (i.e., all facets in the same plane), 
                        we have {\displaystyle A=1}A=1, 
                        and {\displaystyle B=0}B=0, and thus 
                        the Oren-Nayar model simplifies to the Lambertian model:
                        simplifies to the Lambertian model
                    qq what is the relationship bet. Oren-Nayer model and Lambertian model?
                    qq the idea of oren nayer model? 
                        generlization of Lambertian
                        more accurately than the Lambertian model.
                    corresponding to different surface roughnesses (
                    retro-reflective materials
                    Oren-Nayar
                    Fresnel Equations
                    https://zhuanlan.zhihu.com/p/21376124
                    Fresnel
                    反射和折射的比例由菲涅尔方程（Fresnel Equations）给出，菲涅尔方程比较复杂，
                        图形学里一般使用近似公式计算。
                    coefficients
                    The Fresnel equations (or Fresnel coefficients) 
                        describe the reflection and transmission of light 
                            (or electromagnetic radiation in general) 
                            when incident on an interface between different optical media.
                    (or Fresnel coefficients)
                    They were deduced by Augustin-Jean Fresnel (/fre?'n?l/) 
                        who was the first to understand that light is a transverse wave,
                    even though no one realized that the "vibrations" of 
                        the wave were electric and magnetic fields.
                    transmittance factor:
                    reflection factor: 
                    orthogonal
                    parallel
                qq explain how to use the frensel equ.
                    insert into Cook Torrance model, when computing brdf 
                Oren-Nayar
                geometry factor and visibility
                Anisotropic APS-BRDF
                https://dl.acm.org/doi/pdf/10.1145/344779.344814
                tt must read
                *Most materials are Isotropic:  
                    (you can rotate about normal without changing reflections)
                brushed metal etc. preferred tangential  direction
                qq what is a Anisotropic material?
                    the reflections will change when we rotate about normal
                    direction-dependent mediums
                    the mechanical properties of anisotropic materials depend on the orientation of the material’s body.
                qq what is APS brdf? 
                    Ashikmin, Premoze, Shirley
                qq how to To support anisotropy??
                    one needs a  tangent vector ??  ? pointing 
                    in x-direction  within tangent space
                    use anisotropic Gaussian distribution in the brdf computing equ.
                    just modify the distribution function to a desired form! 
                qq how can we handle that the energy preservation will not hold?
                    corrected diffuse BRDF
                    with [bi-]hemispherical reflectance 
                qq what meterials are typically Anisotropic??

                qq what is Torrance-Sparrow model? 
                    也被称为Cook-Torrance模型
                Assume the surface is made up grooves at the microscopic  leve
                ? Assume the faces of these grooves (called microfacets) 
                    are  perfect reflectors.
                Take into account 3 phenomena
                Torrance-Sparrow Result Sparrow Result
                Fresnel term:
                Geometric Attenuation:
                Distribution:  distribution function  determines what  percentage of  microfacets are  oriented to reflect in 
                How much of the  macroscopic surface  is visible to the light  source
                How much of the  macroscopic  surface is visible  to the viewer
                https://digibug.ugr.es/bitstream/handle/10481/19751/rmontes_LSI-2012-001TR.pdf;jsessionid=97878771AD4E28B65B909823A8B0C1F2?sequence=1
                tt must read
                qq what does color mean when vis. brdf as Lobe?
                    distributions of out going strength for all directions! 
                    sum over to one 
                qq what means a brdf is phy plausible? x2 +
                    derived from laws of physics
                    non negative,  symmetric, energy  conservation
                efficient  importance sampling  possible 
                https://www.disneyanimation.com/technology/brdf.html
                tt must read
                tt lobe related!!!!! must read
                http://www1.cs.columbia.edu/~cs4160/html08spr/slides/lecture20.pdf
                ---Messung von BRDFs tobecontinue
                https://digibug.ugr.es/bitstream/handle/10481/19751/rmontes_LSI-2012-001TR.pdf;jsessionid=81B56BD1DB6156AD61574AC2151786F5?sequence=1

                qq measures reflectance for combinations of?? what are inputs of the measuring process?
                    sensorand light source position
                qq how can we reduce number of necessary measurements? x2 
                    Helmholtz reciprocity and isotropy of BRDF can help 
                        * measurement of interchanged dots  yields the same value 
                    * For isotropic BRDFs, all measurememts around should have the same value 
                        can move sensor or rotate sample
                    Helmholz Reciprocity implies?  
                qq how can a single BRDF sample can be illustated?
                    by two dots
                qq For isotropic BRDFs all measurements  with the dots rotated around the normal 
                    direction yield the same value, why?
                qq how can we get the brdf result? completely measure a BRDF
                    sample all combinations of light and sensor locations. 
                qq how can we measure a brdf with minimal effort ? 
                    > sensor locations can be restricted to?
                    a 1D half arc
                Bildbasierte BRDF Messung
                qq which devices can be used to measure brdf?
                    Gonioreflektometer
                    ccd camera 
                qq Three elemental components that can be used to model a variety of light-surface interactions??
                    > draw a graph to show the results 
                    wiki https://en.wikipedia.org/wiki/Bidirectional_reflectance_distribution_function
                Aufnahme vieler Samples mit  einem Bild einer CCD Kamera
                Geometrie & Kalibrierung
                Aufnahmeausr黶tung
                qq what pre requirements are needed?? op48
                    dark room
                    calibration targets  (checkerboard, metal  spheres)
                    Lafortune Model
                qq describe the image-based BRDF measurement system?? 
                    > what is the idea behind? x2 
                    acquire samples with ccd camera from diff. directions 
                    do interpolation
                qq idea of Lafortune model? the formula? 
                    [Generalization] of Phong’s reflectance model
                    Replaces dot product with [weighted dot product]
                    Fitted Lafortune model, 
                        a generalization of Phong with multiple specular lobes, 
                        and intended for parametric fits of measured data
                    suitable for brdf acquiration 
                    Addition mehrerer Loben
                    https://www.cs.drexel.edu/~david/Classes/CS431/Lectures/BRDF.pdf
                    tt must read .
                &h
                    https://www.sciencedirect.com/science/article/pii/S0263224113003072#:~:text=Measurement%20and%20modeling%20of%20Bidirectional%20Reflectance%20Distribution%20Function%20(BRDF)%20is,spectrometer%20and%20three%2Ddimensional%20turntables.
                        Measurement
                        optical scattering characteristics of the material surface
                    http://graphics.stanford.edu/~smr/cs348c/surveypaper.html
                    the BRDF is a function of four dimensions
                    there are problems with light source and camera stability
                    Ward built an imaging reflectometer that uses the 
                        two degrees of freedom inherent in a camera 
                        imaging system to reduce the number of moving parts
                    the system captures the light reflected into all directions at once
                    Since Ward fit his data to a model with a small number of free parameters, 
                        these were not major problems. They confirm, however, 
                        how difficult it is to measure BRDFs, even with careful attention to the measuring apparatus.
                    http://graphics.stanford.edu/~smr/cs348c/img6.gif
                    BRDF是关于入射光方向和反射光方向的四维实值函数，
                        它等于反射方向的光亮度和沿入射方向的入射光的辉度之比：
                    BRDF的可逆性源自于Helmholtz光路可逆性
                    交换入射光和反射光的角色，并不会改变BRDF的值
                    能量守恒性质
                    可以写成不同角度入射光的光亮度乘BRDF的积分
                    Phong模型缺乏物理解释
                        并且对于某些金属材质，它并不十分准确
                    Phong模型是在Lambert漫反射模型的基础上，添加了镜面反射项，以表达反射角上的镜面反射效果
                    Phong模型的扩展
                    BRDF描述了入射光在物体表面某一点反射后出射光的分布情况
                    分布情况
                qq three types of brdf? compare them! 
                    经验模型（Empirical Models)
                        Phong model/ Blinn-Phong model.... old ones 
                    基于物理的模型（Physical-based Models）
                        computed from analytical models
                    数据表达的模型（Data-driven Models）
                        direct measurement of BRDFs, captures 
                    https://www.xzbu.com/1/view-11108267.htm
                qq the idea of Lafortune Model
                qq how many parameters should be computed for a one-Lobe model? two-Lobe model? 
                    3 * (1 + 3i), i = 1,2...
                    12 and 21 
                    Parameter (12 fur ein ein-Lob Modell)
                ---Bidirectional texture  function (BTF)
                qq what is BTF 
                    Bidirectional texture function
                    a 6-dimensional function
                    textures can be computed from BTF 
                    can acquire more infos than just texture
                    depending on planar texture coordinates (x,y) as well as on view and illumination spherical angles. 
                    for each pair of directions  acquire image of ?? × ??  reflectance samples
                    In practice this function is obtained as a set of several thousand color images of material sample
                    * It is an image-based representation, since the geometry of the surface is unknown and not measured.
                qq idea of spatial BRDF?? sBRDF
                    similar to BTF: high dimentional function, contains many useful information! 
                hh BTF is first introduced in 1999, and many similar concepts are introduced since then 
                qq the form of a btf database? 
                    BTF measurements are collections of images
                qq two representation of BTF? draw a graph to illustrate! 
                    we can transfer to each other by rearranging BTF
                    texture representation + abrdf representation
                qq applications of BTF? x2 typical applications! best suitable applications! 
                    photorealistic material rendering of objects 
                        in virtual reality systems and for visual scene analysis
                    recognition of skin texture
                tt to read must! 
                    https://dl.acm.org/doi/pdf/10.1145/300776.300778
                    https://cg.cs.uni-bonn.de/de/projekte/btfdbb/
                    http://library.utia.cas.cz/separaty/2009/RO/filip-bidirectional%20texture%20function%20modeling%20state%20of%20the%20art%20survey.pdf
                hh 
                    https://www.cs.columbia.edu/CAVE/software/curet/index.php
                    tt database!!!
                    205 measurements per sample
                    https://cg.cs.uni-bonn.de/de/projekte/btfdbb/download/
                    OBJECTS2012 Datasets 
                    提出了一种快速的BTF图像超分辨率重建的方法。通过奇异值分解将已
                        采集到的低分辨率BTF数据分解为本征纹理矩阵和特征ABRDF矩阵,
                        然后采用图像超分辨率重建算法,提升本征纹理矩阵的分辨率。
                        最后,高分辨率的BTF图像可以通过高分辨率本征纹理矩阵和低
                        分辨率的特征ABRDF矩阵相乘获得
                    需要采集真实物体表面在不同视角方向和光照方向下的纹理图像
                    这些纹理图像的集合
                        可以被称为双向纹理函数(Bidirectional Texture Function,BTF)数据
                    由于BTF数据维度较高,现实采集中存在采集时间过长、
                        采集数据量庞大等问题,给其实际应用带来了困难
                    BRDF was measured by recording images of the sample under 205 
                        different combinations of viewing and illumination directions.
                    https://www1.cs.columbia.edu/CAVE//exclude/curet/html/brdfm.html
                tt must read
                qq what is BSSRDF
                    Bidirectional [Subsurface Scattering] Reflection Distribution Function
                qq the idea of BSSRDF
                    scattering inside of material is also considered 
                    BSSRDF much more [natural light distribution] on skin
                qq unit of a bssrdf? and its dimention? 
                    1/(m2 * sr)
                    8-dimensional parameter space
                hh tt
                    Subsurface Scattering
                    https://graphics.stanford.edu/courses/cs448-05-winter/papers/nicodemus-brdf-nist.pdf
                    四）- 次表面散射
                    物理着色（四）- 次表面散射
                    继续写之前的基于物理着色系列
                    https://zhuanlan.zhihu.com/p/21247702
                    次表面散射是现实中一种非常常见的材质外观，所有有着半透明外观的物体
                    例如玉石，大理石，蜡烛，可乐，苹果，牛奶（见下图）包括人类的皮肤，等等。
                    半透明
                    下图则是电影《功夫熊猫3》中的一幕，画面中的玉石也是次表面散射材质的典型例子之一。
                    次表面散射现象的模拟也比在前三篇文章里介绍过的一般的表面反射复杂很多，因为要正确的模拟这种现象，光线不止再物体的表面发生散射，而是会先折射到物体内部
                    对于次表面散射性质的材质来说，光线出射的位置和入射的位置是不一样的，而且每一点的亮度取决于物体表面所有其他位置的亮度
                    物体的形状，厚度等
                    BSDF只能用于描述物体表面某一点的散射性质
                    所以它无法描述像次表面散射这种现象。
                    要模拟这样的现象，最简单，最精确，也是计算量最大，最慢的方法，就是直接在物体内部的空间求解带有Participating Media的渲染方程
                    例如最简单的Volumetric Path Tracing，Volumetric Photon Mapping等等。
                    [2]是最简单的Volumetric Path Tracing的tutorial，[3]是State of the art的Participating media estimator。因为话题很大，这里不再展开，以后有时间会再专门写写相关的内容。
                    BSSRDF可以指定不同的光线入射位置和出射的位置。Jensen在2001年的论文[4]可以说那是次表面材质建模最重要的一篇论文，推导了许多重要的物理公式
                    BSSRDF重要性采样
                    计算模型，渲染时的参数转换，以及测量了许多生活中常见材质的散射系数等等
                    大部分后来的论文都是在基于这篇文章中的理论的一些提升。不过这篇论文中有大量的数学以及物理公式
                    https://graphics.stanford.edu/papers/bssrdf/bssrdf.pdf
                    BSSRDF的意义在于快速的近似。对于许多吸收系数特别低，散射系数特别高的材质来说（大部分浑浊的半透明物体例如牛奶，大理石，苹果，肉等等）
                    https://link.zhihu.com/?target=https%3A//www.mitsuba-renderer.org/releases/current/documentation.pdf
                    https://zhuanlan.zhihu.com/p/20091064
                    https://pic4.zhimg.com/80/992488f76560cd99204fba77ef47fcb7_1440w.jpg
                    当然实际渲染中这种平面不存在，所有模型都不是无限厚度的，也都是有各种形状的，
                        现实中所有物体内部的散射系数也都肯定不会是均匀的
                    这也是BSSRDF近似渲染的最主要的错误来源。
                    EDXRay里用两种完全不同的方法渲染的颜色
                    材质以及介质参数完全一样的两个佛像。左边的佛像是基于BSSRDF，右边的则是无偏的Participating Media
                    BSSRDF因为假设所有表面都的厚度都是无限的，在实际模型中如果有厚度比较薄的地方，误差会更为明显。
                    这也是为什么BSSRDF渲染的结果相比Participating Media要暗淡一些。除了这些误差以外，BSSRDF也没办法渲染出焦散
                    Left: BRDF ?hard“ light distributio
                    right: BSSRDF describes light transport and scattering inside of material.
                    scattering inside of material
                qq how bssrdf is used? 
                    describe scattering inside of material!!!!
                    internal color bleeding in shadowed region under nose. 
                    [much more natural light distribution on skin.]
            ---*
            pruf-re-ok- slides-5 CG3_05_Path-Based-Rendering
                    ---REVIEW---
                    ---
                    ---
                    ---
                Metropolis Light Transport
                PATH BASED  APPROACHES
                Light Tracing ?caustics
                reflecting and  refracting
                caustics
                qq what is caustics, draw to illustrate! envelop? incident rays? reflacted rays?
                    typically a  light pattern on the ground 
                    lighting effect brings a scense of realistic 
                    crutial tasks for realistic rendering 
                different approximation techniques
                connects them to the eye by direct eye sampling 
                    after  Russian Roulette terminated a path 
                qq illu. Path Tracing with Direct Lighting and Light Tracing with Eye Rays
                    op06 
                qq how light sampling can be connected to eye?? 
                    > directly hit the eye position?? n 
                    connects to the eye point or chooses a point [on the lense] 
                qq always connect to the eye point?? n
                pixels get different number of samples or even none
                for BPT an additional sample buffer
                qq Light Tracing – Algorithm op08 large! 
                qq how can we render caustics with lower variance? 
                    > how to choose the best renderer? 
                    caustics are reproduced better with light tracing
                    but all other effects are worse than with path tracing
                qq is light tracing optimal? 
                qq what benefits does light tracing have? x1 
                qq compare light tracing and path tracing, good in which effect?

                light tracing should be only used in combined approaches
                qq how can a lower variance be achieved? what if we sample the same rays many times?
                    it is important that individual methods do not 
                        sample the same rays several times 
                qq should we reuse the light ray several times?? n
                qq what is the key point of a cache based method? 
                    intermediate results can be reused futher, thus have a lower variance 
                interconnects path from eye with path from light source
                qq the idea of Bidirectional Path Tracing? 
                    start sampling from both side
                    use Roussian Roulette twice for termination
                    all possible connections between subpaths
                    compute whether connection is blocked, drop the whole path maybe 
                    multiply probabilities of subpaths
                Irradiance Mapping
                Roussian Roulette 
                http://www.pbr-book.org/3ed-2018/Light_Transport_III_Bidirectional_Methods/Bidirectional_Path_Tracing.html
                16.3.4 Multiple Importance Sampling
                qq what is BPT in rendering
                qq show a ray path with x w notation! op14 
                edge lengths ?? = 1 
                qq what is Overall average length?
                qq what are possible sampling techniques? 
                Implementation of BPT without multiple importance 
                    sampling has additional artefacts
                qq for BPT, there are still problems with which paths?
                    LSDSE-paths
                to solve this we need cache based methods 
                Metropolis Light Transport, Eric Veach and Leonidas J. Guibas,  SIGGRAPH 97 
                https://graphics.stanford.edu/papers/metro/metro.pdf
                    tt must read
                    //from chapter 8 op245
                    a measure on this space of paths
                    measurement contribution function
                    it allows general-purpose integration methods to  be applied. 
                    an integration method that allows  several different sampling strategies to be efficiently combined.
                    path integral model
                    integral equations
                    These new techniques can only  be properly understood within the path integral framework.
                    e three-point form of the light  transport equations
                    These measures have natural  physical interpretations whose meanings are described
                    eliminate the directional variables
                    he arrow notat
                    light flow
                    s the union of all scene surfaces, A is the area measure on M
                    e mutually visib
                    use the path integral framework in Monte Carlo algorithm
                    k is a product measur
                    much simpler structure
                    path integral formulation
                    integral equation approach requires  two equations (the light transport and measurement equations)
                    defined recursively
                    Measurements are defined and computed directly, by organizing the calculations around a  geometric primitive (the path)
                    Each path specifies the emission,  scattering, and measurement events along a complete photon trajectory
                    along a complete photon trajectory
                    starting with a vertex in the middle,  and building the path outwards in both directions
                    With the path integral approach, on the other hand,  it is possible to construct paths in arbitrary ways
                    construct paths in arbitrary ways
                    computing  probability densities on paths
                    we must be able to evaluate the functions fj and p for the given  path X  .
                    n how this path was generated
                    depends on all of the random choices made during this proces
                    Local path samplin
                    generate vertices one at a time, based on local information at existing vertices (such as the BSDF
                    For example, this is  what happens when the BSDF at an existing vertex is sampled
                    once  a vertex on a light source has been chosen
                    combining these three simple techniques, it is possible to sample paths in a great variety  of ways
                    general enough to accommodate  virtually all path sampling techniques that are used in practice
                    compare the probabilities with which a given path is sampled by different techniques.
                    Heckbert抯 regular expression notation for paths
                    Heckbert [1990] introduced a useful notation 
                    classifying paths by means of regular expressions.
                    L denotes the first vertex of the path
                    E denotes the last vertex (the camera position or 揺ye?
                    scattering event at each vertex
                    not the type of the surface
                    surface itself is allowed to be a combination of specular and diffuse
                    Multiple Importance Sampling
                    using more  than one sampling technique to evaluate a given integral
                    Our motivation is that most numerical integration problems in computer graphics are  揹ifficult?
                    we would like to design a sampling strategy that gives a low-variance  estimate of the integral.
                    We do not construct new  sampling techniques ?we assume that these are given to us
                    by computing weighted combinations of the sample values
                    can be parameterized by a set of weighting functions
                    Our goal is to find an estimator with minimum  variance, by choosing these weighting functions appropriately
                    we can take several potentially good techniques and combine  them so that the strengths of each are preserved.
                    This chapter is organized as follows.
                    variance reduction techniques
                    multi-pass algorithms
                    The glossy highlights problem
                    Smooth surfaces (r = 0)  correspond to highly polished, mirror-like reflections
                    while rough surfaces (r = 1) correspond to diffuse reflection
                    It is possible to simulate a variety of surface finishes by using  intermediate roughness values in the range 0 < r < 1.
                    different light source sizes and surface finishes
                    then examine why each one has high variance in some situations.
                    sampling the BSDF and sampling the light source
                    samples  were chosen according to the density
                    subtended by the light source at the current poin
                    One of these sampling strategies can have a much lower variance than the other, depending  on the size of the light source and the surface roughness paramete
                    For example, if the light  source is small and the material is relatively diffuse, then sampling the light source gives  far better results than sampling the BSD
                    polishe
                    n sampling the BSDF is far superio
                    high variance is caused by inadequate sampling where the integrand  is larg
                    e ideal density function for sampling would be proportional to the product of  all of these factor
                    neither sampling strategy takes all of these factors into accoun
                    Dry Erase: Infinite VR Whiteboard
                    y, so that we can express the two sampling strategies as different  probability distributions on the same domai
                    many problems in graphics that are similar to the glossy highlights exampl
                    large number of integrals of a specific form must be evaluate
                    depend on  various parameters of the scene mode
                    This makes it difficult to design an adequate sampling strategy, since  the parameter values are not known in advance. 
                    The main issue is that we would like low-variance results for the entire range of parameter value
                    too complicated to sample from directl
                    unconsidered factors has a large effec
                    Our main concern
                    how these samples can be automatically combined to obtain low-variance results over the entire range of surface roughness  and light source parameters.
                    Monte Carlo integration can be made more robust by using  more than one sampling technique to evaluate the same integral
                    can be represented as a set of weighting functions
                    balance heuristic
                    This image was rendered using both the BSDF sampling strategy and the light  source sampling strategy
                    The samples are exactly the same as those for Figure 9.2(a) and  (b), except that here the two kinds of samples are combined using the balance heuristic.
                    effective over the entire range of glossy surfaces
                    These images show close-ups of the glossy highlights test scene
                    it does not work quite as well as the other
                    We now present two families of combination strategies
                    maximum heuristic.
                    power heuristic
                    Variance bounds
                    The final gather problem
                    we consider a simple test case motivated by multi-pass light transport algorithms.
                    combination  strategies
                    Notice that the sampling technique in Figure 9.12(a) does not work well for points near  the light source, since this technique does not take into account the 1=r2  distance term of the  scattering equation
                    It extends importance sampling to the case where more than  one sampling technique is used
                    integrand is a  sum of several quantities
                    A good example in graphics is the BSDF, which is often written  as a sum of diffuse, glossy, and specular components 
                    The process of taking one or more samples from each component is essentially a form of  stratified sampling
                    the sample allocation is not as important as choosing a good  combination strateg
                    can improve the variance by at most a factor  of n, plus a small additive ter
                    the optimal sample allocation is irrelevant
                    sophisticated sampling  strategies are generally designed for a specific light source geometry
                    y (e.g. the light source  must be a triangle or a sphere)
                    Second, they are often expensive: for example, taking a sample may involve numerical inversion of a function
                    Thus, combining  samples from two or more techniques
                    make direct lighting calculations more robust
                    additional  cost is small
                    have shown strong bounds on their performance relative to all other combination strategies
                    the balance heuristic is an excellent choice for a combination strategy: it has the best theoretical bounds
                    and is the simplest to implement.
                    the given integral is a low-variance proble
                    better performance is most noticeable
                    Direct  lighting calculations are a good example of where this optimization is useful
                    useful
                    provides a new viewpoint on Monte Carlo integration
                    o find a single “perfect”  sampling technique, here the goal is to find a set of techniques that cover the important features of the integrand
                    It does not matter if there are a few bad sampling techniques as well
                    the results will not be significantly affected.
                    whenever there is some situation that is not handled well, then we can simply add another sampling technique designed for that situation alone
                    We believe that there  are many applications that could benefit from this approach, both in computer graphics and  elsewhere.
                    By varying the number of vertices generated from each side, we obtain a family of sampling techniques for paths of all  lengths
                    Samples from all of these techniques are then combined  using multiple importance sampling
                    efficiencyoptimized Russian roulette
                    area-product  measure
                    measurement contribution function
                    Samples from all of these techniques are then combined  using multiple importance sampling.
                    detailed mathematical description 
                    derive explicit formulas for the sample contributions
                    summarizes our conclusions
                    The multi-sample estimator
                    Recall that according to the path integral framework of Chapter 8,
                    each measurement can  be written in the form
                    artefacts
                    incremental
                    1). It is important to note that there is  more than one sampling technique for each path le
                    th: in fact, for a given length k it is  easy to see that there are k + 2 different sampling techniques (by letting s = 0; : : : ; k +
                    concatenating two separately generated pieces.
                    : The four bidirectional sampling techniques for paths of lengthk = 2.
                    (b) Monte Carlo path tracing with a direct lighting calculation,
                    (d) tracing photons and recording an image sample only when photons hit  the camera lens.
                    finite-aperture lens
                    different probability distributions on the space of paths,  which makes them useful for sampling different kinds of effects
                    sampling different kinds of effects
                    (b) works well under most circumstances (for paths of length two), technique (a)  can be superior if the table is very glossy or specular
                    Similarly, techniques (c) or (d) can  have the lowest variance if the light source is highly directional.
                    correspond to different density  functions ps;t on the space of paths
                    All of these density functions are good candidates for  importance sampling
                    because they take into account different factors of the measurement  contribution function fj
                    a wide variety of scenes and lighting  effects can be handled well.
                    h s + t vertices and k = s + t  1 ed
                    the connecting ver
                    the connecting
                    op328 
                Average path length 
                qq calcu. Average path length 
                Path Measure
                tt read ori!! must read 
                qq which sampling techs do you know related to calculating path pdf? [open question]
                    pixel filter sampling, Roussian Roulette,  
                    splitting of BRDF in components, cosine term sampling,  
                    BRDF sampling, direct light sampling, or MIS
                    splitting of BRDF in components
                    cosine term sampling
                qq how can we compute path pdf, which varients are there?? xn , 
                    many sampling techniques exists 
                &p pp op18 --> veach thesis!!!
                qq what is Image formation, how can we do this? algo.!  op19
                qq show that The same path can be generated in several different ways illu. 
                qq and this may intro. bais?? y
                qq explain the given picture/ image--pic notes 
                Path Throughput 
                dependency on preceding path vertices. 
                again we have significant dependencies on preceding path vertices. 
                the visibility  test 
                direct light sampling.
                qq how can we compute path pdfs?? op21 Path pdfs
                    the dependency on preceding path vertices
                qq what does the last pdf mean? x2 
                Area sampling is used only for initial light source  
                    samples ??0 and direct light sampling
                Area sampling
                to support sampling of directions
                qq how can we sample directions?? 
                qq to support sampling of directions?
                    direction pdfs need to be converted to area pdfs
                    with geometry factor
                qq why there is no visibility check in direct sampling?? op22 
                    it is implicit, as the pdf will be 0
                qq the idea of BPT? 
                    connects light and path tracing by generating one path 
                        in each direction and interconnecting them 
                    light path
                    reversed eye path
                    connect paths
                    connecting edge? vertices? 
                qq how the path looks like with zy formation??
                qq what is s and t? 
                qq how can we compute k from s and t?  k is the number of edges 
                    ---REVIEW---
                    ---
                    ---
                    ---
                here ?? and ?? are the lengths (number verts) 
                of the light  and eye paths
                connected edge length ?? = ?? + ?? - 1
                ?? and ?? are sampled independently
                each tuple ?? = ??,?? w
                defines different  sampling strategy ???? of path ?? with the special cases
                ?? = 0 ?no light path
                qq special cases! 
                    > what does it mean if s=0? path tracing 
                    > and s = 1? direct light sampling 
                    > t=0? t=1?
                    light tracing, improtant to caustics 
                    t=1: direct eye sampling
                qq can we do MIS on one path? y what do we need as pre-requires?
                    need to be able also to compute all other probabilities
                    weights the strategies to minimize overall variance 
                    Weight Computations Example
                    MIS products lower variance 
                    the lenth of a path is not fixed
                    *for a fixed length of path, fixed number of vertices 
                        we can apply different sampling strategies 
                        those strategies has different probability functions used 
                        so can be combined together with MIS 
                        wide variety of scenes and lighting effects can be handled
                        can taken into account! 
                ---tobecontinue
                **!pp MIS is for single path or multiple paths?? ok 
                    fixed number of vertices, physically different paths 
                qq additional artefacts for BPT without MIS? why? 
                    where faces meet! 
                    the geometry term can become large and not considered with the 
                        original sampling technique
                ---
                qq why we set 1 to the first few vertices? 
                    to avoid any extra variance on short subpaths
                qq how can we compute weights increamentally?? op29
                    rearrange the weight computation
                qq how can we do Russian Roulette in BPT? 
                    similar way ! op28
                qq Efficient Sampling with path groups, how can we do this? 
                    with a table!!
                    Efficient Sampling with path groups
                qq are there Efficient Computation of Contribution? idea? x2 
                    incrementally during generation of all path samples
                    cancel out some factors......
                    tt paper to read 
                    cancel out 
                qq what problems can bpt arise? 
                    still problems with LSDSE-paths
                qq what is the most app. advantages for caching?? 
                    the same calculations can be reused several times by a second method. 
                    reused
                ---METROPOLIS LIGHT TRANSPORT
                qq idea of Metropolis Sampling? 
                    compared to russian rolate
                    define Markov-Chain on omega
                    MLT算法依赖于非常好的突变策略, 使得一些非常困难的路径可以更轻易被采样到
                    *sampling the secondary paths with help of [Markov Chain Monte Carlo]
                        applies a sequence of [random mutations] 
                            [handle a variety of difficult lighting] situations
                    *instead of RR, we can think that the sampling is done in [unit-hypercube]
                        but MTL [not take use of improtance sampling ]
                    some interesting applications exits:
                        We could also use MLT to render a sequences of images (as
                            in animation), by sampling the the entire space-time of paths
                            at once
                    *inspired by the [Metropolis sampling method in computational physics]
                qq which scenes are best suitable for MLT?
                    a.brightly lit room next to a dark room containing the camera, 
                        with a door slightly ajar between them
                        The problem is that for some environments, most
                            paths do not contribute significantly to the image
                        Naive path tracing will be very inefficient, 
                            because it will have difficulty generating paths
                        Metropolis Light Transport的论文就是用了一个光源在一个
                            微微打开的门缝后面的场景当的例子
                        Metropolis Sampling主要就是用来渲染一些采样路径特别复杂的场景的
                            一般室外大太阳的场景用不着付出额外的计算去用这么fancy的采样方法
                        大多数路径都是刚好能有效连接光源和camera的
                        这些所有路径中只有一部分路径对最终成像有比较大的贡献的
                            （一个光线照不到的桌子底下反射100次也是没有什么贡献的）
                    b.Metroplis Sampling也可以比较高效的计算Specular-Diffuse-Specular这种路径
                qq why markov process can be assumed? 
                    首先光线传递的随机性（光子抵达物体表面材质后被吸收或随机反射）仅由当前状态决定，
                        和历史无关，满足马可夫过程定义
                    it has Markov property: *memoryless property of a stochastic process.
                qq what is Markov property        
                    conditional probability distribution 
                        depends only upon the present state
                        not on the sequence of events that preceded it.
                qq what is Markov process
                    A process with Markov property is called a Markov process.
                qq what is Markov chain.
                    discrete-time stochastic process satisfying 
                        the Markov property is known as a Markov chain
                    光线传播本身是time-dependent模型
                hh  https://zhuanlan.zhihu.com/p/28345852   
                    suggested extensions!
                    马尔可夫蒙特卡洛方法（MCMC，Markov Chain Monte Carlo）算法被引入到渲染领域
                        这个被称为影响20世纪科技发展最重要的
                        与传统的蒙特卡洛方法（例如路径追踪）不同的是
                        它通过利用样本之间的相关性来更好地探索一个分布函数
                    相关性
                    使得一些非常困难的路径可以更轻易被采样到，然而MLT算法依赖于非常好的突变策略
                    2002年，Csaba Kelemen提出了PSSMLT算法
                        （Simple and Robust Mutation Strategy for Metropolis Light Transport Algorithm）
                    这个采样的过程实际上是对多个[0,1]的随机数的采样过程，
                        这些[0,1]随机数构成一个高维的单位超立方体（unit-hypercube），
                        这称为原采样空间（Primary sample space
                        所以如果直接对该空间采样，也能够得到一条路径。
                    另外最重要的是因为使用重要性采样，原采样空间的被积函数为f/p接近为一个常数，
                        这使得原采样空间的被积函数更平坦，采样的方差更低，
                        考虑传统的MLT算法并没有使用重要性采样
                    Markov Chain Monte Carlo
                    qq idea of PSSMLT
                    高维的单位超立方体（unit-hypercube）
                    它将“路径采样”当做一个黑盒子：它直观给你一些随机数，不管你使用什么方法给我一条路径就可以
                    某个顶点一个微小的突变可能导致后续路径发生较大的变换，从而使种子路径和突变路径差异太大而丧失相关性
                    MLT算法被提出来后最重大的一个进展要数2014年Toshiya Hachisuka提出的
                        MMLT算法（Multiplexed Metropolis Light Transport）
                    路径除了在每个原采样空间内部执行突变，还可以在不同采样技术之间执行突变。
                    这是一种采样技术，叫Metropolis Sampling。
                    Metropolis Sampling只需要你能求得f(x)的值，就可以自动生成一组和f
                        的大小成比例的样本（就是下图中的红点，f越大红点越密集）
                    这些所有路径中只有一部分路径对最终成像有比较大的贡献的
                        （一个光线照不到的桌子底下反射100次也是没有什么贡献的）
                    不在没有贡献的路径上面浪费计算量
                    绝大多数路径都没有贡献因为他们被强挡住了，所有求交和brdf采样求值的计算都浪费了。
                    如果用markov chain来生成样本，则得到的路径是这样的。
                        大多数路径都是刚好能有效连接光源和camera的。
                    Metropolis Sampling主要就是用来渲染一些采样路径特别复杂的场景的
                    一般室外大太阳的场景用不着付出额外的计算去用这么fancy的采样方法
                    Metropolis Light Transport的论文就是用了一个光源在一个
                        微微打开的门缝后面的场景当的例子
                    Metroplis Sampling也可以比较高效的计算Specular-Diffuse-Specular这种路径
                    Specular-Diffuse-Specular
                    high level的说了一下为什么渲染可以用到markov chain。
                        具体的实现也不麻烦，基于一个叫Detailed Balance的方法
                    首先光线传递的随机性（光子抵达物体表面材质后被吸收或随机反射）仅由当前状态决定，
                        和历史无关，满足马可夫过程定义
                    满足马可夫过程定义
                    第二，现实场景的物体材质不存在全部是完美镜面的情况，也就是系统中存在扩散/耗散项（非Dirac分布的BRDF，以及吸收项），所以能量分布会趋于稳定，收敛到一个稳态
                    光线传播本身是time-dependent模型，但是渲染里假定了能量瞬间完成重分布，
                        所以需要证明稳态方程解的存在唯一性。
                    MMLT的重要意义在于它将统计中的模拟回火（simulated tempering）
                        的思路引入到了MLT算法中
                    模拟退火本来用于解决最优质问题，由于物体加温之后分子状态之间的转移更活跃，
                        因此状态更易于在全局转移
                    而随着温度逐渐降低，状态之间的转移就逐渐减弱。所以为了求最优值
                    所以为了求最优值，如下图中的最大值，我们首先将温度升高，
                        然后让其慢慢冷却，在其过程中不断寻找最大值，
                        随着温度降低，最终将停留在最大值处。
                    在MMLT算法中，温度即是采样技术，不同的采样技术将原采样空间划分为多个子空间。
                    当采样技术发生改变时，虽然所有的[0,1]随机数并没有发生变化，
                        但是由于使用了不同的采样技术，这些随机数被使用的方式也完全不同了
                    理想情况下，我们希望在改变采样技术时，能够保持路径不变。
                        因此， Benedikt Bitterli于今年提出的RJMCMC
                        （Reversible Jump Metropolis Light Transport using Inverse Mappings）
                    使用一个反向映射方法，当从采样技术1向采样技术2转移时，
                        它将状态1对应的原采样空间的路径在对应路径空间中的形式，
                        通过一个反向映射转换到采样技术2对应的原采样空间，
                        这个过程是决定性（deterministic）计算的
                    Jacopo Pantaleon的CMLT（Charted Metropolis Light Transport）
                        几乎也与上述思路类似，但是强调更泛化的概念
                    HISANARI OTSU的Fusing State Spaces for 
                        Markov Chain Monte Carlo Rendering在算法上稍微不同于上述两篇论文
                    今年这几篇论文质量还是可以的，并且更是有
                        Wojciech Jarosz，Wenzel Jakob, Carsten Dachsbacher, Anton S. 
                        Kaplanyan等这些保驾护航。
                qq how Markov Chain can be used for MLT?? 
                qq how simulate tempering can be used for MLT??
                hh 
                    这种采样技术之间的转移太高效了。
                    秦春林，从事游戏开发已有7个年头，担任游戏开发工程师，
                        主要研究方向是引擎开发和图形渲染。物理专业出身的我属于半路出家
                    https://item.taobao.com/item.htm?spm=a1z10.1-c.w4004-17761944037.2.27fe5c3cX900DC&id=569868401235
                    不像PBRT聚焦于比较经典的路径追踪算法实现，《全局光照技术》覆盖了截止2017年大量的行业中最前沿的渲染技术
                    例如VCM/UPS，降噪技术，频率域分析，微分流形/几何，梯度域渲染，基于光束的参与媒介渲染技术等等
                    这些都是近几年离线渲染领域最前沿的方向和技术，被广泛运用于最近皮克斯，迪士尼等动画电影当中，使读者能够了解到最前沿的行业动态和趋势
                    而 《Physically Based Rendering: From the Theory to Implementation》聚焦于离线渲染
                    实时和离线渲染同属于计算机图形学领域， 它们只是在当前硬件水平下针对实时性需求的划分
                    很多实时的全局光照模型都是从离线渲染模型优化，改进而来
                    全局光照技术》主要是按照各种全局光照技术为主线进行组织的，本书基本上覆盖了当前行业中最重要的约十种全局光照技术，例如针对离线渲染领域的路径追踪，梅特波利斯光照传输，光子映射，针对交互式需求的辐射度方法
                    为了加速光线追踪计算，与Path tracing直接从物体复杂的几何表述中获取光照信息不同，
                        Photon mapping方法则将光照信息存储为一个独立的数据结构(称为 Photon map)
                        这大大加速了光线追踪的计算。
                    形成了一本270多页的英文稿子（如下视频），虽然该稿子仅仅是出于学习的目的，因此内容不是很严谨，但是它依然能够帮助我建立起一个3D渲染技术的宏观视图，它可以说是现在这本《全局光照技术》的重要基础，并且我相信很少有人在学习的过程中能够形成这种级别的笔记稿子。
                    在这个学习的过程中，我感觉到了知识系统性的重要性，尤其对于图形学这种涉及大量数学知识，以及各种各样算法实现的学科，因此我尝试去总结各种知识的分类及其之间的联系
                    于是我在完成第一章之后就将其大约80多页的内容放到网络上供大家下载试读，我希望借助这种方式能够实时收集到读者的反馈和建议
                    然后印刷上市后才能收到读者的反馈，然而这些反馈基本上对图书质量没有用处，因为它必须要等到再版时才能根据这些反馈作出调整，而很多技术图书甚至没有再版的机会。
                    《全局光照技术》试读章节的电子文件在各个论坛，QQ群以及TheGIBook官网已经被下载超过2000人次
                qq the idea of Metropolis Light Transport
                qq MLT is best suitable for ? which kind of scene ??
                Compute different error norms (L1  , L2 and L?  ) 
                    with respect  to reference image
                error values of other methods  (PT and BPT) over error value of MLT:
                qq how to explain those numbers? later 
            pruf-re-ok- slides-7 CG3_07_Cache-Based-GI
                    ---REVIEW---
                    ---
                    ---
                    ---
                qq how radius update work in ppm? 
                    N is number of photons in previous iter. and M is number of current iter.
                    user adjustable fraction alpha to adjest how much of M will be used in current estimation 
                    the radius can be updated according to?... 
                qq Bidirectional Path Tracing is very bad for?? good for??
                    *caustics in mirror
                    caustics in water 
                    LSDSE path 
                qq idea of Photon mapping:  op08 x4 
                    simpler: 
                        [generate] large number of [light paths] first,
                        [trace] light paths trough scene
                        [store] photons on diffuse or glossy surfaces
                        [estimate] reflected radiance with help of closeby photons
                    1.1
                        generate large number of [light paths] first
                            cache them and find for each eye path the matching ones
                        [emit large number of photons] 
                    1.2
                        trace light paths trough purely mirroring or refracting surfaces 
                            Russian Roulette on diffuse or glossy surfaces
                    1.3
                        store photons on diffuse or glossy surfaces in a kd-tree
                            + glossy = Specular not equ. to mirror, partially mirror reflection pp ?
                    2.1
                        generate per pixel one or several eye paths
                        use closeby photons to  estimate  reflected radiance
                qq where do we store photons in the scene? 
                    diffuse or glossy surfaces, Store photons only at surfaces where the BRDF is not a delta function
                    do not store on mirror surfaces, we trace further when such a hit found 
                qq when do we store a photon to caustic photon map? what is the criteria? and when global photon map? 
                    Store photons in the caustic photon map, if the photon path 
                        [had a delta BRDF as first hit]
                qq how can we enforce the caustic probability? 
                    rejection sampling 
                qq when geathering, which hits are accepts?
                    non-delta, bkg, light 
                    radiance reconstruction from 
                        [caustic photon map] and a one-sample Monte Carlo estimator of the 
                            incoming radiance exploiting the [global photon map]
                qq what is a photon filter? 
                    a photon filter can filter out photons with very different normals.
                qq Radiance Estimation? draw a graph to illustrate op11
                    reflected radiance
                qq how can we estimate radiance in photon mapping?? op11 
                    simplest approach and others 
                qq describe the process of Photon Emission op12 
                    > how can we compute photon power??
                    > location and direction of each photon emitted? 
                qq does each photon distributes the complete light into the scene?
                qq illu. the radiance estimate process with a graph
                qq why normalize??  op13
                qq how can we support several light sources?? op13 
                    > compute total light emitted from the light source, photon power in this case!
                    sampling of a light source index
                    to support several light sources
                qq what is pixel estimates in PM? 
                qq how can we sample reflected direction?? 
                    > how can we update the power of each photon after reflaction??  op14 
                if surface BRDF has diffuse  or glossy part, store photon  in photon map
                terminate if Russian Roulette  with success probability ?? fails
                sample reflected direction  ????  ′ with pdf ????′ . according to  BRDF ?? and recurs wit
                qq describe Photon Tracing process (part of algorithm, detail view) op14
                with the information necessary for later radiance estimates
                photons are stored in a list 
                some optimizations need storage of surface normal,  previous photon on light path, light source index, and  flags
                Photon Storage
                qq what kind info. is stored in photon stru.?? op15 basic terms x3 
                    position
                    power, cosine weighted power
                    incoming direction
                qq how to accelerate the collection of photons
                    kd-tree can be built in inplace to 
                        avoid storage of child pointers 
                    &p pp what does it mean????
                    proved most simple and flexible over surface subdivision or texture maps
                Jensen proposes in 1996 (Global illumination using photon maps) 
                qq what is cone filter ? why use it??
                    in radiance estimate
                    in collecting process 
                http://graphics.ucsd.edu/~henrik/papers/photon_map/
                tt must read
                Illumination splitting 
                based on BRDF 
                incoming radiance
                direct light sampling
                caustic  photon map 
                Approximations
                Different Approximations
                qq which Different Approximations can be used in rendering pass 
                    > of photon mapping?? op17
                    direct light sampling 
                    Monte-Carlo Ray Tracing with multiple importance sampling
                    make use of caustic photon map 
                    make use of global photon map 
                qq which Two Photon Maps?? diff? 
                    caustic: 
                        terminate paths at diffuse or  glossy surface
                        define pdf for directions such that  specular objects 
                            have very high probability
                        *large number of photons needed 
                    global
                        *fewer photon density needed 
                        *support for very long paths 
                        *do not store first diffuse surface  hit photon 
                            as accounted for by  direct light sampling 
                            and caustic  photon map
                qq why do not store first diffuse
                    their are dealed with by caustic photon map, redundent, variance! 
                qq compare those two photon maps: 
                    > caustic photon map and global photon map! the diff.??
                qq why we need caustic photon map?? 
                    emit more photons and thus to get a lower variance! 
                qq why not store first diffuse in global photon??
                    should sample diff. ray path to decrease variance 
                qq how can we do importance sampling in both cases? 
                    > caustic photon mapping and global photon mapping?? ! 
                qq when we terminate paths in both maps? 
                    diffuse or glossy surfaces 
                    by russian r, RR 
                qq Photon Mapping Discussion, advantages of photon mapping x4x1
                    +allows to find light paths to find LSDSE paths, 
                        which  are [hard to solve for BPT]
                    +cached paths can be [reused] better computation 
                    +simple to be generalized to [volumetric effects]
                    +[additional optimization] potential
                        shadow photons
                        use photon map for importance  sampling 
                    -density estimation  introduces bias
                qq pro cons for photon mapping when compared to bpt
                1996 Jensen: Global illumination  using photon maps
                tt must read
                hh 
                    Photon Mapping GI Engine 光子贴图GI引擎
                    Irradiance Cache GI Engine 辐射缓存GI引擎
                    GI（Global Illumination）全局照明模式就是尝试模拟这种光子反弹式的物理照明过程
                    这种光子模拟过程为渲染增加了真实感，帮助数字艺术家得到更为生动、真实的画面。
                    GI也可以营造出极高质量的效果。
                    当光子碰撞到一个粗糙的表面，它就会被 随机地向各个方向散射出去，
                        这就是所谓的Diffuse Global Illumination(漫反射全局照明)
                    当光子击中一个强烈反射或者折射的表面（如镜面或者玻璃），
                    https://pic2.zhimg.com/80/v2-2e2c27b5acbb305dc191f0b0f9dea799_1440w.jpg
                    In Redshift, all of these techniques are called “GI Engines”
                    Each GI Engine has its pros and cons. 
                    为什么要有分别独立的Primary和Secondary的GI引擎呢？
                        Primary GI 的效果对于相机是直接可见的，
                        所以需要尽可能地提高渲染品质级别。另一方面，
                        Secondary GI照明往往对最终光影影响很小，
                        所以可以用稍低的质量（可以想像成“虚化”或者“噪点”）而不会影响最终渲染质量。
                    For reasonable numbers of photons, it renders fast
                    唯一可以渲染Caustic(焦散)效果的方式。
                    *Photon mapping is an outdated technique
                    Photons have to be stored in GPU memory so 
                        too many photons can be prohibitive in terms of memory usage
                    有一些光子会最终因处于摄像机外面不可见，所以系统计算处理
                        他们花的时间以及存储它们都会是一种成的浪费
                    除非在每个像素上都使用大量采样射线，否则会产生颗粒感的图像
                ---inversed PM  
                qq the computation time of PM? Inversed PM?? 
                    see pic notes for answer 
                qq the computational demand for both cases?? 
                    in high quality GI there are  many more final gathering rays 
                        needed than photon
                    A speedup of a factor up to 6 can be  achieved by 
                        first tracing eye paths to  diffuse or glossy 
                        surfaces and storing  them as so called reverse photons:
                    see pic notes for answer 
                qq the idea of reverse photon mapping?
                    the fact is that more final gathering rays needed than photons
                    use reverse photons to acc. the rendering process up to factor 6 
                qq reverse photon mapping algo? x4
                    eye pass
                        for each pixel [generate eye paths] and store reverse photons
                            build kd tree 
                    light pass  
                        [generate photons ]
                        [density estimation ]
                        [radiance estimation], distribute energy to reverse photons 
                3 nearest neighbor photons define density  
                    estimation radius in forward photon mapping
                qq how to estimate photon influence radii in reversed pm?? op23
                    first distributing all photons
                    Photons are iterated again
                qq how can we measure the influences of reverse photons?? 
                qq the complexity for this? 
                &h see pic 
                tt must read
                    Havran et al., Fast final gathering via reverse photon mapping, 2005 
                    Fast final gathering via reverse photon mapping, 2005 
                    where reverse photon mapping achieved speedups of factors up to 6
                qq Pseudocode of the inversed photon mapping algorithm op24
                hh
                    一开始出现的是Photon Mapping，后来有了Progressive Photon Mapping，
                        后来才有了Stochastic Progressive Photon Mapping。
                    SPPM是PPM的改版（或者说“升级版”）。SPPM的优势是没有内存的限制。
                    能轻易捕捉到各种光照效果(比如Monte Carlo ray tracing不易捕捉到的SDS路径)
                    这主要表现为灰暗的墙角，错误的颜色辉映以及漏光等现象。
                    photon ray gathering，需要建立复杂的数据结构比如ray map。
                    紧接着，在07年由Herzog等人提出了photon ray splatting以代替photon ray gathering
                    该方法将整个光子映射算法流程倒了过来，即先进行eye tracing,再进行photon tracing。
                    这种由于密度估计范围r的不趋于零而存在的一种偏差，要解决这一问题，就必须想办法将光子数量扩大到无穷大
                    实际上，借用photon ray splatting中倒转光子映射算法流程的思想，可以破除光子映射中内存的限制，原因很简单，因为屏幕像素有限，所以要存下eye sample到内存是很轻松的事情
                    那么光子图根本就不需要存储，这样要多少光子就可以发射多少光子。
                    08年，由Hachisuka等人提出了渐进式光子映射(Progressive Photon Mapping)
                    通过第一步将eye sample组织成一个kd-tree结构，而后一轮轮地发射光子，每一轮将r减小一次，每一轮渲染一张图片。
                    由于倒转了PM算法的步骤顺序，PPM算法的光子搜集方法又从KNN变回到了直方图估计
                    但是由于PPM算法本身已经没有了光子数量的限制，所以这点劣势很容易以大量的光子数量扳回
                    有了PPM，我们甚至可以不需要final gathering，因为final gathering本身也极其耗时，且不能消除偏差
                    如果是像反走样这样简单的活还可以依靠在eye sample kd-tree中存下每个像素点的所有超采样点来完成的话，那么要模拟反射模糊，景深，运动模糊就更麻烦了
                    要模拟反射模糊，景深，运动模糊就更麻烦了
                    09年，还是Hachisuka，在PPM算法稍作改进，提出了SPPM(Stochastic Progressive Photon Mapping)，该算法与PPM不同之处在于，在每一轮光子发射完毕后重新进行一次eye tracing
                    并且每次eye tracing都带上一个随机的扰动，让每次构建的eye sample kd-tree中的数据都不一样，下图展示了这两个算法的区别：
                    这样做使得SPPM效率上略低于PPM，但是换来的是更加健壮和灵活，实际上SPPM在处理gloss反射的时候效果远好于PPM
                    11年Claude Knaus等人就证明了这种方式和PPM算法具有同样的鲁棒性，由于和标准PM算法的极其相似，所以之前在标准PM算法中可用的扩展
                    正向跟踪和逆向跟踪两种思想
                    两个方向相互对称，而它们每个都具有另一个所没有的优点，bidirectional pathtracing连接了正向与逆向两个路径
                    photon mapping同样利用了正向与逆向两个方向的信息，不仅如此，它还重用了信息(光子图)，所以一般情况下能比bidirectional pathtracing收敛更快
                    从古老的正向跟踪算法Monte Carlo Light Tracing中，可以看到正向跟踪普遍存在的问题，当场景空间很大，但是能被视点看到的部分却很小的时候，会有大量的采样点对最终图像额颜色值贡献很小甚至毫无贡献
                    受到Metropolis light transport的启发，Fan Shaohua等人于05年将Metropolis准则引入了PM算法中的photon tracing中
                    11年，Chen jiating等人在SPPM基础上加入Metropolis准则，同样提高了SPPM在这类场景的收敛速率。
                    In limit for infinitely many photons and zero KDE radius  method becomes unbiased
                    Such convergent methods  are called consistent
                    Photon mapping (PM) is biased
                ---
                qq why Photon mapping (PM) is biased?? 
                qq what is KDE?? why can introduce bias in PM 
                qq PM is not a convergent method??
                qq the idea of PPM? Progressive Photon Mapping 
                    iterates PM with  
                        [decreasing density estimation radius] such that error  
                        converges to zero in limit
                qq which three important PPM approaches are there? 
                    2008 Hachisuka: Progressive Photon Mapping (PPM) 
                    2009 Hachisuka: Stochastic PPM (SPPM)
                    2011 Knaus: PPM - A Probabilistic Approach (probPPM
                qq such three methods have the same radius update? op28 
                    with  decreasing density estimation radius
                        error  converges to zero in limit 
                qq How to store KDE radius that can be updated per iteration??
                    stored per reverse photon
                        user adjustable fraction
                qq How to combine the results of photon mapping iterations?? op29 
                    divide summed pixel contributions by 𝑖 ⋅ 𝑀
                        M is the number of photons generated in current iteration 
                qq how can we reduce low frequency noise in realistic rendering? 
                // Holoportation: Virtual 3D Teleportation in Real-time
                hh 
                    use reverse photons to  store KDE radius
                    reverse photons
                    store KDE radius
                    update KDE radii 
                    update KDE radi
                    per photon estimate influence radius from KDE radius of 
                        closest  reverse photons
                    add photon contribution to accumulated  radiances in influenced photons
                    *ppm introduces lower variance 
                    reverse photons
                qq does ppm use reverse photons?? y
                the same rendering time
                tt must read 
                    https://www.ci.i.u-tokyo.ac.jp/~hachisuka/ppm.pdf
                    https://cg.ivd.kit.edu/publications/p2012/APPM_Kaplanyan_2012/APPM_Kaplanyan_2012.pdf
                qq draw a graph to illu. the PPM algorithm 
                qq draw a graph to show SPPM algorithm
                qq the diff. bet. PPM and SPPM?? number of passes can be written as an equ.? 
                    a complicated updating pass 
                    [distributed ray tracing pass]
                    ori:
                        ray tracing pass + n * photon tracing pass 
                    sppm: 
                        ray tracing pass + n * (photon tracing pass + distributed ray tracing pass)
                qq what is randomly gen. hit point? how it affects the rendering result?? 
                    lower RMS error 
                qq in what kind of scene is best suitable for SPPM??
                    gloss反射
                qq the pipeline for each method -re 
                qq hwo can we measure rendering quality?? use 
                    relative error metric
                tt must read !!!
                    https://www.ci.i.u-tokyo.ac.jp/~hachisuka/sppm.pdf
                qq year of SPPM, ProbPPM? 
                    2009, 2011 
                ---
                Progressive Photon Mapping: A Probabilistic Approach
                https://www.cs.umd.edu/~zwicker/publications/PPMProbabilistic-TOG11.pdf
                tt must read
                qq major new contribution of probPPM? 
                    *based on a probabilistic derivation
                        a new formulation of progressive photon mapping
                        proof of consistency (convergence) 
                    *allows for arbitrary kernels
                        without local photon statictics
                hh
                    幸而在08年提出的Progressive Photon Mapping将这个空间无限的要求剔除，
                        其核心思想是颠倒了光子发射和光线跟踪计算的顺序，逐步求精计算结果
                    Finally, our approach is readily applicable to volumetric photon mapping
                    We compare our algorithm to previous progressive  
                        photon mapping approaches and show that we 
                        achieve the same convergence to unbiased results, 
                        even without local photon statistics.
                    https://www.cs.umd.edu/~zwicker/publications/PPMProbabilistic-TOG11.pdf
                    We fixed the initial radius globally
                    using a box kernel (top row)  and a Gaussian kernel (bottom row).
                    numerically approximate solutions of the rendering equation [Kajiya 1986].
                    at equal computational cost, it can often produce images with less noise than other Monte Carlo algorithms
                    the expected  error of any approximation with a limited number of samples is  non-zero.
                    biased
                    The reason for the computational efficiency of photon mapping is  that it caches and reuses Monte Carlo samples.
                    This approximation, however, acts similarly to a low-pass  filter on the cached samples.
                    It always returns an overly smooth  approximation of the true radiance, and hence causes the non-zero  expected error, or bias, of the solution.
                    This bias only vanishes in  theory, if it were possible to cache an infinite number of photons.
                    a simple strategy that breaks this memory bottleneck. 
                    They incrementally update a sequence of photon mapping  results,
                    where each step in the sequence uses a limited number of  photons.
                    The key is to reduce the radius such that, in  the limit, the incremental updates converge to an exact, unbiased  solution of the rendering equation
                    The statistics include for example the  number of photons collected in the region
                    the regions are generalized to  render effects such as glossy reflections or depth of field.
                    we introduce a probabilistic derivation of progressive photon mapping
                    The key property of our approach is that it  does not require the maintenance of local statistics.
                    memoryless progressive photon mapping
                    As a benefit, we can  compute each step in parallel or with a standard photon mapper  used as a black box
                    a standard photon mapper  used as a black box
                    allows for arbitrary  kernels in the radiance estimate
                    we demonstrate that it is readily applicable to volumetric photon  mapping
                    we achieve the same convergence to unbiased results,  even without local statistics.
                    In summary, we make the following contributions:
                    a memoryless algorithm that does not require the maintenance  of statistics,
                    and is trivial to extend to  volumetric photon mapping.
                    Volumetric Progressive Photon Mapping. One of the main advantages of our derivation is that its extension to volumetric progressive photon mapping is trivial
                qq the idea of probPPM -re
                qq what is the main contribution of it?? probPPM! -re 
                    globally const or per pixel  KDE radius 
                    &h donnot  use local statictics any more and can be easily adapted to volumetric case
                    . There  is no need to store local statistics
                    The iterations of the main loop are independent and can be performed in parallel. 
                    all pixels 
                    box kerne
                    The Gaussian  kernel leads to slightly smoother results with similar bias.
                    In other words, our approach includes the stochastic PPM  scenario
                    using a conventional photon mapper used as a black box. 
                    ProbPPM Comparison of Kernels
                    &p hard to fully understand, we have to read PPM first! PPM->SPPM->probPPM
                    *main contribution of probPPM is parallel
                ---VERTEX CONNECTION AND  MERGING (VCM)
                qq idea of Vertex Connection and Merging x2
                    combines stochastic PPM with bidirectional path tracing  
                        such that advantages of both methods are exploited
                            -- SPPM + BPT
                    first PPM is reformulated in formalism of BPT and then  
                        integrated via multiple importance sampling -- MIS
                *https://cgg.mff.cuni.cz/~jaroslav/papers/2012-vcm/2012-vcm-paper.pdf
                    tt must read !!
                    while PPM has difficulties in handling the illumination coming 
                        from the room seen in the mirror
                    stochastic PPM
                    bidirectional path tracing 
                    BPT ? vertex Connection (VC) 
                    PM ? Vertex Merging (VM)
                    vertex Connection
                    vcm is a reformulation of photon mapping as a bidirectional path sampling technique
                    *The benefit of our new formulation is twofold
                    *BPT is one of the most versatile light transport algorithms.
                    not efficient for transport
                        paths with specular-diffuse-specular (SDS) configurations 
                    widely acknowledged that BPT is not efficient
                    paths with specular-diffuse-specular (SDS) configurations
                    an interior of a car or a building
                    sample SDS paths with low probability density
                    which may even go  to zero if point light sources and pinhole cameras are allowed
                    the problem of insufficient techniques
                    Efficient handling of SDS paths
                    Our new VCM algorithm automatically  
                    computes a good mixture of sampling techniques from BPT 
                        and PPM to robustly capture the entire illumination in the scene
                    The rightmost column 
                    shows the relative contributions of the BPT and PPM techniques to the VCM image in false color. 
                    BPT [Veach and Guibas 1997] and PM/PPM [Fan et al. 2005;  
                    Hachisuka and Jensen 2011].
                    has long been demonstrated with photon mapping (PM)
                    A progressive variant has recently drawn attention with its ability to converge  with a bounded memory footprint
                    Moreover, an adaptation of these heuristics to glossy reflectance is not obvious
                    //only be replicated using an anisotropic model.
                    http://resources.mpi-inf.mpg.de/departments/d4/teaching/ws200708/cg/slides/CG07-Brdf+Texture.pdf

                qq the MIS formulation of VC and VM 
                &h many ways exits when computing a ray path from 
                    > light to eye!!! so use MIS in between!
                ---REAL-TIME PM
                    https://dl.acm.org/doi/pdf/10.1145/1572769.1572783
                    tt must read
                    http://graphics.ucsd.edu/~henrik/papers/fur_bssrdf.pdf
                    tt must read
                qq bsdf = ? + ? 
                    BSDF是普遍意义上的说法，反映光入射与出射的强度对应关系。
                    可以通过BxDF以及入射，出射角度计算光的强度
                    BSDF可以认为包含了BRDF和BTDF，BRDF是反射而BTDF是透射
                    BSDF = BRDF+BTDF，
                        下图直观上描述了BSDF,BRDF的意义以及二者关系
                    https://pic3.zhimg.com/80/8c60f94b8b6f430fc5dcb41068770454_1440w.jpg
                    BRDF
                qq what is the parameter of brdf?
                qq what is the diff. bet. brdf and btdf? 
        ---ql pruf-official--with answer 
            //you should be able to explain a [given] rendering/ dynamic equation
            <> Explain algorithmic techniques
                qq path, light and bidirectional path tracing x4 + x4 + x2
                    path tracing samples paths from the eye, 
                        and connects them to the light by [direct light sampling] 
                            after [Russian Roulette] terminated a path
                        //
                            sample, tracing/ the ray bounces around the scene, connect 
                            [light path in improtant  
                    light tracing samples paths from the [light sources] 
                        and connects them to the eye by [direct eye sampling]
                            after [Russian Roulette] terminated a path
                    BPT connects light and path tracing by [generating one path in each direction] 
                        and [interconnecting them]
                        //
                            generate, interconnect

                    +++
                    path tracing:
                    [the ray path] generated from the eye, 
                        bounces around the scene, 
                            terminates with RR, 
                                perform direct light sampling 
                    light tracing:
                    the ray path generated from the light, 
                        bounces around the scene, 
                            terminates with RR, 
                                perform direct eye sampling 
                    bpt: 
                    generating one path in each direction, 
                        interconnect them in the middle 
                qq idea of multiple importance sampling according to brdf and L_in x2 
                    pic 
                qq what is MIS? +igen 
                    it will be used when [several sampling strategies] are available, 
                        it  [weights] the strategies to minimize overall variance 
                qq idea of multiple importance sampling in BPT
                    several sampling strategies exists for a given ray length, 
                        we can combine them to reduce the bias  
                qq direct and indirect light sampling
                    directly illuminated part, [no reflection on ray path ]
                qq final gathering x2
                    used in the cache based rendering technique, 
                        we [cache] results from one method, the same calculations can be reused several times by a second method. 
                    the second method is called final gathering 
                    //
                    the process of collecting photons 
                qq photon mapping x4
                    simpler: 
                        [generate] large number of photon from light source,
                        [trace] them trough the scene
                        [store] photons on diffuse or glossy surfaces
                        reflected radiance can be [estimated] with help of closeby photons
                qq reverse photon mapping x4
                    eye pass
                        for each pixel [generate eye paths] and store reverse photons
                            build kd tree 
                    light pass  
                        [generate photons ]
                        [density estimation ]
                        [radiance estimation], distribute energy to reverse photons 
                qq progressive photon mapping x1
                    iterates PM with [decreasing density estimation radius] 
                        such that error converges to zero in limit
                qq vertex merging 
                    combines stochastic PPM with bidirectional path tracing  
                        such that advantages of both methods are exploited
                        (SPPM abd BPT)
                        + with help of MIS 
                    vertex connecting and merging 
                qq general idea of gamma-ton tracing x3
                    g.can be seen as an extend to photon tracing 
                        simulate Weathering with particles 
                    1.gammaton [shooting] 
                        emit from the outer hemisphere of the scene
                            Each particle stores weathering information 
                        Each particle is assigned propabilities for being one of 4 states 
                    2.[propergation] 
                        follow physical and other laws
                        surfaces are sampled into point clouds
                        When particle collides with surface, the movement probabilities 
                            change according to surface reflectance
                    3.perform [Gamma-transport] until final [equilibrium/ until Settlement]
                qq idea behind boids
                    1.[Extend] particles with orientation and 3D modell
                    2.can be [used to] model Flock of Birds, Herds, Schools
                qq how to simulate a piece of cloth with a particle system?
                    visually: use a rectangular grid with vertices
                    forces: simulated by springs, internal forces  
                qq Why do stiff springs cause problems?
                    if spring constant is chosen too small for easier integration, 
                        there will be a super elastic effect 
                    two solution strategies exists 
                qq How to model hysteresis in cloth simulation? x2 
                    1.add friction forces that depend on 
                        stretching, shearing and bending velocities
                    2.Kelvin-Voigt-Spring, damping effect 
                qq How can one avoid collisions in a rigid body simulator?
                    additional de-penetration inpulse, force 
                qq What is contact point and what kind of non-degenerate contacts exist for polygonal meshes?
                    > 2 non-degenerated contact types?
                        vertex-face
                        edge-edge 
                    > degenerated cases 
                        Vertex-vertex, vertex-edge and edge-edge (id)
                            less likely occour case 
                        Edge-face and face-face
                            extended contacts
                    :less likely to happen and special care should be taken 
            <> Explain math
                qq integration over solid angle
                    pic
                qq Monte Carlo (MC) estimation of integral
                    pic 
                qq variance, bias
                    a property to an estimator, in statistics
                        can be measured by [standard deviation]
                qq why do we need variance in solving rendering equ.? + igen
                    1.to solve rendering equ., we have to solve multi-dimensional nested integrals
                    2.MC technique cast integration as [expected value problem], by gen. samples
                    thus, lower variance means better approximation
                qq when is MC better than Rieman Integration?
                    evaluating multidimensional, infinite dimensional integral
                qq MC estimation of reflection integral
                    pic
                qq idea of importance sampling
                    choose px proportional to fx
                        a technique to refuce variance 
                qq Russian Roulette
                    terminates the traversal of a ray with a probability 
                        (decreases when ray travels in the scene)
                qq Nusselt’s analogon
                    the cosine weighted solid angle corresponds to its projection onto the unit disk
                    such we can perform importance sampling of the cosine term
                qq uniform, rejection, N-rooks, transformation sampling
                    +toread a branch of sampling theory
                    uniform: randomly choose a value within a given range 
                    rejection: reject samples that not expected 
                        rejection test 
                    N-rooks: stratified grid sampling with random shuffle
                        1.n samples are placed in an n x n grid
                        2.there is a single sample, or rook, in each row and each column.
                        //
                        step1: Randomly place one sample in each cell [along the main diagonal] of the grid
                        step2: Randomly shuffle
                        benefits in high dimention, covers each dimension much better.
                    transformation sampling: sampling uniformly and then transformed to arbitrary shape
                qq What parts of the reflection integral in directional form can be importance sampled?
                    brdf and L_in and cosin term x3 
                qq what is a differential equation? + igen
                    a relation between a function in one or several variables and the [partial] derivatives of it 
                qq ordinary and partial differential equations
                    In case of a single variable, ODE 
                    if derivatives of several variables arise, PDE
                qq give some examples of ODE and PDEs? 
                    ode: oscillator with frictions
                    pde: Wave Eq., Maxwell Eg
                qq reduction to order one system of ODEs, order reduction in phy? 
                    pic
                qq explicit, implicit, symplectic Euler
                    pic 
                qq what is time evoluiton funciton? 
                    can be derived from equ. of motion, used to compute state of the system in an arbitry time t
                    fully describe the state of the system 
                    function describe the state of the system when time evolves 
                    systems with internal state (also called stateful systems). 
                qq A-stabel
                    iff generated approximations converge to 0 for any step width and arbitrary long time 
                qq what means stiff for a DE? 
                    explicit methods do not always converge. 
                qq general idea behind step width adaptation
                    comparing to two steps with half stepwidth, threadhold method, larger than toleranz... 
                        re-estimate h with a funciton 
                qq how to find the best integrator for a given problem?
                    depends on application, how fast are expected to run, real time application?
                qq what is numerical dissipation and how does it influence numerical methods for solving incompressible
                    > Navier Stokes equations?
                    Numerical simulation typically makes errors
                    it is a kind of problem arises in numerical computing, energy will be reduced in the system 
                    disolves vortices too fast
                qq what is the splitting trick when solving ODEs?
                    split a differential equation in diff. parts, update varibles Sequentially 
                    exploits intermediate varibles 
                    pic 
                    +integrate diff. parts saparately
                qq how can the advection step be approached in a semi-Lagragian manner? x3 
                    solve “the advection equation” for any grid quantity 𝑞 
                    use the Lagrangian notion of advection directly to compute 
                    interpolate from nearby grid points to get the result 
                    +++
                    solve “the advection equation” for any grid quantity 𝑞 
                    trace with Lagrangian notion 
                    compute q(x_old) with interpolation from nearby grids 
                qq how does the pressure update work for incompressible fluids?
                    an additional divergence constraint to ensure the incompressiblility 
                    pic 
                    star means intermediate varibles !
                qq what are the different boundary conditions used in fluid simulation? 
                    x3 
                    fluid-fluid boundaries 
                    fluid solid boundaries
                    fluid air/ free space boundaries
                    “ghost” solid pressure
                qq how do we interpolate attributes in SPH simulation?
                    cubic kernel function or quintic spline
                    for theory Gaussian is best, not used in practice due to infinite support
            <> Explain physics
                qq unit, idea of non-dimensionalization
                    SI units 
                    non-dimensionalization
                        1.partial [removal] of [physical dimensions] from an equation
                            suitable [substitution of variables].
                        2.[simplify] and parameterize problems where 
                            measured units are involved
                        3.These units refer to quantities intrinsic to the system, 
                            rather than units such as SI units
                qq Noether's theorem
                    Any differentiable symmetry of the [action] of a physical
                        system has a corresponding conservation law
                    high lev understanding of the phy. system 
                qq radiometry: energy, power, radiosity and irradiance, radiance (incoming vs outgoing), brdf, albedo(Diffuse BDRF),
                    > potential, spectral quantities
                    power in area A, power per area and solid angle 
                    brdf: defines how light is reflected at an opaque surface
                        It is employed in the optics of real-world light
                    Diffuse BDRF: given incoming direction, integrate over all outgoing direction 
                qq rendering equation in directional, area formulation and operator form, light path regular expressions
                    pic 
                qq geometry factor and visibility
                    pic explain it! 
                qq emitted radiance of light source, sensor efficiency and measurement equation
                    what is W here? spectral efficiency
                qq brdf properties: Helmholtz reciprocity, energy conservation
                    pic write them down 
                qq how to make Phong and Blinn-Phong brdfs physically plausible?
                    apply those two physically plausible conditions: Helmholtz Reciprocity and 
                        energy conservation to the calssical model 
                    make the terms symmetric, skip the denominator terms
                qq explain microfacette models on a coarse level, what are the individual parts?
                    x3 The BRDF results from
                        Distribution of the orientation of the microfacets
                        Properties of Planar Reflection
                        Self-occlusion and self-shadowing
                    microfacets modeled as planar reflectors
                qq what do the Fresnel coefficients describe?
                    reflection on micro facets
                    describe the reflection and transmission of light 
                        (or electromagnetic radiation in general) 
                        when incident on an interface between different optical media.
                    +toread Metal Fresnel Term Approximations
                qq what is an anisotropic brdf, what an isotropic?
                    when the incoming direction changes, outgoing direction varies  pp 
                    brushed metal
                    Most materials are isotropic
                qq how to measure a brdf?
                    [measures reflectance] for [combinations] of sensor omega_out and light source omega_in 
                    Helmholtz reciprocity and isotropy of BRDF help to reduce samples needed 
                    one can move sensor or rotate sample
                qq how to represent a measured brdf efficiently?
                    with two dots on a hemi-sphere drawn from above with the normal direction in the center
                qq What is a bssrdf?
                    Subsurface Scattering inside of material is considered 
                    BSSRDF much more natural [light distribution] on given object 
                qq quantities: mass, acceleration, momentum, (conservative) force.  energy (kinetic, potential)
                    pic 
                qq what different forces do you know? x4 x2 
                    Contact force:
                        Frictional Force, Tension Force, Spring force, Resistance Force (viscosity)
                    Action-at-a-distance forces:
                        Gravitational Force, Magnetic Force, Electrical Force
                qq inertia moment, inertia tensor, vector representation of angular velocity, 
                    > angular acceleration, torque,
                    > rotational kinetic energy
                    derivative from time to time
                    pic 
                qq the idea of the Sequential impulse loop/ algorithm + igen, iwrote
                    1.compute list of contact points 
                    // the v-p-v approach
                    2.compute relative [velocities]
                    3.iteratively apply impulses with constrains (impulse accumulation)
                        and add de-penetration bias velocity
                    4.update linear [velocities and angular velocities]
                qq how can pose of rigid body be described
                    pic 
                    position, orientation, linear and angular momentum
                qq how does pose evolve over time without friction?
                    pic 
                    time evolution funciton 
                qq how does orientation change in dependence of angular velocity?
                    the same, above, time evolution funciton 
                qq how do forces applied to a point on a rigid body act on its linear and angular velocities?
                    forces can be transfered to impulses (with direction information), 
                    and thus can be used to update linear and angular velocity 
                qq what is a “Kraftstoß” and how does it help to compute the change in momentum during a rigid body simulation 
                    Impulsänderung
                    Jeder Kraftstoß ist mit einer Impulsänderung verbunden
                    Der Kraftstoß auf einen Körper ist gleich der Änderung seines Impulses.
                    it is the change of impulse, can be used to update velocities, momentums 
                qq what are kinetic and dynamic viscosity?
                    dynamic viscosity gives force instead of acceleration(kinetic viscosity) 
                    they are used in diff. equ. : momentum equ. and force equ.
                qq what are incompressible fluids?
                    incompressible condition 
                    pic 
                    divergence of u is zero. u is velocity with components u,v,w 
                    divergence depends only on spatial derivatives 
        ---+ql picture notes! 
        ---story mode 
            ---
            cg3 
                rendering equ./ ray simulation/ ray tracing/ particle tracing 
                    // derive equ.
                        derive: phy view
                            operator form, nested integral form, directional, area formulation, light path regular expressions
                                geometry factor and visibility
                            radiance computing: emitted radiance of light source, sensor efficiency and measurement equation
                            how to make Phong and Blinn-Phong brdfs physically plausible? derive a new equ follow phy rules 
                            explain microfacette models on a coarse level, what are the individual parts? more realistic brdf!
                            what do the Fresnel coefficients describe?
                            brdf properties: Helmholtz reciprocity, energy conservation
                        evaluate:  math view 
                            MC method, other integrator? 
                            formula in MC method? why should we use MC integrator? 
                            reduce variance? MIS 
                            integration over solid angle
                            variance, bias, why do we need variance in solving rendering equ.?
                            MC estimation of reflection integral
                            Nusselt’s analogon
                            uniform, rejection, N-rooks, transformation sampling
                            what is an anisotropic brdf, what an isotropic?
                            how to measure a brdf?
                            how to represent a measured brdf efficiently?
                            what is a bssrdf?
                    // inteprete above equ. in codes
                        sample the rays: coder view/ geo. view 
                            basic: 
                                path, light and bidirectional path tracing 
                            cache-based method: 
                                final gathering, photon mapping, reverse photon mapping, ppm, vcm, sppm, probPPM
                        particle tracing 
                            gamma-ton tracing, boids
                        +tracing other quantities 
                differental equ./ ode, pde, physical simulation 
                    essential 
                        // solving DE
                            what is a differential equation?
                            ordinary and partial differential equations
                            explicit, implicit, symplectic Euler
                            what is time evoluiton funciton? 
                            A-stabel
                            what means stiff for a DE? 
                            general idea behind step width adaptation
                            how to find the best integrator for a given problem?
                        // quantities
                            unit, idea of non-dimensionalization
                            Noether theorem
                            radiometry: energy, power, radiosity and irradiance, radiance
                            quantities: mass, acceleration, momentum, (conservative) force.  energy (kinetic, potential)
                            what forces do you know? 
                            inertia moment, inertia tensor, vector representation of angular velocity,
                                > angular acceleration, torque,
                                > rotational kinetic energy
                    rbody simualtion 
                        // derive equ.
                            the simulation loop! 
                            the idea of the Sequential impulse loop/ algorithm + igen, iwrote
                        // inteprete
                            // diff. parts of the equ./ algo:
                                how can pose of rigid body be described
                                how does pose evolve over time without friction?
                                how does orientation change in dependence of angular velocity?
                                what is a “Kraftstoß” and how does it help to compute the change in momentum during a rigid body simulation 
                                avoid collisions in a rigid body simulator?
                        // addi. simulation requirements
                            contact point and what kind of non-degenerate contacts exist?
                                handle them better! 
                    fluid simulation
                        // derive
                            what are incompressible fluids?
                            the idea, the simualtion loop? derive the simulation equ.
                            what are kinetic and dynamic viscosity?
                            splitting trick when solving ODEs
                        // inteprete
                            // diff. parts of the simulation equ./ algo.
                                how can the advection step be approached in a semi-Lagragian manner?
                                how does the pressure update work for incompressible fluids?
                        // addi. simulation requirements
                            how do we interpolate attributes in SPH simulation?
                            what are the different boundary conditions used in fluid simulation?
                            what is numerical dissipation and how does it influence numerical methods for solving incompressible
                                Navier Stokes equations?
                    cloth simulation
                        // derive 
                            the idea, the simualtion loop? 
                            how to model a piece of cloth
                        // inteprete
                            // addi. simulation requirements
                                stiff spring? hysteresis?
            ---
            cg3 (山川河流人物光线)
                essential
                rbody sim 
                fliud sim 
                cloth sim 
                ray sim 
    ---summ. active mode 
        idea, hlev understanding 
            take away knowledge:
                lev4* computational methods  
                lev3 improve *speed and *accuracy!
                lev2* choose the right method, compare them 
                lev1* detail, explain 
            about my oomi framework 
                geometry oomi
                    optimization  
                dynamic oomi
                    optimization  
                simulation oomi 
                        computational (lower level, components of opti.)
    ---problems 
        is VR = high frame rate rendering ？
        what is V meaning ? s2p15.... p16
        why not M p18 
        why 2+2+2.... s3p5 
        s2p10 should be x'? 
        err? s3p5 2*(2+2+2...)
        potential 的计算，为啥和radiance一样麻烦？p19 
        sample的过程？ 有一定pdf函数？ 完全随机？ 
        not understood p26 
    ---extended, from tt slides ref papers  
        // papers
            // essential 
                http://physbam.stanford.edu/~fedkiw/papers/cam2000-08.pdf
                http://physbam.stanford.edu/~fedkiw/papers/stanford2004-07.pdf
                http://www.cs.cornell.edu/~dph/papers/dt.pdf
                http://web.stanford.edu/class/cs277/resources/papers/Moller1997b.pdf
            // other mixed
                Online Optical Marker-based Hand Tracking with Deep Labels
                    https://dl.acm.org/doi/pdf/10.1145/3197517.3201399
                Singularity-Robust Inverse
                    Kinematics Using Lagrange
                    Multiplier for Redundant
                    Manipulators
                    https://pdfs.semanticscholar.org/815c/f5781791ea6e8ecfef42a5252f12455f9cbb.pdf
            // rbody sim 
                https://www.cs.cmu.edu/~baraff/papers/sig89.pdf
                https://animation.rwth-aachen.de/media/papers/2012-EG-STAR_Rigid_Body_Dynamics.pdf
                http://www.roboticsproceedings.org/rss04/p12.pdf
                http://blog.mmacklin.com/project/flex
                A Numerically Robust LCP Solver for Simulating Articulated Rigid Bodies in Contact
                    http://www.roboticsproceedings.org/rss04/p12.pdf
                    numerically robust algorithm  for solving linear complementarity problems (LCPs)
                    articulated rigid bodies
                    Constraint-based approaches often employ linear complementarity problem (LCP)
                    Most models can  be categorized into penalty- and constraint-based methods
                    Modeling collisions and contacts
                    contact forces are easily computed from penetration depths  and relative velocities
                    the approach suffers from numerical  instability problem due to impulsive forces
                    linear complementarity problem (LCP) [1] to formulate the constraints.
                    LCPs can be solved by either iterative or pivot-based  approach
                    numerical root-finding  techniques such as Newton’s method to find the equilibrium.
                    Pivot-based approaches are theoretically  guaranteed to find a solution with finite number of trials
                    for general problems
                    However, it is known  that pivot-based approaches often suffer from numerical problem especially for large-scale and/or ill-conditioned problems
                    Jourdan et al. [4] applied an iterative  LCP solver similar to Gauss-Seidel algorithm
                    proved convergence in most  practical cases.
                    free rigid bodies,  in which case M is generally sparse and the LCP is likely  to be relatively easily solved by both iterative and pivot-based  approaches
                    iterative methods do not guarantee convergence to a  solution
                    The main contribution of this paper is improvement of  Lemke Algorithm to deal with large-scale and ill-conditioned  LCPs derived from frictional contacts between articulated  rigid bodies of arbitrary geometry
                Unified Particle Physics for Real-Time Applications http://blog.mmacklin.com/project/flex/
                    Bunnies parachute into a pool of water. 
                    Cloth, rigid bodies and fluids coupled through constraints interact seamlessly in our  framework. 
                    Unified Particle Physics
                    Unified Particle Physics for Real-Time Applications
                    * treat contact and collisions in a unified manner
                    * model gases, liquids, deformable solids, rigid bodies and clothing with two-way interactions are modeled with particles and constrains between them 
                    parallel constraint solver based on position based dynamics that is efficient enough for real-time applications.
                    SIGGRAPH 2014
                    Creates redundant work 
                    Everything is a set of particles connected  by constraints
                    recreate these packages in real-time 
                    Melting, phase-changes 
                    Position-Based Dynamics
                    Using particles connected by constraints as our fundamental  building block allows us to treat contact and collisions in a unified  manner
                    +https://d2f99xq7vri1nk.cloudfront.net/legacy_app_files/pdf/nucleus.pdf
                    +https://matthias-research.github.io/pages/publications/posBasedDyn.pdf
            // fluid sim
                https://cg.informatik.uni-freiburg.de/intern/seminar/gridFluids_GPU_Gems.pdf
                https://cg.informatik.uni-freiburg.de/publications/2014_EG_SPH_STAR.pdf
                https://cg.informatik.uni-freiburg.de/
                https://ge.in.tum.de/publications/2017-sig-um/
                Perceptual Evaluation of Liquid Simulation Methods
                    https://ge.in.tum.de/publications/2017-sig-um/
                    visual accuracy metric
                    perceptual evaluation, liquid simulation
                    smoothed particle hydrodynamics
                    suitable one among various methods for a given task
                    This paper targets numerical simulations of liquids
                Versatile Rigid-Fluid Coupling for Incompressible SPH
                    https://cg.informatik.uni-freiburg.de/publications/2012_SIGGRAPH_rigidFluidCoupling.pdf
                Infinite Continuous Adaptivity for Incompressible SPH
                    http://s2017.siggraph.org/sites/default/files/firstpages_part_08.pdf
                SPH Fluids in Computer Graphics
                    https://cg.informatik.uni-freiburg.de/publications/2014_EG_SPH_STAR.pdf      
                Fluids in Games
                    https://www.cs.ubc.ca/~rbridson/fluidsimulation/
                http://physbam.stanford.edu/~fedkiw/
            // cloth sim 
                http://www-labs.iro.umontreal.ca/~bernhard/PDF/Thomasze08Asynchronous.pdf
                View-Dependent Adaptive Cloth Simulation http://graphics.berkeley.edu/papers/Koh-VDA-2014-07/
                    Given a prescribed camera motion, the method adjusts the criteria controlling refinement to account  for visibility and apparent size in the camera’s view
                    dynamically adaptive mesh refinement
                    coarsening
                    camera’s view frustum
                    Characters completely outside the view frustum are simulated at very low  resolution
                    a simple way of  achieving computational savings for cloth simulation
                    The main limitation of our method is that it requires an  adaptive framework
                    We also believe that our approach would scale very  well to massive scenes with thousands of actors,
                    scale very well
                    where it  would produce even larger savings.
                    there would be additional challenges in applying it to interactive animation.
                    it may not be possible to apply it in interactive settings  where camera motions are not predetermined.
                    virtual characters wearing simulated clothing is now widespread
                    cloth simulation remains  computationally expensive
                    fine details will not be visible to the viewer and  work spent computing those details is wasted
                    For closeup shots where only part of a character  is in frame 
            // smoke sim 
                https://www.diva-portal.org/smash/get/diva2:676008/FULLTEXT01.pdf
                Visual Simulation of Smoke
                    http://physbam.stanford.edu/~fedkiw/papers/stanford2001-01.pdf
            // fire sim 
                Animating Fire with Sound https://research.cs.cornell.edu/Sound/fire/ https://research.cs.cornell.edu/Sound/fire/FireSound2011.pdf 
                    Not necessarily physically accurate!
                    a large artistic component
                    visual effects
                    5 Tips For Good Looking Fluid Sims
                    Used in Harry Potter film
                    Our method produces the familiar sound of roaring flames synchronized with an 
                        underlying low-frequency  physically based flame simulation
                    Additional mid- to high-frequency sound content is synthesized using methods based on spectral bandwidth  extension
                    synthesizing plausible fire  sounds that are synchronized with physically based fire animations
                    combustion sounds
                    data-driven  texture synthesis to synthesize high-frequency content based on input flame sound recordings
                https://on-demand.gputechconf.com/gtc/2012/presentations/S0102-Flame-on-RT-Fire-Simulation-for-Video-Games.pdf
            // Magnetic sim 
                http://www.dartmouth.edu/~boolzhu/papers/ferrofluid.pdf
            // spec. materials sim 
                http://tiantianliu.cn/papers/liu17quasi/liu17quasi.html
                Visual Simulation of Weathering By γ-ton Tracing 
                    https://www.microsoft.com/en-us/research/publication/visual-simulation-of-weathering-by-%CE%B3-ton-tracing/
                    https://www.microsoft.com/en-us/research/wp-content/uploads/2016/02/gamma_ton.pdf
                    A weathering sequence generated by our system
                    this paper presents a visual  simulation technique 
                        that works well for a wide variety of weathering phenomena
            // rendering and brdf, ray sim 
                bsdf 
                    https://diglib.eg.org/bitstream/handle/10.2312/egs20011003/short16.pdf?sequence=1&isAllowed=y
                    https://zhuanlan.zhihu.com/p/60977923
                    https://zhuanlan.zhihu.com/p/21376124
                    https://dspace5.zcu.cz/bitstream/11025/11214/1/Lazanyi.pdf
                    https://rgl.epfl.ch/publications
                    https://www.mpi-inf.mpg.de/departments/computer-graphics/publications
                    https://dl.acm.org/doi/pdf/10.1145/1572769.1572783
                    http://graphics.ucsd.edu/~henrik/papers/fur_bssrdf.pdf
                    http://www.apsipa.org/proceedings_2013/papers/380_A-Datadriven-Song-2943205.pdf
                    https://web.cs.wpi.edu/~matt/courses/cs563/talks/radiosity.html
                    https://www1.cs.columbia.edu/CAVE/publications/pdfs/Oren_SIGGRAPH94.pdf
                    https://web.cs.wpi.edu/~emmanuel/courses/cs563/write_ups/chuckm/chuckm_BRDFs_overview.html#:~:text=The%20BRDF%2C%20referred%20to%20as,point%20P%20on%20the%20surface.
                    http://www.thetenthplanet.de/archives/255
                    https://digibug.ugr.es/bitstream/handle/10481/19751/rmontes_LSI-2012-001TR.pdf;jsessionid=97878771AD4E28B65B909823A8B0C1F2?sequence=1
                    https://www.cs.drexel.edu/~david/Classes/CS431/Lectures/BRDF.pdf
                    https://dl.acm.org/doi/pdf/10.1145/300776.300778
                    https://cg.cs.uni-bonn.de/de/projekte/btfdbb/
                    http://library.utia.cas.cz/separaty/2009/RO/filip-bidirectional%20texture%20function%20modeling%20state%20of%20the%20art%20survey.pdf
                    https://graphics.stanford.edu/papers/bssrdf/bssrdf.pdf
                    https://cgl.ethz.ch/publications/papers/papers.php
                    A Radiosity  Method for Non-Diffuse Environments
                    https://cg.cs.uni-bonn.de/de/projekte/btfdbb/
                        +https://cg.cs.uni-bonn.de/aigaion2root/attachments/sattler-2003-efficient.pdf
                classical GI 
                    Robust Monte Carlo Methods for Light Transport Simulation
                        http://graphics.stanford.edu/papers/veach_thesis
                    bidirectional path tracing  
                        https://graphics.cs.kuleuven.be/publications/BDPT/BDPT_paper.pdf
                        ined as a generalisation of the wellknown path tracing algo
                        forms signicantly better for typical indoor scenes where indirect lighting  is imp
                        RELATED WORK  An important milestone in the development  of the global illumination theory for computer  graphics was the introduction of the radios  ity method 
                        is based on the e
                        s the scene to be discretised into patches  or elements and as such it is a nit
                        ele  ment method The radiosity solution i
                        ce from the viewpoint  In Ka jiya  Ka jiya presented 
                        ender  ing equation and introduced path tracing as  a Monte Car
                        Cook et al  Shirley Monte Carlo techniques are ca  pable of handling the most general class of  lighting e	ects but are
                        hit  points on the respective particle paths are  then connected using shadow rays 
                            and the  appropriate contributions are added to the    ux of the pix
                        +https://www.cg.tuwien.ac.at/research/publications/2017/dodik-2017-pcbpt/
                    Global Illumination using Photon Maps 
                        http://graphics.ucsd.edu/~henrik/papers/ewr7/global_illumination_using_photon_maps_egwr96.pdf
                        http://graphics.ucsd.edu/~henrik/papers/photon_map/
                        It represents a significant improvement of a previously described  approach both with respect to speed, accuracy and versatility
                        packets of energy (photons)
                        one high  resolution caustics photon map to render caustics
                        distribution ray tracing algorithm
                        radiosity has been extended with directional capabilities
                        qq what is a radiosity algorithm? 
                            radiosity is an application of the finite element method to solving the rendering equation 
                                for scenes with surfaces that reflect light diffusely.
                            Unlike rendering methods that use Monte Carlo algorithms (such as path tracing), 
                                which handle all types of light paths, typical radiosity only account for paths 
                                    (represented by the code "LD*E") 
                            Radiosity is a global illumination algorithm in the sense that the illumination 
                                arriving on a surface comes not just directly from the light sources, 
                                    but also from other surfaces reflecting light. 
                            Radiosity is viewpoint independent
                            the scene can be baked
                            linear system can be driven 
                        qq which three classes of gi algorithms are there? 
                            * radiosity implementations and ray tracing implementations before cache based imp. 
                        which increases the calculations involved
                        Radiosity methods were first developed in about 1950 in the engineering field of heat transfer. 
                        Notable commercial radiosity engines are Enlighten by Geomerics
                        accounted for diffuse indirect lighting.
                        In this context, radiosity is the total radiative flux (both reflected and re-radiated) leaving a surface
                        as radiant exitance.
                        Calculation of radiosity, rather than surface temperatures, is a key aspect of the radiosity method that permits linear matrix methods to be applied to the problem.
                        multiple bounces are computed
                        Individual patches are visible as squares on the walls and floor.
                        lends an added element of realism to the finished scene
                        mimics real-world phenomena
                        Consider a simple room scene.
                        Difference between standard direct illumination without shadow umbra, and radiosity with shadow umbra
                        subtle lighting effects are noticeable around the room
                        bled onto the grey walls
                        model soft indirect illumination
                        radiosity algorithm is performed on a simple geometric approximation of the original model.
                        a two pass method in which we simplify the representation  of the illumination instead of simplifying the geometry
                        we store incoming flux (photons)
                        The use of photons allows us to estimate surface radiance at surfaces with  arbitrary BRDF’s
                        situations where we need an accurate  computation and situations in which an approximate estimate can be applied
                        For highly glossy surfaces  we do however trace additional sample rays since reasonable radiance estimates  for these surfaces require a large number of photons.
                        using a separate caustics photon map which has a high  density of photons.
                        The caustics photon map is used only to store  photons corresponding to caustics
                        created by emitting photons towards the  specular objects in the scene and storing these as they hit diffuse surfaces.
                        this requires a high density of photons.
                        The global photon map is used as a rough approximation of the light/flux within  the scene
                        and at the following intersection points  we store shadow photons.
                        improved both the speed,  reduced the memory requirements and improved the accuracy of the method
                        The photons are stored in a balanced kd-tree
                        The fact that the tree is balanced guarantees that the time it  takes to locate M photons in a tree with N photons is O(M · log2(N))
                        The final image is rendered using Monte Carlo ray tracing
                        while the specular part are highly glossy and ideal specular reflection  models 
                        Lr, depends on the radiance values in the rest of the scene and it can  be solved directly using Monte Carlo techniques like path tracing.
                        We distinguish between two different evaluations of the integrals: An accurate and  an approximate
                        (it contributes only  little to the pixel radiance
                        The approximate evaluation is simply the radiance estimate obtained from the  global photon map
                        qq how can be evaluate the direct illumination part in both cases? approximate and accurate
                            * The rendering equation (1) can be split into a sum of several components.
                                and the reflection part can be splited to four parts
                                    the method used to evaluate each part depends on wheather we want to evaluate it in accurate 
                                        way or approximate take a look at the direct light part, 
                                            radiance estimate can be taken directly from global photon map(approximation ) or 
                                                perform light source evaluations! 
                        qq how can evaluate Caustics part of the reflected integral? 
                            represents caustics on diffuse and slightly glossy surfaces
                            evaluate this term using the information in the caustics photon map
                            the radiance estimate based on the caustics photon map is visualized directly
                            number of photons in the caustics photon map must be high.
                        The information in the photon map can be used to compute the radiance leaving a
                            surface in a given direction
                        An alternative could be using a sphere of a fixed size and use all the photons  within this sphere
                        considered a number of adaptive strategies for computing the necessary size of the  sphere based on the local photon density.
                        cone-filter to the estimate.
                        too low the radiance estimation  strategy can give blurry results.
                        a general two-pass global illumination method
                        Comparisons  with existing global illumination techniques indicate that 
                            the photon map provides an efficient environment for global illumination.
                        qq the photon map structure is completely separated from the geometric representation? how to understand this?
                        The photon map code can be provided in a separate module that contains the necessary 
                            functions (e.g. a function that given a position and a surface definition returns the  
                            radiance in a given direction).
                        Schlick’s reflection model
                        colour bleeding effect between the walls
                        metallic teapot
                        using Ward’s anisotropic model
                    Metropolis Light Transport
                        https://graphics.stanford.edu/papers/metro/metro.pdf
                    Progressive Photon Mapping
                        https://www.ci.i.u-tokyo.ac.jp/~hachisuka/ppm.pdf
                        This type of illumination is difficult  to simulate with Monte Carlo ray tracing methods such as path tracing, 
                        qq three main types of GI? 
                            radiosity methods, Monte Carlo ray tracing methods, cache based methods 
                            Monte Carlo ray tracing methods includes: path tracing, bidirectional path tracing, and Metropolis light transport.
                        Photon mapping is significantly better at capturing the caustics lighting seen through the lamp
                            it is cache based method! 
                        qq what is the prob. of this pic? it lacks the fine detail in the  illumination
                        Sampling and  Reconstruction, Density Estimation 
                        algorithms based on Monte Carlo ray tracing are  capable of solving the rendering equation without any approximations [Dutre et al. 2006].
                        light being transported along a specular to diffuse to  specular path (SDS path) before being seen by the eye
                        this type of illumination is very common. 
                        unbiased Monte Carlo ray tracing methods such as path tracing
                        Progressive photon mapping uses multiple photon tracing steps to compute an 
                            accurate solution without maintaining  every photons from each iteration.
                        qq what is the biggest advantage of progressive photon mapping?? 
                            * Arbitry accuracy can be achieved by a limited memory consumption, when it compared to traditional photon mapping methods 
                            Each photon tracing pass results in an increasingly accurate global illumination  solution
                            any desired accuracy can be reached using a limited amount of memory. 
                        qq what is Progressive Radiance Estimate
                        To address the shortcomings of BDPT Veach and Guibas [1997]  proposed the Metropolis light transport algorithm
                        qq In MLT,  each path is generated based on?
                            the mutation (perturbation) of a  previous path. 
                        illumination coming through a slight opening of  door.
                        such paths are difficult to generate by mutating existing paths.
                        improvement to MLT called Energy Redistribution Path Tracing (ERPT)
                        it shares the same weakness in the context of mirror reflections of caustics.
                        Path  space is the space of all possible light transport paths in a scene
                        Note that path tracing, BDPT, MLT,  ERPT and PMC-ER are all unbiased path-space based methods
                        Photon mapping is a two-pass global illumination algorithm developed by Jensen [1996].
                        two-pass global illumination algorithm
                        qq what is nearest  neighbor density estimation
                        qq why the density estimation process  can be considered as a way of loosely 
                            > connecting paths from the  eye to the light? 
                        photon mapping is very effective at rendering SDS  paths
                        qq the final quality of PM is often limited by?
                            the maximum number of photons
                        Havran et al. introduced the concept of reverse photon mapping [Havran et al. 2005].
                        ray tracing in the first pass and photon tracing in the second pass.
                        The motivation for this approach is to reduce  the complexity and improve the performance of photon mapping  
                            when a large number of rays
                        adaptive image filtering  algorithm
                        Our method also uses the number of photons to reduce the search radius of the radiance  estimate
                        With progressive photon mapping we can use an unlimited number of photons, since we do not need to store all the photons  and we retain all the advantages of the standard photon mapping  method
                        being able to handle non-Lambertian surfaces.
                        a new radiance estimate
                        radius update
                        qq two conditions to ensure the convergence of the PM method? 
                            use an infinite number of photons in the photon map
                            the radius should converge to zero. 
                        obtain a solution with arbitrary precision
                        Photon mapping with 20 million photons results in a noisy and blurry image
                    Stochastic Progressive Photon Mapping
                        https://www.ci.i.u-tokyo.ac.jp/~hachisuka/sppm.pdf	
                        Progressive photon mapping [Hachisuka et al. 2008] removed the  memory bound of photon mapping, 
                            which makes the results converge to the correct solutions 
                                (i.e., bias goes to zero in the limit).
                        * bias goes to zero in the limit
                        The application of Markov Chain Monte Carlo have been shown to  improve the efficiency of the path construction
                        progressive refinement of photon statistics  at a point where the radiance value is computed
                        a new progressive  density estimation technique. P
                        with bounded memory  consumption
                        still retains the robustness of photon mapping
                        improves its robustness to an even wider class of scene settings.
                        We are not aware of existing work in density estimation literatures outside graphics
                        Time dependent photon mapping [Cammarano and Jensen 2002]
                        qq how can we model motion blur and depth of field in GI algos? x2 
                            motion blur requires computing the average  radiance value over a 
                            visible part of a scene for a given shutter time,  
                            and depth-of-field needs the average radiance value over a part of  scene that is visible through a lens
                        the original progressive radiance estimate is restricted to computing  the correct radiance value at a point ~x.
                        shared statistics over a region that we would like  to compute the average radiance value for
                        over the region
                        Figure 2 summarizes the difference between the algorithms of progressive photon  mapping and our algorithm
                        the modification is simple
                        In order to explain our new formulation
                    Progressive Photon Mapping: A Probabilistic Approach
                        https://www.cs.umd.edu/~zwicker/publications/PPMProbabilistic-TOG11.pdf
                        main contribution: proof of convergence
                    Adaptive Progressive Photon Mapping
                        https://cg.ivd.kit.edu/publications/p2012/APPM_Kaplanyan_2012/APPM_Kaplanyan_2012.pdf
                    Fast Final Gathering via Reverse Photon Mapping
                        http://people.mpi-inf.mpg.de/alumni/d4/2016/rherzog/Papers/reversePMeg05.pdf
                    Light Transport Simulation with Vertex Connection and Merging
                        https://cgg.mff.cuni.cz/~jaroslav/papers/2012-vcm/2012-vcm-paper.pdf
                        main idea: combine bpt and sppm with help of MIS 
                    Unifying points, beams, and paths in volumetric light transport simulation
                        http://www.smallupbp.com/
                fancy renderer 
                    voxel-cone-tracing
                        https://research.nvidia.com/publication/interactive-indirect-illumination-using-voxel-cone-tracing
                            Voxel Cone Tracing
                            realistic image synthesis
                            Indirect illumination
                            off-line computation and pre-baking can be acceptable
                            many applications (games, simulators, etc.) require real-time or interactive approaches
                            evaluate indirect illumination
                            costly precomputation
                            voxel octree representation generated and updated on the fly from a regular 
                                scene mesh coupled with an approximate voxel cone tracing
                            scene-independent performance and can handle complex scenes with dynamic content
                            integration of 2-bounce illumination
                            drastically improves the realism of a rendered scene
                            complex scenes are challenging  to illuminate
                            qq Global illumination is computationally expensive for several  reasons?
                                computing visibility between arbitrary  points in the 3D scene, which is difficult with rasterization  based rendering
                                it requires integrating lighting information over a large number of directions for each shaded  point.
                            millions of triangles
                            We reach real-time frame rates even for highly  detailed environments and 
                                produce plausible indirect illumination (see Teaser).
                            Teaser
                            pre-filtered hierarchical voxel representation of the scene geometry
                            stored on the GPU in the  form of a dynamic sparse voxel octree
                            efficiently exploits the GPU rasterization pipeline.
                            d is then updated interactively  with moving objects
                            dynamic modifications
                            The main contributions of our work are the following
                            a fast GPU-based mesh  voxelization and octree-building algorithm
                            An efficient approximate cone-tracing integration
                            supports diffuse and glossy reflections
                            Recent GPU  implementations of photon mapping [Hac05,WZPB09] use  clustering and exploit the spatial coherence of illumination
                            High-Quality  Global Illumination Rendering Using Rasterization
                            can be seen in the accompanying video
                            But this solution is not fast enough to  provide real-time performances
                            sparse voxel  octree structure storing geometry and direct lighting information
                            pp can not classified properly
                        https://www.eecs.yorku.ca/~amana/research/cones.pdf
                            Global illumination using photon maps
                            anti-aliasing
                            image synthesis
                            what level of detail is  sufficient in a texture map or in a procedural or  hierarchical model of an object when ray tracing
                            exploit  area-sampling techniques to avoid aliasing artifacts
                            not enough information associated with the ray to perform anti-aliasing 
                            There is no way of  knowing or calculating what else is visible in the  neighborhood surrounding the sample point
                            The only way to anti-alias within standard  ray tracing is to go to higher resolution. Whitted  proposed adaptive supersampling and it is now  almost universally used
                            to modify the definition of  "ray"
                            The pixel should represent not a point but  an area of the screen
                            pyramid with the apex  at the eye and the base defined by the four planes  that cut the borders of the pixel
                            only one ray per pixel is  sufficient regardless of scene complexity.
                            Voxel Cone Tracing
                    modern GPU rasterization pipeline acceleration
                        http://www.jp.square-enix.com/tech/library/pdf/Real-Time%20Bidirectional%20Path%20Tracing%20via%20Rasterization%20(preprint).pdf
                            perceptually important for interactive applications such as video games, lighting design or virtual  reality systems. 
                            high rendering cost.
                            Many techniques including shaders have been developed  for rasterization pipeline
                            on a modern  commodity GPU
                            Monte Carlo  integration to calculate indirect illumination
                            This paper proposes a new real-time rendering system
                            an approximate  bidirectional path tracing in a simplistic way.
                            implemented with a modern GPU rasterization
                            Global ray-bundles were often used for off-line rendering  to accelerate visibility test.
                            Global Ray-Bundles
                            we create global ray-bundles using per  pixel linked-list construction on a DirectX 11 GPU
                            Real-Time Bidirectional Path Tracing via Rasterization
                    Efficient Simulation of Light Transport in Scenes with Participating Media using Photon Maps, Henrik Wann Jensen
                        http://graphics.ucsd.edu/~henrik/papers/sig98.html 
                        http://citeseerx.ist.psu.edu/viewdoc/download?doi=10.1.1.118.6575&rep=rep1&type=pdf
                    Fast, Flexible, Physically-Based Volumetric Light Scattering
                        https://developer.nvidia.com/sites/default/files/akamai/gameworks/downloads/papers/NVVL/Fast_Flexible_Physically-Based_Volumetric_Light_Scattering.pdf
                    A Practical Analytic Single Scattering Model for Real Time Rendering
                        https://cseweb.ucsd.edu/~ravir/papers/singlescat/scattering.pdf
                    EFFICIENTLY RENDERING SHADOWS USING THE PHOTON MAP
                        https://citeseerx.ist.psu.edu/viewdoc/download?doi=10.1.1.47.2582&rep=rep1&type=pdf
                    Efficient Caustic Rendering with Lightweight Photon Mapping
                        https://graphics.cg.uni-saarland.de/papers/grittmann-2018-lwpm-paper.pdf
                    https://www.ci.i.u-tokyo.ac.jp/~hachisuka/mmlt.pdf
                    https://developer.download.nvidia.com/SDK/10.5/direct3d/Source/ScreenSpaceAO/doc/ScreenSpaceAO.pdf
        // non-papers 
            vector calculus 
            functional analysis 
            computational mechanics
            computational fluids  
            黎曼求解器
            矩阵论 
            Newtonian Physics
            meta ball 
            level set method, heat diffusion 
            reconstruction methods 
            photon mapping papers 
            MLT paper and more recently/ advanced technique 
            position estimation methods  MCMC 
            recent realistic rendering papers 
                sppm/ ppm/ pm/ ... advanced methods  
                vcm/ 
            渲染材质
            icp algos 
            https://www.cs.cmu.edu/~baraff/sigcourse/
            https://box2d.org/files/ErinCatto_SequentialImpulses_GDC2006.pdf
            Symplectic integrator
                https://www.av8n.com/physics/symplectic-integrator.htm
            continuity equation 
                https://en.wikipedia.org/wiki/Continuity_equation#Definition_of_flux
                https://en.wikipedia.org/wiki/Navier%E2%80%93Stokes_equations
                later   
            Vector operator and vector calculus
                include the gradient, divergence, and curl:
                https://mathinsight.org/divergence_curl_examples
                http://tutorial.math.lamar.edu/Classes/CalcIII/CurlDivergence.aspx
                http://blog.sina.com.cn/s/blog_4d0723b301017ivo.html
                向量还是标量？ 
                http://www.ittc.ku.edu/~jstiles/220/handouts/The%20Curl%20of%20a%20Conservative%20Field.pdf
                http://www.home.uni-osnabrueck.de/mfrankland/Math241/Math241_165_ConservativeR3.pdf
            http://www.pbr-book.org/3ed-2018/Light_Transport_III_Bidirectional_Methods/Metropolis_Light_Transport.html
            https://en.wikipedia.org/wiki/Z-order_curve
            https://en.wikipedia.org/wiki/Tensor_algebra#Coalgebra
            https://en.wikipedia.org/wiki/Talk%3ADyadic_product
            https://people.math.ethz.ch/~salamon/PREPRINTS/funcana.pdf
            http://ramanujan.math.trinity.edu/wtrench/texts/TRENCH_LAGRANGE_METHOD.PDF
            https://www.whitman.edu/mathematics/multivariable/multivariable_16_Vector_Calculus.pdf
            https://www.math.ust.hk/~machas/vector-calculus-for-engineers.pdf
            http://www.mecmath.net/calc3book.pdf
            https://www.math.uwaterloo.ca/~hwolkowi/matrixcookbook.pdf
            https://ccrma.stanford.edu/~dattorro/matrixcalc.pdf
            http://www.doc.ic.ac.uk/~ahanda/referencepdfs/MatrixCalculus.pdf
            http://www.ams.sunysb.edu/~zhu/ams571/matrixvector.pdf
            http://www.personal.rdg.ac.uk/~sis01xh/teaching/CY4C9/ANN3.pdf
            http://personal.lse.ac.uk/sasane/ma412.pdf    
    ---re-考试复习
        注意事项
            带证件
            考前保持清醒，注意饮食作息：
                在家吃饭，超市买一些红牛，早睡早起
            考前保持规律复习，从不同的角度复习效果更好，lower variance
        复习过程
            前期阶段：解决所有问题，形成问题列表。
                想象自己是讲师，不断重复讲解，深化知识点
                背的时候不停回看， 这样背诵效率最高，不要怕麻烦
                把困难的任务先完成，不要退缩
            后期重复，最后几天每日iter: 1h，每日至少5h
                //
                    刷基础，顺序刷，随机刷
                    刷错误，经常错的问题反复训练 tobere
                //
                    刷意识，加快反应速度，顺序，FULL
                    刷口语，完全用语言描述, FULL
                //
                    刷扩展，论文阅读计算, HUGE 
                    刷讲解，active mode
                ...